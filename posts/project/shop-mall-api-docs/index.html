<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>电商后台管理系统后端api接口文档 | 隶笔难书</title>
<meta name=keywords content="Project"><meta name=description content="一、API V2 接口说明


接口基准地址：http://www.tangxiaoyang.vip:8888/api/v2/


服务端已开启 CORS 跨域支持


API V2 认证统一使用 Token 认证"><meta name=author content><link rel=canonical href=https://waite.wang/posts/project/shop-mall-api-docs/><link crossorigin=anonymous href=/assets/css/stylesheet.4d386d8a1074981dc803ec359958d7bc63d243e7fe69c3e70a82b6b7bc3457b2.css integrity="sha256-TThtihB0mB3IA+w1mVjXvGPSQ+f+acPnCoK2t7w0V7I=" rel="preload stylesheet" as=style><link rel=icon href=https://waite.wang/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://waite.wang/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://waite.wang/favicon-32x32.png><link rel=apple-touch-icon href=https://waite.wang/apple-touch-icon.png><link rel=mask-icon href=https://waite.wang/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-cn href=https://waite.wang/posts/project/shop-mall-api-docs/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://waite.wang/posts/project/shop-mall-api-docs/"><meta property="og:site_name" content="隶笔难书"><meta property="og:title" content="电商后台管理系统后端api接口文档"><meta property="og:description" content="一、API V2 接口说明 接口基准地址：http://www.tangxiaoyang.vip:8888/api/v2/
服务端已开启 CORS 跨域支持
API V2 认证统一使用 Token 认证"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-04-05T16:04:23+08:00"><meta property="article:modified_time" content="2023-04-05T16:04:23+08:00"><meta property="article:tag" content="Project"><meta name=twitter:card content="summary"><meta name=twitter:title content="电商后台管理系统后端api接口文档"><meta name=twitter:description content="一、API V2 接口说明


接口基准地址：http://www.tangxiaoyang.vip:8888/api/v2/


服务端已开启 CORS 跨域支持


API V2 认证统一使用 Token 认证"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://waite.wang/posts/"},{"@type":"ListItem","position":2,"name":"电商后台管理系统后端api接口文档","item":"https://waite.wang/posts/project/shop-mall-api-docs/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"电商后台管理系统后端api接口文档","name":"电商后台管理系统后端api接口文档","description":"一、API V2 接口说明 接口基准地址：http://www.tangxiaoyang.vip:8888/api/v2/\n服务端已开启 CORS 跨域支持\nAPI V2 认证统一使用 Token 认证\n","keywords":["Project"],"articleBody":"一、API V2 接口说明 接口基准地址：http://www.tangxiaoyang.vip:8888/api/v2/\n服务端已开启 CORS 跨域支持\nAPI V2 认证统一使用 Token 认证\n需要授权的 API ，必须在请求头中使用 Authorization 字段提供 token 令牌\n使用 HTTP Status Code 标识状态\n数据返回格式统一使用 JSON\n1. 支持的请求方法 GET（SELECT）：从服务器取出资源（一项或多项）。\nPOST（CREATE）：在服务器新建一个资源。\nPUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。\nPATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。\nDELETE（DELETE）：从服务器删除资源。\nHEAD：获取资源的元数据。\nOPTIONS：获取信息，关于资源的哪些属性是客户端可以改变的。\n2. 通用返回状态说明 状态码 含义 说明 200 OK 请求成功 201 CREATED 创建成功 204 DELETED 删除成功 400 BAD REQUEST 请求的地址不存在或者包含不支持的参数 401 UNAUTHORIZED 未授权 403 FORBIDDEN 被禁止访问 404 NOT FOUND 请求的资源不存在 422 Unprocesable entity [POST/PUT/PATCH] 当创建一个对象时，发生一个验证错误 500 INTERNAL SERVER ERROR 内部错误 二、登录 1. 登录验证接口 请求路径：login\n请求方法：post\n请求参数\n参数名 参数说明 备注 username 用户名 不能为空 password 密码 不能为空 响应参数 参数名 参数说明 备注 id 用户 ID rid 用户角色 ID username 用户名 mobile 手机号 email 邮箱 token 令牌 基于 jwt 的令牌 响应数据 { \"data\": { \"id\": 500, \"rid\": 0, \"username\": \"admin\", \"mobile\": \"123\", \"email\": \"123@qq.com\", \"token\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOjUwMCwicmlkIjowLCJpYXQiOjE1MTI1NDQyOTksImV4cCI6MTUxMjYzMDY5OX0.eGrsrvwHm-tPsO9r_pxHIQ5i5L1kX9RX444uwnRGaIM\" }, \"meta\": { \"msg\": \"登录成功\", \"status\": 200 } } 三、用户管理 1. 用户数据列表 请求路径：users\n请求方法：get\n请求参数\n参数名 参数说明 备注 query 查询参数 可以为空 pagenum 当前页码 不能为空 pagesize 每页显示条数 不能为空 响应参数 参数名 参数说明 备注 total 总记录数 pagenum 当前页码 users 用户数据集合 响应数据 { \"data\": { \"total\": 5, \"pagenum\": 1, \"users\": [ { \"id\": 25, \"username\": \"tom\", \"mobile\": \"13951783475\", \"type\": 1, \"email\": \"1049901079@qq.com\", \"create_time\": \"2020-11-09T20:36:26.000Z\", \"mg_state\": true, // 当前用户的状态 \"role_name\": \"超级管理员\" } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加用户 请求路径：users\n请求方法：post\n请求参数\n参数名 参数说明 备注 username 用户名称 不能为空 password 用户密码 不能为空 email 邮箱 可以为空 mobile 手机号 可以为空 响应参数 参数名 参数说明 备注 id 用户 ID rid 用户角色 ID username 用户名 mobile 手机号 email 邮箱 响应数据 { \"data\": { \"id\": 28, \"username\": \"tom\", \"mobile\": \"test\", \"type\": 1, \"openid\": \"\", \"email\": \"test@test.com\", \"create_time\": \"2020-11-10T03:47:13.533Z\", \"modify_time\": null, \"is_delete\": false, \"is_active\": false }, \"meta\": { \"msg\": \"用户创建成功\", \"status\": 201 } } 3. 修改用户状态 请求路径：users/:uId/state/:type\n请求方法：put\n请求参数\n参数名 参数说明 备注 uId 用户 ID 不能为空携带在url中 type 用户状态 不能为空携带在url中，值为 true 或者 false 响应数据 { \"data\": { \"id\": 566, \"rid\": 30, \"username\": \"admin\", \"mobile\": \"123456\", \"email\": \"bb@itany.com\", \"mg_state\": 0 }, \"meta\": { \"msg\": \"设置状态成功\", \"status\": 200 } } 4. 根据 ID 查询用户信息 请求路径：users/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 id 用户 ID 不能为空携带在url中 响应参数 参数名 参数说明 备注 id 用户 ID role_id 角色 ID mobile 手机号 email 邮箱 响应数据 { \"data\": { \"id\": 503, \"username\": \"admin3\", \"role_id\": 0, \"mobile\": \"00000\", \"email\": \"new@new.com\" }, \"meta\": { \"msg\": \"查询成功\", \"status\": 200 } } 5. 编辑提交用户 请求路径：users/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 用户 id 不能为空 参数是url参数:id email 邮箱 可以为空 mobile 手机号 可以为空 响应参数 参数名 参数说明 备注 id 用户 ID role_id 角色 ID mobile 手机号 email 邮箱 响应数据 /* 200表示成功，500表示失败 */ { \"data\": { \"id\": 503, \"username\": \"admin3\", \"role_id\": 0, \"mobile\": \"111\", \"email\": \"123@123.com\" }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } 6. 删除单个用户 请求路径：users/:id\n请求方法：delete\n请求参数\n参数名 参数说明 备注 id 用户 id 不能为空参数是url参数:id 响应参数\n响应数据\n{ \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } 7. 分配用户角色 请求路径：users/:id/role\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 用户 ID 不能为空参数是url参数:id rid 角色 id 不能为空参数body参数 响应参数 参数名 参数说明 备注 id 用户 ID role_id 角色 ID mobile 手机号 email 邮箱 响应数据 { \"data\": { \"id\": 508, \"rid\": \"30\", \"username\": \"asdf1\", \"mobile\": \"123123\", \"email\": \"adfsa@qq.com\" }, \"meta\": { \"msg\": \"设置角色成功\", \"status\": 200 } } 四、权限管理 1. 所有权限列表 请求路径：rights/:type\n请求方法：get\n请求参数\n参数名 参数说明 备注 type 类型 值 list 或 tree , list 列表显示权限, tree 树状显示权限,参数是url参数:type 响应参数 参数名 参数说明 备注 id 权限 ID authName 权限说明 level 权限层级 pid 权限父 ID path 对应访问路径 响应数据 type=list { \"data\": [ { \"id\": 101, \"authName\": \"商品管理\", \"level\": \"0\", \"pid\": 0, \"path\": null }, { \"id\": 102, \"authName\": \"订单管理\", \"level\": \"0\", \"pid\": 0, \"path\": null } ], \"meta\": { \"msg\": \"获取权限列表成功\", \"status\": 200 } } type=tree\n{ data: [ { id: 101, authName: '商品管理', path: null, pid: 0, children: [ { id: 104, authName: '商品列表', path: null, pid: 101, children: [ { id: 105, authName: '添加商品', path: null, pid: '104,101' } ] } ] } ], meta: { msg: '获取权限列表成功', status: 200 } } 2. 左侧菜单权限 请求路径：menus\n请求方法：get\n响应数据\n{ \"data\": { \"id\": 101, \"authName\": \"商品管理\", \"path\": null, \"children\": [ { \"id\": 104, \"authName\": \"商品列表\", \"path\": null, \"children\": [] } ] } \"meta\": { \"msg\": \"获取菜单列表成功\", \"status\": 200 } } 五、角色管理 1. 角色列表 请求路径：roles\n请求方法：get\n响应数据说明\n第一层为角色信息\n第二层开始为权限说明，权限一共有 3 层权限\n最后一层权限，不包含 children 属性\n响应数据\n{ \"data\": [ { \"id\": 30, \"roleName\": \"主管\", \"roleDesc\": \"技术负责人\", \"children\": [ { \"id\": 101, \"authName\": \"商品管理\", \"path\": null, \"children\": [ { \"id\": 104, \"authName\": \"商品列表\", \"path\": null, \"children\": [ { \"id\": 105, \"authName\": \"添加商品\", \"path\": null } ] } ] } ] } ], \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加角色 请求路径：roles\n请求方法：post\n请求参数\n参数名 参数说明 备注 roleName 角色名称 不能为空 roleDesc 角色描述 可以为空 响应参数 参数名 参数说明 备注 roleId 角色 ID roleName 角色名称 roleDesc 角色描述 响应数据 { \"data\": { \"roleId\": 40, \"roleName\": \"admin2\", \"roleDesc\": \"admin2Desc\" }, \"meta\": { \"msg\": \"创建成功\", \"status\": 201 } } 3. 根据 ID 查询角色 请求路径：roles/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 :id 角色 ID 不能为空携带在url中 响应参数 参数名 参数说明 备注 roleId 角色 ID roleName 角色名称 roleDesc 角色描述 响应数据 { \"data\": { \"roleId\": 31, \"roleName\": \"测试角色\", \"roleDesc\": \"测试负责人\" }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 编辑提交角色 请求路径：roles/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 :id 角色 ID 不能为空携带在url中 roleName 角色名称 不能为空 roleDesc 角色描述 可以为空 响应数据 { \"data\": { \"roleId\": 31, \"roleName\": \"测试角色\", \"roleDesc\": \"测试角色描述\" }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 5. 删除角色 请求路径：roles/:id\n请求方法：delete\n请求参数\n参数名 参数说明 备注 :id 角色 ID 不能为空携带在url中 响应数据 { \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } 6. 角色授权 请求路径：roles/:roleId/rights\n请求方法：post\n请求参数：通过 请求体 发送给后端\n参数名 参数说明 备注 :roleId 角色 ID 不能为空携带在url中 rids 权限 ID 列表（字符串） 以 , 分割的权限 ID 列表（获取所有被选中、叶子节点的key和半选中节点的key, 包括 1，2，3级节点） 响应数据 { \"data\": null, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } 7. 删除角色指定权限 请求路径：roles/:roleId/rights/:rightId\n请求方法：delete\n请求参数 参数名 参数说明 备注 :roleId 角色 ID 不能为空携带在url中 :rightId 权限 ID 不能为空携带在url中\n响应数据说明\n返回的data, 是当前角色下最新的权限数据 响应数据\n{ \"data\": [ { \"id\": 101, \"authName\": \"商品管理\", \"path\": null, \"children\": [ { \"id\": 104, \"authName\": \"商品列表\", \"path\": null, \"children\": [ { \"id\": 105, \"authName\": \"添加商品\", \"path\": null }, { \"id\": 116, \"authName\": \"修改\", \"path\": null } ] } ] } ], \"meta\": { \"msg\": \"取消权限成功\", \"status\": 200 } } 六、商品分类管理 1. 商品分类数据列表 请求路径：categories\n请求方法：get\n请求参数\n参数名 参数说明 备注 type [1,2,3] 值：1，2，3 分别表示显示一层二层三层分类列表 【可选参数】如果不传递，则默认获取所有级别的分类 pagenum 当前页码值 【可选参数】如果不传递，则默认获取所有分类 pagesize 每页显示多少条数据 【可选参数】如果不传递，则默认获取所有分类 响应参数 参数名 参数说明 备注 cat_id 分类 ID cat_name 分类名称 cat_pid 分类父 ID cat_level 分类当前层级 响应数据 { \"data\": [ { \"cat_id\": 1, \"cat_name\": \"大家电\", \"cat_pid\": 0, \"cat_level\": 0, \"cat_deleted\": false, \"children\": [ { \"cat_id\": 3, \"cat_name\": \"电视\", \"cat_pid\": 1, \"cat_level\": 1, \"cat_deleted\": false, \"children\": [ { \"cat_id\": 6, \"cat_name\": \"曲面电视\", \"cat_pid\": 3, \"cat_level\": 2, \"cat_deleted\": false }, { \"cat_id\": 7, \"cat_name\": \"海信\", \"cat_pid\": 3, \"cat_level\": 2, \"cat_deleted\": false } ] } ] } ], \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加分类 请求路径：categories\n请求方法：post\n请求参数\n参数名 参数说明 备注 cat_pid 分类父 ID 不能为空，如果要添加一级分类，则父分类Id应该设置为 0 cat_name 分类名称 不能为空 cat_level 分类层级 不能为空，0表示一级分类；1表示二级分类；2表示三级分类 响应数据 { \"data\": { \"cat_id\": 62, \"cat_name\": \"相框\", \"cat_pid\": \"1\", \"cat_level\": \"1\" }, \"meta\": { \"msg\": \"创建成功\", \"status\": 201 } } 3. 根据 id 查询分类 请求路径：categories/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 响应数据 { \"data\": { \"cat_id\": 3, \"cat_name\": \"厨卫电器\", \"cat_pid\": 0, \"cat_level\": 0 }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 编辑提交分类 请求路径：categories/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 cat_name 分类名称 不能为空【此参数，放到请求体中】 响应数据 { \"data\": { \"cat_id\": 22, \"cat_name\": \"自拍杆\", \"cat_pid\": 7, \"cat_level\": 2 }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } 5. 删除分类 请求路径：categories/:id\n请求方法：delete\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 响应数据 { \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } 七、分类参数管理 1. 参数列表 请求路径：categories/:id/attributes\n请求方法：get\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 sel many或only 不能为空，many表示动态参数，only表示静态参数（也称为静态属性） 响应参数 参数名 参数说明 备注 attr_id 分类参数 ID attr_name 分类参数名称 cat_id 分类参数所属分类 attr_sel 分类参数的类型，many表示动态参数，only表示静态属性 attr_write list表示从列表选择（动态参数），manual表示手工录入（静态属性） attr_vals 分类参数的明细，如果是动态参数，则该值是以空格分隔的字符串 响应数据 { \"data\": [ { \"attr_id\": 1, \"attr_name\": \"cpu\", \"cat_id\": 22, \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"4K高清 5K高清 6K高清\" } ], \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加动态参数或静态属性 请求路径：categories/:id/attributes\n请求方法：post\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 attr_name 参数名称 不能为空 attr_sel many或only 不能为空 响应数据 { \"data\": { \"attr_id\": 44, \"attr_name\": \"测试参数\", \"cat_id\": \"1\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"a,b,c\" }, \"meta\": { \"msg\": \"创建成功\", \"status\": 201 } } 3. 根据 ID 查询参数 请求路径：categories/:id/attributes/:attrId\n请求方法：get\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 :attrId 属性 ID 不能为空携带在url中 attr_sel many或only 不能为空 响应数据 { \"data\": { \"attr_id\": 1, \"attr_name\": \"cpu\", \"cat_id\": 22, \"attr_sel\": \"only\", \"attr_write\": \"manual\", \"attr_vals\": \"ffff\" }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 更新参数及明细 请求路径：categories/:id/attributes/:attrId\n请求方法：put\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 :attrId 参数 ID 不能为空携带在url中 attr_name 参数名称 不能为空，携带在请求体中 attr_sel many或only 不能为空，携带在请求体中 attr_vals 参数的明细 可选参数，携带在请求体中 响应数据 { \"data\": { \"attr_id\": 9, \"attr_name\": \"测试更新\", \"cat_id\": \"43\", \"attr_sel\": \"only\", \"attr_write\": \"manual\", \"attr_vals\": \"abc\" }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } 5. 删除参数 请求路径： categories/:id/attributes/:attrid\n请求方法：delete\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 :attrid 参数 ID 不能为空携带在url中 响应数据 { \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } 八、商品管理 1. 商品列表数据 请求路径：goods\n请求方法：get\n请求参数\n参数名 参数说明 备注 query 查询参数 可以为空 pagenum 当前页码 不能为空 pagesize 每页显示条数 不能为空 响应参数 参数名 参数说明 备注 total 总共商品条数 pagenum 当前商品页数 goods_id 商品 ID goods_name 商品名称 goods_price 价格 goods_number 数量 goods_weight 重量 不能为空 goods_state 商品状态 商品状态 0: 未通过 1: 审核中 2: 已审核 add_time 添加时间 upd_time 更新时间 hot_mumber 热销品数量 is_promote 是否是热销品 响应数据 { \"data\": { \"total\": 50, \"pagenum\": \"1\", \"goods\": [ { \"goods_id\": 144, \"goods_name\": \"iphone\", \"goods_price\": 1, \"goods_number\": 1, \"goods_weight\": 1, \"goods_state\": null, \"add_time\": 1512954923, \"upd_time\": 1512954923, \"hot_mumber\": 0, \"is_promote\": false } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加商品 请求路径：goods\n请求方法：post\n请求参数\n参数名 参数说明 备注 goods_name 商品名称 不能为空 goods_cat 以,逗号分割的分类列表 不能为空 goods_price 价格 不能为空 goods_number 数量 不能为空 goods_weight 重量 不能为空 goods_introduce 介绍 可以为空 pics 上传的图片临时路径（对象） 可以为空 attrs 商品的参数（数组），包含 动态参数 和 静态属性 可以为空 请求数据 { \"goods_name\":\"test_goods_name2\", \"goods_cat\": \"1,2,3\", \"goods_price\":20, \"goods_number\":30, \"goods_weight\":40, \"goods_introduce\":\"abc\", \"pics\":[ {\"pic\":\"/tmp_uploads/30f08d52c551ecb447277eae232304b8\"} ], \"attrs\":[ { \"attr_id\":15, \"attr_value\":\"ddd\" }, { \"attr_id\":15, \"attr_value\":\"eee\" } ] } 响应参数 参数名 参数说明 备注 total 总共商品条数 pagenum 当前商品页数 goods_id 商品 ID goods_cat 以为’,‘分割的分类列表 goods_name 商品名称 goods_price 价格 goods_number 数量 goods_weight 重量 不能为空 goods_state 商品状态 商品状态 0: 未通过 1: 审核中 2: 已审核 add_time 添加时间 upd_time 更新时间 hot_mumber 热销品数量 is_promote 是否是热销品 pics 上传的图片临时路径（对象） pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图 attrs 商品的参数（数组） goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选 响应数据 { \"data\": { \"goods_id\": 145, \"goods_name\": \"test_goods_name2\", \"goods_price\": 20, \"cat_id\": 1, \"goods_number\": 30, \"goods_weight\": 40, \"goods_introduce\": \"abc\", \"goods_big_logo\": \"\", \"goods_small_logo\": \"\", \"goods_state\": 1, \"add_time\": 1512962370, \"upd_time\": 1512962370, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 397, \"goods_id\": 145, \"pics_big\": \"uploads/goodspics/big_30f08d52c551ecb447277eae232304b8\", \"pics_mid\": \"uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8\", \"pics_sma\": \"uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8\" } ], \"attrs\": [ { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"创建商品成功\", \"status\": 201 } } 3. 根据 ID 查询商品 请求路径：goods/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 响应参数 参数名 参数说明 备注 goods_id 商品 ID goods_name 商品名称 goods_price 价格 goods_number 数量 goods_weight 重量 不能为空 goods_state 商品状态 商品状态 0: 未通过 1: 审核中 2: 已审核 goods_introduce 介绍 goods_cat 以为’,‘分割的分类列表 add_time 添加时间 upd_time 更新时间 hot_mumber 热销品数量 is_promote 是否是热销品 pics 上传的图片临时路径（对象） pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图 attrs 商品的参数（数组） goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选 响应数据 { \"data\": { \"goods_id\": 145, \"goods_name\": \"test_goods_name2\", \"goods_price\": 20, \"goods_number\": 30, \"goods_weight\": 40, \"goods_introduce\": \"abc\", \"goods_big_logo\": \"\", \"goods_small_logo\": \"\", \"goods_state\": 1, \"add_time\": 1512962370, \"upd_time\": 1512962370, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 397, \"goods_id\": 145, \"pics_big\": \"uploads/goodspics/big_30f08d52c551ecb447277eae232304b8\", \"pics_mid\": \"uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8\", \"pics_sma\": \"uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8\" } ], \"attrs\": [ { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 编辑提交商品 请求路径：goods/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 goods_name 商品名称 不能为空 goods_cat 以为’,‘分割的分类列表 不能为空 goods_price 价格 不能为空 goods_number 数量 不能为空 goods_weight 重量 不能为空 goods_introduce 介绍 可以为空 pics 上传的图片临时路径（对象） 可以为空 attrs 商品的参数（数组） 可以为空 请求数据 { \"goods_name\":\"test_goods_name2\", \"goods_price\":20, \"goods_number\":30, \"goods_weight\":40, \"goods_introduce\":\"abc\", \"pics\":[ {\"pic\":\"/tmp_uploads/30f08d52c551ecb447277eae232304b8\"} ], \"attrs\":[ { \"attr_id\":15, \"attr_value\":\"ddd\" }, { \"attr_id\":15, \"attr_value\":\"eee\" } ] } 响应参数 参数名 参数说明 备注 total 总共商品条数 pagenum 当前商品页数 goods_id 商品 ID goods_name 商品名称 goods_price 价格 goods_number 数量 goods_weight 重量 不能为空 goods_state 商品状态 商品状态 0: 未通过 1: 审核中 2: 已审核 add_time 添加时间 upd_time 更新时间 hot_mumber 热销品数量 is_promote 是否是热销品 pics 上传的图片临时路径（对象） pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图 attrs 商品的参数（数组） goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选, 响应数据 { \"data\": { \"goods_id\": 145, \"goods_name\": \"test_goods_name2\", \"goods_price\": 20, \"goods_number\": 30, \"goods_weight\": 40, \"goods_introduce\": \"abc\", \"goods_big_logo\": \"\", \"goods_small_logo\": \"\", \"goods_state\": 1, \"add_time\": 1512962370, \"upd_time\": 1512962370, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 397, \"goods_id\": 145, \"pics_big\": \"uploads/goodspics/big_30f08d52c551ecb447277eae232304b8\", \"pics_mid\": \"uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8\", \"pics_sma\": \"uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8\" } ], \"attrs\": [ { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"更新商品成功\", \"status\": 200 } } 5. 删除商品 请求路径：goods/:id\n请求方法：delete\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 响应数据 { \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } ###同步商品图片\n请求路径：goods/:id/pics\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 pics 商品图片集合 如果有 pics_id 字段会保留该图片，如果没有 pics_id 但是有 pic 字段就会新生成图片数据 请求数据 ;[ { pic: 'tmp_uploads/db28f6316835836e97653b5c75e418be.png' }, { pics_id: 397, goods_id: 145, pics_big: 'uploads/goodspics/big_30f08d52c551ecb447277eae232304b8', pics_mid: 'uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8', pics_sma: 'uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8' } ] 响应数据 { \"data\": { \"goods_id\": 96, \"goods_name\": \"iphoneXX\", \"goods_price\": 2, \"goods_number\": 22, \"goods_weight\": 22, \"goods_introduce\": null, \"goods_big_logo\": \"./uploads/goods/20201113/483a3b8e99e534ec3e4312dbbaee7c9d.jpg\", \"goods_small_logo\": \"./uploads/goods/20201113/small_483a3b8e99e534ec3e4312dbbaee7c9d.jpg\", \"goods_state\": 0, \"is_del\": \"1\", \"add_time\": 1510045904, \"upd_time\": 1512635159, \"delete_time\": 1512635159, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 383, \"goods_id\": 96, \"pics_big\": \"uploads/goodspics/big_6f5750132abd3f5b2b93dd722fcde653.jpg\", \"pics_mid\": \"uploads/goodspics/mid_6f5750132abd3f5b2b93dd722fcde653.jpg\", \"pics_sma\": \"uploads/goodspics/sma_6f5750132abd3f5b2b93dd722fcde653.jpg\" } ], \"attrs\": [ { \"goods_id\": 96, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 96, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } ###同步商品属性\n请求路径：goods/:id/attributes\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 请求数据 ;[ { attr_id: 15, attr_value: 'ddd' }, { attr_id: 15, attr_value: 'eee' } ] 响应数据 { \"data\": { \"goods_id\": 96, \"goods_name\": \"iphoneXX\", \"goods_price\": 2, \"goods_number\": 22, \"goods_weight\": 22, \"goods_introduce\": null, \"goods_big_logo\": \"./uploads/goods/20201113/483a3b8e99e534ec3e4312dbbaee7c9d.jpg\", \"goods_small_logo\": \"./uploads/goods/20201113/small_483a3b8e99e534ec3e4312dbbaee7c9d.jpg\", \"goods_state\": 0, \"is_del\": \"1\", \"add_time\": 1510045904, \"upd_time\": 1512635159, \"delete_time\": 1512635159, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 383, \"goods_id\": 96, \"pics_big\": \"uploads/goodspics/big_6f5750132abd3f5b2b93dd722fcde653.jpg\", \"pics_mid\": \"uploads/goodspics/mid_6f5750132abd3f5b2b93dd722fcde653.jpg\", \"pics_sma\": \"uploads/goodspics/sma_6f5750132abd3f5b2b93dd722fcde653.jpg\" } ], \"attrs\": [ { \"goods_id\": 96, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 96, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } ###商品图片处理必须安装 GraphicsMagick\nlinux apt-get install GraphicsMagick Mac OS X brew install GraphicsMagick Windows 点击下载 6. 图片上传 请求路径：upload\n请求方法：post\n请求参数\n参数名 参数说明 备注 file 上传文件 响应数据 { \"data\": { \"tmp_path\": \"tmp_uploads/ccfc5179a914e94506bcbb7377e8985f.png\", \"url\": \"http://127.0.0.1:8888tmp_uploads/ccfc5179a914e94506bcbb7377e8985f.png\" }, \"meta\": { \"msg\": \"上传成功\", \"status\": 200 } } 九、订单管理 1. 订单数据列表 请求路径：orders\n请求方法：get\n请求参数\n参数名 参数说明 备注 query 查询参数 可以为空 pagenum 当前页码 可以为空，默认为1 pagesize 每页显示条数 可以为空，省略时返回所有订单 user_id 用户 ID 可以为空 pay_status 支付状态 可以为空 is_send 是否发货 可以为空 order_fapiao_title [‘个人’,‘公司’] 可以为空 order_fapiao_company 公司名称 可以为空 order_fapiao_content 发票内容 可以为空 consignee_addr 收货地址 可以为空 响应数据 { \"data\": { \"total\": 1, \"pagenum\": \"1\", \"goods\": [ { \"order_id\": 47, \"user_id\": 133, \"order_number\": \"59e7502d7993d\", \"order_price\": 322, \"order_pay\": \"1\", \"is_send\": \"是\", \"trade_no\": \"\", \"order_fapiao_title\": \"个人\", \"order_fapiao_company\": \"\", \"order_fapiao_content\": \"办公用品\", \"consignee_addr\": \"江苏省南京市秦淮区龙蟠中路666号\", \"pay_status\": \"1\", \"create_time\": 1508331565, \"update_time\": 1508331565 } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 修改订单状态 请求路径：orders/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 订单 ID 不能为空携带在url中 is_send 订单是否发货 1:已经发货，0:未发货 order_pay 订单支付 支付方式 0 未支付 1 支付宝 2 微信 3 银行卡 order_price 订单价格 order_number 订单数量 pay_status 支付状态 订单状态： 0 未付款、1 已付款 请求数据说明\n所有请求数据都是增量更新，如果参数不填写，就不会更新该字段 响应数据\n{ \"data\": { \"order_id\": 67, \"user_id\": 1, \"order_number\": \"itany-g7kmck71vjaujfgoi\", \"order_price\": 20, \"order_pay\": \"0\", \"is_send\": \"否\", \"trade_no\": \"\", \"order_fapiao_title\": \"个人\", \"order_fapiao_company\": \"\", \"order_fapiao_content\": \"\", \"consignee_addr\": \"\", \"pay_status\": \"0\", \"create_time\": 1512533560, \"update_time\": 1512533560, \"goods\": [ { \"id\": 82, \"order_id\": 67, \"goods_id\": 96, \"goods_price\": 333, \"goods_number\": 2, \"goods_total_price\": 999 }, { \"id\": 83, \"order_id\": 67, \"goods_id\": 95, \"goods_price\": 666, \"goods_number\": 5, \"goods_total_price\": 999 } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 3. 查看订单详情 请求路径：orders/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 id 订单 ID 不能为空携带在url中 响应数据 { \"data\": { \"order_id\": 67, \"user_id\": 1, \"order_number\": \"itany-g7kmck71vjaujfgoi\", \"order_price\": 20, \"order_pay\": \"0\", \"is_send\": \"否\", \"trade_no\": \"\", \"order_fapiao_title\": \"个人\", \"order_fapiao_company\": \"\", \"order_fapiao_content\": \"\", \"consignee_addr\": \"\", \"pay_status\": \"0\", \"create_time\": 1512533560, \"update_time\": 1512533560, \"goods\": [ { \"id\": 82, \"order_id\": 67, \"goods_id\": 96, \"goods_price\": 333, \"goods_number\": 2, \"goods_total_price\": 999 }, { \"id\": 83, \"order_id\": 67, \"goods_id\": 95, \"goods_price\": 666, \"goods_number\": 5, \"goods_total_price\": 999 } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 修改地址 请求路径：orders/:id/address\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 订单 ID 不能为空携带在url中 consignee_addr 收货地址 可以为空 响应数据 { \"data\": {}, \"meta\": { \"msg\": \"修改地址成功\", \"status\": 200 } } 5. 查看物流信息 请求路径：/kuaidi/:id\n请求方法：get\n物流单号：815294206237577\n响应数据：\n{ \"meta\":{ \"status\":200, \"message\":\"获取物流信息成功！\" }, \"data\":[ { \"time\":\"2020-11-15 12:39:56\", \"ftime\":\"2020-11-15 12:39:56\", \"context\":\"已签收,签收人是 汤小洋 先生/女士，如有疑问请联系派件员阿奇(13805148888)，如您未收到此快递，请拨打投诉电话：15294207777，感谢使用申通快递，期待再次为您服务\", \"location\":null }, { \"time\":\"2020-11-15 08:46:54\", \"ftime\":\"2020-11-15 08:46:54\", \"context\":\"上海浦东寒亭营业厅-寒亭阿奇(13805148888)-派件中\", \"location\":null }, { \"time\":\"2020-11-15 08:38:57\", \"ftime\":\"2020-11-15 08:38:57\", \"context\":\"已到达-上海浦东寒亭营业厅\", \"location\":null }, { \"time\":\"2020-11-15 06:38:13\", \"ftime\":\"2020-11-15 06:38:13\", \"context\":\"已到达-上海浦东寒亭营业厅\", \"location\":null }, { \"time\":\"2020-11-14 20:56:45\", \"ftime\":\"2020-11-14 20:56:45\", \"context\":\"上海浦东转运中心-已发往-上海浦东寒亭公司\", \"location\":null }, { \"time\":\"2020-11-14 20:52:44\", \"ftime\":\"2020-11-14 20:52:44\", \"context\":\"已到达-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 17:43:48\", \"ftime\":\"2020-11-14 17:43:48\", \"context\":\"已到达-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 10:53:46\", \"ftime\":\"2020-11-14 10:53:46\", \"context\":\"上海浦东转运中心-已发往-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 10:43:31\", \"ftime\":\"2020-11-14 10:43:31\", \"context\":\"已到达-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 02:43:20\", \"ftime\":\"2020-11-14 02:43:20\", \"context\":\"江苏苏州转运中心-已发往-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 02:41:40\", \"ftime\":\"2020-11-14 02:41:40\", \"context\":\"已到达-江苏苏州转运中心\", \"location\":null }, { \"time\":\"2020-11-13 16:28:13\", \"ftime\":\"2020-11-13 16:28:13\", \"context\":\"江苏南京转运中心-已发往-江苏苏州转运中心\", \"location\":null }, { \"time\":\"2020-11-13 15:03:30\", \"ftime\":\"2020-11-13 15:03:30\", \"context\":\"南京IT教育公司-已发往-江苏南京转运中心\", \"location\":null }, { \"time\":\"2020-11-13 14:47:56\", \"ftime\":\"2020-11-13 14:47:56\", \"context\":\"南京IT教育公司-已发往-江苏南京转运中心\", \"location\":null }, { \"time\":\"2020-11-13 14:37:06\", \"ftime\":\"2020-11-13 14:37:06\", \"context\":\"南京IT教育公司-城东汪小主宠物店-已收件\", \"location\":null } ] } 一、API V2 接口说明 接口基准地址：http://www.tangxiaoyang.vip:8888/api/v2/\n服务端已开启 CORS 跨域支持\nAPI V2 认证统一使用 Token 认证\n需要授权的 API ，必须在请求头中使用 Authorization 字段提供 token 令牌\n使用 HTTP Status Code 标识状态\n数据返回格式统一使用 JSON\n1. 支持的请求方法 GET（SELECT）：从服务器取出资源（一项或多项）。\nPOST（CREATE）：在服务器新建一个资源。\nPUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。\nPATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。\nDELETE（DELETE）：从服务器删除资源。\nHEAD：获取资源的元数据。\nOPTIONS：获取信息，关于资源的哪些属性是客户端可以改变的。\n2. 通用返回状态说明 状态码 含义 说明 200 OK 请求成功 201 CREATED 创建成功 204 DELETED 删除成功 400 BAD REQUEST 请求的地址不存在或者包含不支持的参数 401 UNAUTHORIZED 未授权 403 FORBIDDEN 被禁止访问 404 NOT FOUND 请求的资源不存在 422 Unprocesable entity [POST/PUT/PATCH] 当创建一个对象时，发生一个验证错误 500 INTERNAL SERVER ERROR 内部错误 二、登录 1. 登录验证接口 请求路径：login\n请求方法：post\n请求参数\n参数名 参数说明 备注 username 用户名 不能为空 password 密码 不能为空 响应参数 参数名 参数说明 备注 id 用户 ID rid 用户角色 ID username 用户名 mobile 手机号 email 邮箱 token 令牌 基于 jwt 的令牌 响应数据 { \"data\": { \"id\": 500, \"rid\": 0, \"username\": \"admin\", \"mobile\": \"123\", \"email\": \"123@qq.com\", \"token\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOjUwMCwicmlkIjowLCJpYXQiOjE1MTI1NDQyOTksImV4cCI6MTUxMjYzMDY5OX0.eGrsrvwHm-tPsO9r_pxHIQ5i5L1kX9RX444uwnRGaIM\" }, \"meta\": { \"msg\": \"登录成功\", \"status\": 200 } } 三、用户管理 1. 用户数据列表 请求路径：users\n请求方法：get\n请求参数\n参数名 参数说明 备注 query 查询参数 可以为空 pagenum 当前页码 不能为空 pagesize 每页显示条数 不能为空 响应参数 参数名 参数说明 备注 total 总记录数 pagenum 当前页码 users 用户数据集合 响应数据 { \"data\": { \"total\": 5, \"pagenum\": 1, \"users\": [ { \"id\": 25, \"username\": \"tom\", \"mobile\": \"13951783475\", \"type\": 1, \"email\": \"1049901079@qq.com\", \"create_time\": \"2020-11-09T20:36:26.000Z\", \"mg_state\": true, // 当前用户的状态 \"role_name\": \"超级管理员\" } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加用户 请求路径：users\n请求方法：post\n请求参数\n参数名 参数说明 备注 username 用户名称 不能为空 password 用户密码 不能为空 email 邮箱 可以为空 mobile 手机号 可以为空 响应参数 参数名 参数说明 备注 id 用户 ID rid 用户角色 ID username 用户名 mobile 手机号 email 邮箱 响应数据 { \"data\": { \"id\": 28, \"username\": \"tom\", \"mobile\": \"test\", \"type\": 1, \"openid\": \"\", \"email\": \"test@test.com\", \"create_time\": \"2020-11-10T03:47:13.533Z\", \"modify_time\": null, \"is_delete\": false, \"is_active\": false }, \"meta\": { \"msg\": \"用户创建成功\", \"status\": 201 } } 3. 修改用户状态 请求路径：users/:uId/state/:type\n请求方法：put\n请求参数\n参数名 参数说明 备注 uId 用户 ID 不能为空携带在url中 type 用户状态 不能为空携带在url中，值为 true 或者 false 响应数据 { \"data\": { \"id\": 566, \"rid\": 30, \"username\": \"admin\", \"mobile\": \"123456\", \"email\": \"bb@itany.com\", \"mg_state\": 0 }, \"meta\": { \"msg\": \"设置状态成功\", \"status\": 200 } } 4. 根据 ID 查询用户信息 请求路径：users/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 id 用户 ID 不能为空携带在url中 响应参数 参数名 参数说明 备注 id 用户 ID role_id 角色 ID mobile 手机号 email 邮箱 响应数据 { \"data\": { \"id\": 503, \"username\": \"admin3\", \"role_id\": 0, \"mobile\": \"00000\", \"email\": \"new@new.com\" }, \"meta\": { \"msg\": \"查询成功\", \"status\": 200 } } 5. 编辑提交用户 请求路径：users/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 用户 id 不能为空 参数是url参数:id email 邮箱 可以为空 mobile 手机号 可以为空 响应参数 参数名 参数说明 备注 id 用户 ID role_id 角色 ID mobile 手机号 email 邮箱 响应数据 /* 200表示成功，500表示失败 */ { \"data\": { \"id\": 503, \"username\": \"admin3\", \"role_id\": 0, \"mobile\": \"111\", \"email\": \"123@123.com\" }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } 6. 删除单个用户 请求路径：users/:id\n请求方法：delete\n请求参数\n参数名 参数说明 备注 id 用户 id 不能为空参数是url参数:id 响应参数\n响应数据\n{ \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } 7. 分配用户角色 请求路径：users/:id/role\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 用户 ID 不能为空参数是url参数:id rid 角色 id 不能为空参数body参数 响应参数 参数名 参数说明 备注 id 用户 ID role_id 角色 ID mobile 手机号 email 邮箱 响应数据 { \"data\": { \"id\": 508, \"rid\": \"30\", \"username\": \"asdf1\", \"mobile\": \"123123\", \"email\": \"adfsa@qq.com\" }, \"meta\": { \"msg\": \"设置角色成功\", \"status\": 200 } } 四、权限管理 1. 所有权限列表 请求路径：rights/:type\n请求方法：get\n请求参数\n参数名 参数说明 备注 type 类型 值 list 或 tree , list 列表显示权限, tree 树状显示权限,参数是url参数:type 响应参数 参数名 参数说明 备注 id 权限 ID authName 权限说明 level 权限层级 pid 权限父 ID path 对应访问路径 响应数据 type=list { \"data\": [ { \"id\": 101, \"authName\": \"商品管理\", \"level\": \"0\", \"pid\": 0, \"path\": null }, { \"id\": 102, \"authName\": \"订单管理\", \"level\": \"0\", \"pid\": 0, \"path\": null } ], \"meta\": { \"msg\": \"获取权限列表成功\", \"status\": 200 } } type=tree\n{ data: [ { id: 101, authName: '商品管理', path: null, pid: 0, children: [ { id: 104, authName: '商品列表', path: null, pid: 101, children: [ { id: 105, authName: '添加商品', path: null, pid: '104,101' } ] } ] } ], meta: { msg: '获取权限列表成功', status: 200 } } 2. 左侧菜单权限 请求路径：menus\n请求方法：get\n响应数据\n{ \"data\": { \"id\": 101, \"authName\": \"商品管理\", \"path\": null, \"children\": [ { \"id\": 104, \"authName\": \"商品列表\", \"path\": null, \"children\": [] } ] } \"meta\": { \"msg\": \"获取菜单列表成功\", \"status\": 200 } } 五、角色管理 1. 角色列表 请求路径：roles\n请求方法：get\n响应数据说明\n第一层为角色信息\n第二层开始为权限说明，权限一共有 3 层权限\n最后一层权限，不包含 children 属性\n响应数据\n{ \"data\": [ { \"id\": 30, \"roleName\": \"主管\", \"roleDesc\": \"技术负责人\", \"children\": [ { \"id\": 101, \"authName\": \"商品管理\", \"path\": null, \"children\": [ { \"id\": 104, \"authName\": \"商品列表\", \"path\": null, \"children\": [ { \"id\": 105, \"authName\": \"添加商品\", \"path\": null } ] } ] } ] } ], \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加角色 请求路径：roles\n请求方法：post\n请求参数\n参数名 参数说明 备注 roleName 角色名称 不能为空 roleDesc 角色描述 可以为空 响应参数 参数名 参数说明 备注 roleId 角色 ID roleName 角色名称 roleDesc 角色描述 响应数据 { \"data\": { \"roleId\": 40, \"roleName\": \"admin2\", \"roleDesc\": \"admin2Desc\" }, \"meta\": { \"msg\": \"创建成功\", \"status\": 201 } } 3. 根据 ID 查询角色 请求路径：roles/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 :id 角色 ID 不能为空携带在url中 响应参数 参数名 参数说明 备注 roleId 角色 ID roleName 角色名称 roleDesc 角色描述 响应数据 { \"data\": { \"roleId\": 31, \"roleName\": \"测试角色\", \"roleDesc\": \"测试负责人\" }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 编辑提交角色 请求路径：roles/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 :id 角色 ID 不能为空携带在url中 roleName 角色名称 不能为空 roleDesc 角色描述 可以为空 响应数据 { \"data\": { \"roleId\": 31, \"roleName\": \"测试角色\", \"roleDesc\": \"测试角色描述\" }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 5. 删除角色 请求路径：roles/:id\n请求方法：delete\n请求参数\n参数名 参数说明 备注 :id 角色 ID 不能为空携带在url中 响应数据 { \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } 6. 角色授权 请求路径：roles/:roleId/rights\n请求方法：post\n请求参数：通过 请求体 发送给后端\n参数名 参数说明 备注 :roleId 角色 ID 不能为空携带在url中 rids 权限 ID 列表（字符串） 以 , 分割的权限 ID 列表（获取所有被选中、叶子节点的key和半选中节点的key, 包括 1，2，3级节点） 响应数据 { \"data\": null, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } 7. 删除角色指定权限 请求路径：roles/:roleId/rights/:rightId\n请求方法：delete\n请求参数 参数名 参数说明 备注 :roleId 角色 ID 不能为空携带在url中 :rightId 权限 ID 不能为空携带在url中\n响应数据说明\n返回的data, 是当前角色下最新的权限数据 响应数据\n{ \"data\": [ { \"id\": 101, \"authName\": \"商品管理\", \"path\": null, \"children\": [ { \"id\": 104, \"authName\": \"商品列表\", \"path\": null, \"children\": [ { \"id\": 105, \"authName\": \"添加商品\", \"path\": null }, { \"id\": 116, \"authName\": \"修改\", \"path\": null } ] } ] } ], \"meta\": { \"msg\": \"取消权限成功\", \"status\": 200 } } 六、商品分类管理 1. 商品分类数据列表 请求路径：categories\n请求方法：get\n请求参数\n参数名 参数说明 备注 type [1,2,3] 值：1，2，3 分别表示显示一层二层三层分类列表 【可选参数】如果不传递，则默认获取所有级别的分类 pagenum 当前页码值 【可选参数】如果不传递，则默认获取所有分类 pagesize 每页显示多少条数据 【可选参数】如果不传递，则默认获取所有分类 响应参数 参数名 参数说明 备注 cat_id 分类 ID cat_name 分类名称 cat_pid 分类父 ID cat_level 分类当前层级 响应数据 { \"data\": [ { \"cat_id\": 1, \"cat_name\": \"大家电\", \"cat_pid\": 0, \"cat_level\": 0, \"cat_deleted\": false, \"children\": [ { \"cat_id\": 3, \"cat_name\": \"电视\", \"cat_pid\": 1, \"cat_level\": 1, \"cat_deleted\": false, \"children\": [ { \"cat_id\": 6, \"cat_name\": \"曲面电视\", \"cat_pid\": 3, \"cat_level\": 2, \"cat_deleted\": false }, { \"cat_id\": 7, \"cat_name\": \"海信\", \"cat_pid\": 3, \"cat_level\": 2, \"cat_deleted\": false } ] } ] } ], \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加分类 请求路径：categories\n请求方法：post\n请求参数\n参数名 参数说明 备注 cat_pid 分类父 ID 不能为空，如果要添加一级分类，则父分类Id应该设置为 0 cat_name 分类名称 不能为空 cat_level 分类层级 不能为空，0表示一级分类；1表示二级分类；2表示三级分类 响应数据 { \"data\": { \"cat_id\": 62, \"cat_name\": \"相框\", \"cat_pid\": \"1\", \"cat_level\": \"1\" }, \"meta\": { \"msg\": \"创建成功\", \"status\": 201 } } 3. 根据 id 查询分类 请求路径：categories/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 响应数据 { \"data\": { \"cat_id\": 3, \"cat_name\": \"厨卫电器\", \"cat_pid\": 0, \"cat_level\": 0 }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 编辑提交分类 请求路径：categories/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 cat_name 分类名称 不能为空【此参数，放到请求体中】 响应数据 { \"data\": { \"cat_id\": 22, \"cat_name\": \"自拍杆\", \"cat_pid\": 7, \"cat_level\": 2 }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } 5. 删除分类 请求路径：categories/:id\n请求方法：delete\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 响应数据 { \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } 七、分类参数管理 1. 参数列表 请求路径：categories/:id/attributes\n请求方法：get\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 sel many或only 不能为空，many表示动态参数，only表示静态参数（也称为静态属性） 响应参数 参数名 参数说明 备注 attr_id 分类参数 ID attr_name 分类参数名称 cat_id 分类参数所属分类 attr_sel 分类参数的类型，many表示动态参数，only表示静态属性 attr_write list表示从列表选择（动态参数），manual表示手工录入（静态属性） attr_vals 分类参数的明细，如果是动态参数，则该值是以空格分隔的字符串 响应数据 { \"data\": [ { \"attr_id\": 1, \"attr_name\": \"cpu\", \"cat_id\": 22, \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"4K高清 5K高清 6K高清\" } ], \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加动态参数或静态属性 请求路径：categories/:id/attributes\n请求方法：post\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 attr_name 参数名称 不能为空 attr_sel many或only 不能为空 响应数据 { \"data\": { \"attr_id\": 44, \"attr_name\": \"测试参数\", \"cat_id\": \"1\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"a,b,c\" }, \"meta\": { \"msg\": \"创建成功\", \"status\": 201 } } 3. 根据 ID 查询参数 请求路径：categories/:id/attributes/:attrId\n请求方法：get\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 :attrId 属性 ID 不能为空携带在url中 attr_sel many或only 不能为空 响应数据 { \"data\": { \"attr_id\": 1, \"attr_name\": \"cpu\", \"cat_id\": 22, \"attr_sel\": \"only\", \"attr_write\": \"manual\", \"attr_vals\": \"ffff\" }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 更新参数及明细 请求路径：categories/:id/attributes/:attrId\n请求方法：put\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 :attrId 参数 ID 不能为空携带在url中 attr_name 参数名称 不能为空，携带在请求体中 attr_sel many或only 不能为空，携带在请求体中 attr_vals 参数的明细 可选参数，携带在请求体中 响应数据 { \"data\": { \"attr_id\": 9, \"attr_name\": \"测试更新\", \"cat_id\": \"43\", \"attr_sel\": \"only\", \"attr_write\": \"manual\", \"attr_vals\": \"abc\" }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } 5. 删除参数 请求路径： categories/:id/attributes/:attrid\n请求方法：delete\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 :attrid 参数 ID 不能为空携带在url中 响应数据 { \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } 八、商品管理 1. 商品列表数据 请求路径：goods\n请求方法：get\n请求参数\n参数名 参数说明 备注 query 查询参数 可以为空 pagenum 当前页码 不能为空 pagesize 每页显示条数 不能为空 响应参数 参数名 参数说明 备注 total 总共商品条数 pagenum 当前商品页数 goods_id 商品 ID goods_name 商品名称 goods_price 价格 goods_number 数量 goods_weight 重量 不能为空 goods_state 商品状态 商品状态 0: 未通过 1: 审核中 2: 已审核 add_time 添加时间 upd_time 更新时间 hot_mumber 热销品数量 is_promote 是否是热销品 响应数据 { \"data\": { \"total\": 50, \"pagenum\": \"1\", \"goods\": [ { \"goods_id\": 144, \"goods_name\": \"iphone\", \"goods_price\": 1, \"goods_number\": 1, \"goods_weight\": 1, \"goods_state\": null, \"add_time\": 1512954923, \"upd_time\": 1512954923, \"hot_mumber\": 0, \"is_promote\": false } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加商品 请求路径：goods\n请求方法：post\n请求参数\n参数名 参数说明 备注 goods_name 商品名称 不能为空 goods_cat 以,逗号分割的分类列表 不能为空 goods_price 价格 不能为空 goods_number 数量 不能为空 goods_weight 重量 不能为空 goods_introduce 介绍 可以为空 pics 上传的图片临时路径（对象） 可以为空 attrs 商品的参数（数组），包含 动态参数 和 静态属性 可以为空 请求数据 { \"goods_name\":\"test_goods_name2\", \"goods_cat\": \"1,2,3\", \"goods_price\":20, \"goods_number\":30, \"goods_weight\":40, \"goods_introduce\":\"abc\", \"pics\":[ {\"pic\":\"/tmp_uploads/30f08d52c551ecb447277eae232304b8\"} ], \"attrs\":[ { \"attr_id\":15, \"attr_value\":\"ddd\" }, { \"attr_id\":15, \"attr_value\":\"eee\" } ] } 响应参数 参数名 参数说明 备注 total 总共商品条数 pagenum 当前商品页数 goods_id 商品 ID goods_cat 以为’,‘分割的分类列表 goods_name 商品名称 goods_price 价格 goods_number 数量 goods_weight 重量 不能为空 goods_state 商品状态 商品状态 0: 未通过 1: 审核中 2: 已审核 add_time 添加时间 upd_time 更新时间 hot_mumber 热销品数量 is_promote 是否是热销品 pics 上传的图片临时路径（对象） pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图 attrs 商品的参数（数组） goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选 响应数据 { \"data\": { \"goods_id\": 145, \"goods_name\": \"test_goods_name2\", \"goods_price\": 20, \"cat_id\": 1, \"goods_number\": 30, \"goods_weight\": 40, \"goods_introduce\": \"abc\", \"goods_big_logo\": \"\", \"goods_small_logo\": \"\", \"goods_state\": 1, \"add_time\": 1512962370, \"upd_time\": 1512962370, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 397, \"goods_id\": 145, \"pics_big\": \"uploads/goodspics/big_30f08d52c551ecb447277eae232304b8\", \"pics_mid\": \"uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8\", \"pics_sma\": \"uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8\" } ], \"attrs\": [ { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"创建商品成功\", \"status\": 201 } } 3. 根据 ID 查询商品 请求路径：goods/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 响应参数 参数名 参数说明 备注 goods_id 商品 ID goods_name 商品名称 goods_price 价格 goods_number 数量 goods_weight 重量 不能为空 goods_state 商品状态 商品状态 0: 未通过 1: 审核中 2: 已审核 goods_introduce 介绍 goods_cat 以为’,‘分割的分类列表 add_time 添加时间 upd_time 更新时间 hot_mumber 热销品数量 is_promote 是否是热销品 pics 上传的图片临时路径（对象） pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图 attrs 商品的参数（数组） goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选 响应数据 { \"data\": { \"goods_id\": 145, \"goods_name\": \"test_goods_name2\", \"goods_price\": 20, \"goods_number\": 30, \"goods_weight\": 40, \"goods_introduce\": \"abc\", \"goods_big_logo\": \"\", \"goods_small_logo\": \"\", \"goods_state\": 1, \"add_time\": 1512962370, \"upd_time\": 1512962370, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 397, \"goods_id\": 145, \"pics_big\": \"uploads/goodspics/big_30f08d52c551ecb447277eae232304b8\", \"pics_mid\": \"uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8\", \"pics_sma\": \"uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8\" } ], \"attrs\": [ { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 编辑提交商品 请求路径：goods/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 goods_name 商品名称 不能为空 goods_cat 以为’,‘分割的分类列表 不能为空 goods_price 价格 不能为空 goods_number 数量 不能为空 goods_weight 重量 不能为空 goods_introduce 介绍 可以为空 pics 上传的图片临时路径（对象） 可以为空 attrs 商品的参数（数组） 可以为空 请求数据 { \"goods_name\":\"test_goods_name2\", \"goods_price\":20, \"goods_number\":30, \"goods_weight\":40, \"goods_introduce\":\"abc\", \"pics\":[ {\"pic\":\"/tmp_uploads/30f08d52c551ecb447277eae232304b8\"} ], \"attrs\":[ { \"attr_id\":15, \"attr_value\":\"ddd\" }, { \"attr_id\":15, \"attr_value\":\"eee\" } ] } 响应参数 参数名 参数说明 备注 total 总共商品条数 pagenum 当前商品页数 goods_id 商品 ID goods_name 商品名称 goods_price 价格 goods_number 数量 goods_weight 重量 不能为空 goods_state 商品状态 商品状态 0: 未通过 1: 审核中 2: 已审核 add_time 添加时间 upd_time 更新时间 hot_mumber 热销品数量 is_promote 是否是热销品 pics 上传的图片临时路径（对象） pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图 attrs 商品的参数（数组） goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选, 响应数据 { \"data\": { \"goods_id\": 145, \"goods_name\": \"test_goods_name2\", \"goods_price\": 20, \"goods_number\": 30, \"goods_weight\": 40, \"goods_introduce\": \"abc\", \"goods_big_logo\": \"\", \"goods_small_logo\": \"\", \"goods_state\": 1, \"add_time\": 1512962370, \"upd_time\": 1512962370, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 397, \"goods_id\": 145, \"pics_big\": \"uploads/goodspics/big_30f08d52c551ecb447277eae232304b8\", \"pics_mid\": \"uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8\", \"pics_sma\": \"uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8\" } ], \"attrs\": [ { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"更新商品成功\", \"status\": 200 } } 5. 删除商品 请求路径：goods/:id\n请求方法：delete\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 响应数据 { \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } ###同步商品图片\n请求路径：goods/:id/pics\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 pics 商品图片集合 如果有 pics_id 字段会保留该图片，如果没有 pics_id 但是有 pic 字段就会新生成图片数据 请求数据 ;[ { pic: 'tmp_uploads/db28f6316835836e97653b5c75e418be.png' }, { pics_id: 397, goods_id: 145, pics_big: 'uploads/goodspics/big_30f08d52c551ecb447277eae232304b8', pics_mid: 'uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8', pics_sma: 'uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8' } ] 响应数据 { \"data\": { \"goods_id\": 96, \"goods_name\": \"iphoneXX\", \"goods_price\": 2, \"goods_number\": 22, \"goods_weight\": 22, \"goods_introduce\": null, \"goods_big_logo\": \"./uploads/goods/20201113/483a3b8e99e534ec3e4312dbbaee7c9d.jpg\", \"goods_small_logo\": \"./uploads/goods/20201113/small_483a3b8e99e534ec3e4312dbbaee7c9d.jpg\", \"goods_state\": 0, \"is_del\": \"1\", \"add_time\": 1510045904, \"upd_time\": 1512635159, \"delete_time\": 1512635159, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 383, \"goods_id\": 96, \"pics_big\": \"uploads/goodspics/big_6f5750132abd3f5b2b93dd722fcde653.jpg\", \"pics_mid\": \"uploads/goodspics/mid_6f5750132abd3f5b2b93dd722fcde653.jpg\", \"pics_sma\": \"uploads/goodspics/sma_6f5750132abd3f5b2b93dd722fcde653.jpg\" } ], \"attrs\": [ { \"goods_id\": 96, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 96, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } ###同步商品属性\n请求路径：goods/:id/attributes\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 请求数据 ;[ { attr_id: 15, attr_value: 'ddd' }, { attr_id: 15, attr_value: 'eee' } ] 响应数据 { \"data\": { \"goods_id\": 96, \"goods_name\": \"iphoneXX\", \"goods_price\": 2, \"goods_number\": 22, \"goods_weight\": 22, \"goods_introduce\": null, \"goods_big_logo\": \"./uploads/goods/20201113/483a3b8e99e534ec3e4312dbbaee7c9d.jpg\", \"goods_small_logo\": \"./uploads/goods/20201113/small_483a3b8e99e534ec3e4312dbbaee7c9d.jpg\", \"goods_state\": 0, \"is_del\": \"1\", \"add_time\": 1510045904, \"upd_time\": 1512635159, \"delete_time\": 1512635159, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 383, \"goods_id\": 96, \"pics_big\": \"uploads/goodspics/big_6f5750132abd3f5b2b93dd722fcde653.jpg\", \"pics_mid\": \"uploads/goodspics/mid_6f5750132abd3f5b2b93dd722fcde653.jpg\", \"pics_sma\": \"uploads/goodspics/sma_6f5750132abd3f5b2b93dd722fcde653.jpg\" } ], \"attrs\": [ { \"goods_id\": 96, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 96, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } ###商品图片处理必须安装 GraphicsMagick\nlinux apt-get install GraphicsMagick Mac OS X brew install GraphicsMagick Windows 点击下载 6. 图片上传 请求路径：upload\n请求方法：post\n请求参数\n参数名 参数说明 备注 file 上传文件 响应数据 { \"data\": { \"tmp_path\": \"tmp_uploads/ccfc5179a914e94506bcbb7377e8985f.png\", \"url\": \"http://127.0.0.1:8888tmp_uploads/ccfc5179a914e94506bcbb7377e8985f.png\" }, \"meta\": { \"msg\": \"上传成功\", \"status\": 200 } } 九、订单管理 1. 订单数据列表 请求路径：orders\n请求方法：get\n请求参数\n参数名 参数说明 备注 query 查询参数 可以为空 pagenum 当前页码 可以为空，默认为1 pagesize 每页显示条数 可以为空，省略时返回所有订单 user_id 用户 ID 可以为空 pay_status 支付状态 可以为空 is_send 是否发货 可以为空 order_fapiao_title [‘个人’,‘公司’] 可以为空 order_fapiao_company 公司名称 可以为空 order_fapiao_content 发票内容 可以为空 consignee_addr 收货地址 可以为空 响应数据 { \"data\": { \"total\": 1, \"pagenum\": \"1\", \"goods\": [ { \"order_id\": 47, \"user_id\": 133, \"order_number\": \"59e7502d7993d\", \"order_price\": 322, \"order_pay\": \"1\", \"is_send\": \"是\", \"trade_no\": \"\", \"order_fapiao_title\": \"个人\", \"order_fapiao_company\": \"\", \"order_fapiao_content\": \"办公用品\", \"consignee_addr\": \"江苏省南京市秦淮区龙蟠中路666号\", \"pay_status\": \"1\", \"create_time\": 1508331565, \"update_time\": 1508331565 } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 修改订单状态 请求路径：orders/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 订单 ID 不能为空携带在url中 is_send 订单是否发货 1:已经发货，0:未发货 order_pay 订单支付 支付方式 0 未支付 1 支付宝 2 微信 3 银行卡 order_price 订单价格 order_number 订单数量 pay_status 支付状态 订单状态： 0 未付款、1 已付款 请求数据说明\n所有请求数据都是增量更新，如果参数不填写，就不会更新该字段 响应数据\n{ \"data\": { \"order_id\": 67, \"user_id\": 1, \"order_number\": \"itany-g7kmck71vjaujfgoi\", \"order_price\": 20, \"order_pay\": \"0\", \"is_send\": \"否\", \"trade_no\": \"\", \"order_fapiao_title\": \"个人\", \"order_fapiao_company\": \"\", \"order_fapiao_content\": \"\", \"consignee_addr\": \"\", \"pay_status\": \"0\", \"create_time\": 1512533560, \"update_time\": 1512533560, \"goods\": [ { \"id\": 82, \"order_id\": 67, \"goods_id\": 96, \"goods_price\": 333, \"goods_number\": 2, \"goods_total_price\": 999 }, { \"id\": 83, \"order_id\": 67, \"goods_id\": 95, \"goods_price\": 666, \"goods_number\": 5, \"goods_total_price\": 999 } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 3. 查看订单详情 请求路径：orders/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 id 订单 ID 不能为空携带在url中 响应数据 { \"data\": { \"order_id\": 67, \"user_id\": 1, \"order_number\": \"itany-g7kmck71vjaujfgoi\", \"order_price\": 20, \"order_pay\": \"0\", \"is_send\": \"否\", \"trade_no\": \"\", \"order_fapiao_title\": \"个人\", \"order_fapiao_company\": \"\", \"order_fapiao_content\": \"\", \"consignee_addr\": \"\", \"pay_status\": \"0\", \"create_time\": 1512533560, \"update_time\": 1512533560, \"goods\": [ { \"id\": 82, \"order_id\": 67, \"goods_id\": 96, \"goods_price\": 333, \"goods_number\": 2, \"goods_total_price\": 999 }, { \"id\": 83, \"order_id\": 67, \"goods_id\": 95, \"goods_price\": 666, \"goods_number\": 5, \"goods_total_price\": 999 } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 修改地址 请求路径：orders/:id/address\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 订单 ID 不能为空携带在url中 consignee_addr 收货地址 可以为空 响应数据 { \"data\": {}, \"meta\": { \"msg\": \"修改地址成功\", \"status\": 200 } } 5. 查看物流信息 请求路径：/kuaidi/:id\n请求方法：get\n物流单号：815294206237577\n响应数据：\n{ \"meta\":{ \"status\":200, \"message\":\"获取物流信息成功！\" }, \"data\":[ { \"time\":\"2020-11-15 12:39:56\", \"ftime\":\"2020-11-15 12:39:56\", \"context\":\"已签收,签收人是 汤小洋 先生/女士，如有疑问请联系派件员阿奇(13805148888)，如您未收到此快递，请拨打投诉电话：15294207777，感谢使用申通快递，期待再次为您服务\", \"location\":null }, { \"time\":\"2020-11-15 08:46:54\", \"ftime\":\"2020-11-15 08:46:54\", \"context\":\"上海浦东寒亭营业厅-寒亭阿奇(13805148888)-派件中\", \"location\":null }, { \"time\":\"2020-11-15 08:38:57\", \"ftime\":\"2020-11-15 08:38:57\", \"context\":\"已到达-上海浦东寒亭营业厅\", \"location\":null }, { \"time\":\"2020-11-15 06:38:13\", \"ftime\":\"2020-11-15 06:38:13\", \"context\":\"已到达-上海浦东寒亭营业厅\", \"location\":null }, { \"time\":\"2020-11-14 20:56:45\", \"ftime\":\"2020-11-14 20:56:45\", \"context\":\"上海浦东转运中心-已发往-上海浦东寒亭公司\", \"location\":null }, { \"time\":\"2020-11-14 20:52:44\", \"ftime\":\"2020-11-14 20:52:44\", \"context\":\"已到达-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 17:43:48\", \"ftime\":\"2020-11-14 17:43:48\", \"context\":\"已到达-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 10:53:46\", \"ftime\":\"2020-11-14 10:53:46\", \"context\":\"上海浦东转运中心-已发往-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 10:43:31\", \"ftime\":\"2020-11-14 10:43:31\", \"context\":\"已到达-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 02:43:20\", \"ftime\":\"2020-11-14 02:43:20\", \"context\":\"江苏苏州转运中心-已发往-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 02:41:40\", \"ftime\":\"2020-11-14 02:41:40\", \"context\":\"已到达-江苏苏州转运中心\", \"location\":null }, { \"time\":\"2020-11-13 16:28:13\", \"ftime\":\"2020-11-13 16:28:13\", \"context\":\"江苏南京转运中心-已发往-江苏苏州转运中心\", \"location\":null }, { \"time\":\"2020-11-13 15:03:30\", \"ftime\":\"2020-11-13 15:03:30\", \"context\":\"南京IT教育公司-已发往-江苏南京转运中心\", \"location\":null }, { \"time\":\"2020-11-13 14:47:56\", \"ftime\":\"2020-11-13 14:47:56\", \"context\":\"南京IT教育公司-已发往-江苏南京转运中心\", \"location\":null }, { \"time\":\"2020-11-13 14:37:06\", \"ftime\":\"2020-11-13 14:37:06\", \"context\":\"南京IT教育公司-城东汪小主宠物店-已收件\", \"location\":null } ] } 一、API V2 接口说明 接口基准地址：http://www.tangxiaoyang.vip:8888/api/v2/\n服务端已开启 CORS 跨域支持\nAPI V2 认证统一使用 Token 认证\n需要授权的 API ，必须在请求头中使用 Authorization 字段提供 token 令牌\n使用 HTTP Status Code 标识状态\n数据返回格式统一使用 JSON\n1. 支持的请求方法 GET（SELECT）：从服务器取出资源（一项或多项）。\nPOST（CREATE）：在服务器新建一个资源。\nPUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。\nPATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。\nDELETE（DELETE）：从服务器删除资源。\nHEAD：获取资源的元数据。\nOPTIONS：获取信息，关于资源的哪些属性是客户端可以改变的。\n2. 通用返回状态说明 状态码 含义 说明 200 OK 请求成功 201 CREATED 创建成功 204 DELETED 删除成功 400 BAD REQUEST 请求的地址不存在或者包含不支持的参数 401 UNAUTHORIZED 未授权 403 FORBIDDEN 被禁止访问 404 NOT FOUND 请求的资源不存在 422 Unprocesable entity [POST/PUT/PATCH] 当创建一个对象时，发生一个验证错误 500 INTERNAL SERVER ERROR 内部错误 二、登录 1. 登录验证接口 请求路径：login\n请求方法：post\n请求参数\n参数名 参数说明 备注 username 用户名 不能为空 password 密码 不能为空 响应参数 参数名 参数说明 备注 id 用户 ID rid 用户角色 ID username 用户名 mobile 手机号 email 邮箱 token 令牌 基于 jwt 的令牌 响应数据 { \"data\": { \"id\": 500, \"rid\": 0, \"username\": \"admin\", \"mobile\": \"123\", \"email\": \"123@qq.com\", \"token\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOjUwMCwicmlkIjowLCJpYXQiOjE1MTI1NDQyOTksImV4cCI6MTUxMjYzMDY5OX0.eGrsrvwHm-tPsO9r_pxHIQ5i5L1kX9RX444uwnRGaIM\" }, \"meta\": { \"msg\": \"登录成功\", \"status\": 200 } } 三、用户管理 1. 用户数据列表 请求路径：users\n请求方法：get\n请求参数\n参数名 参数说明 备注 query 查询参数 可以为空 pagenum 当前页码 不能为空 pagesize 每页显示条数 不能为空 响应参数 参数名 参数说明 备注 total 总记录数 pagenum 当前页码 users 用户数据集合 响应数据 { \"data\": { \"total\": 5, \"pagenum\": 1, \"users\": [ { \"id\": 25, \"username\": \"tom\", \"mobile\": \"13951783475\", \"type\": 1, \"email\": \"1049901079@qq.com\", \"create_time\": \"2020-11-09T20:36:26.000Z\", \"mg_state\": true, // 当前用户的状态 \"role_name\": \"超级管理员\" } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加用户 请求路径：users\n请求方法：post\n请求参数\n参数名 参数说明 备注 username 用户名称 不能为空 password 用户密码 不能为空 email 邮箱 可以为空 mobile 手机号 可以为空 响应参数 参数名 参数说明 备注 id 用户 ID rid 用户角色 ID username 用户名 mobile 手机号 email 邮箱 响应数据 { \"data\": { \"id\": 28, \"username\": \"tom\", \"mobile\": \"test\", \"type\": 1, \"openid\": \"\", \"email\": \"test@test.com\", \"create_time\": \"2020-11-10T03:47:13.533Z\", \"modify_time\": null, \"is_delete\": false, \"is_active\": false }, \"meta\": { \"msg\": \"用户创建成功\", \"status\": 201 } } 3. 修改用户状态 请求路径：users/:uId/state/:type\n请求方法：put\n请求参数\n参数名 参数说明 备注 uId 用户 ID 不能为空携带在url中 type 用户状态 不能为空携带在url中，值为 true 或者 false 响应数据 { \"data\": { \"id\": 566, \"rid\": 30, \"username\": \"admin\", \"mobile\": \"123456\", \"email\": \"bb@itany.com\", \"mg_state\": 0 }, \"meta\": { \"msg\": \"设置状态成功\", \"status\": 200 } } 4. 根据 ID 查询用户信息 请求路径：users/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 id 用户 ID 不能为空携带在url中 响应参数 参数名 参数说明 备注 id 用户 ID role_id 角色 ID mobile 手机号 email 邮箱 响应数据 { \"data\": { \"id\": 503, \"username\": \"admin3\", \"role_id\": 0, \"mobile\": \"00000\", \"email\": \"new@new.com\" }, \"meta\": { \"msg\": \"查询成功\", \"status\": 200 } } 5. 编辑提交用户 请求路径：users/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 用户 id 不能为空 参数是url参数:id email 邮箱 可以为空 mobile 手机号 可以为空 响应参数 参数名 参数说明 备注 id 用户 ID role_id 角色 ID mobile 手机号 email 邮箱 响应数据 /* 200表示成功，500表示失败 */ { \"data\": { \"id\": 503, \"username\": \"admin3\", \"role_id\": 0, \"mobile\": \"111\", \"email\": \"123@123.com\" }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } 6. 删除单个用户 请求路径：users/:id\n请求方法：delete\n请求参数\n参数名 参数说明 备注 id 用户 id 不能为空参数是url参数:id 响应参数\n响应数据\n{ \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } 7. 分配用户角色 请求路径：users/:id/role\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 用户 ID 不能为空参数是url参数:id rid 角色 id 不能为空参数body参数 响应参数 参数名 参数说明 备注 id 用户 ID role_id 角色 ID mobile 手机号 email 邮箱 响应数据 { \"data\": { \"id\": 508, \"rid\": \"30\", \"username\": \"asdf1\", \"mobile\": \"123123\", \"email\": \"adfsa@qq.com\" }, \"meta\": { \"msg\": \"设置角色成功\", \"status\": 200 } } 四、权限管理 1. 所有权限列表 请求路径：rights/:type\n请求方法：get\n请求参数\n参数名 参数说明 备注 type 类型 值 list 或 tree , list 列表显示权限, tree 树状显示权限,参数是url参数:type 响应参数 参数名 参数说明 备注 id 权限 ID authName 权限说明 level 权限层级 pid 权限父 ID path 对应访问路径 响应数据 type=list { \"data\": [ { \"id\": 101, \"authName\": \"商品管理\", \"level\": \"0\", \"pid\": 0, \"path\": null }, { \"id\": 102, \"authName\": \"订单管理\", \"level\": \"0\", \"pid\": 0, \"path\": null } ], \"meta\": { \"msg\": \"获取权限列表成功\", \"status\": 200 } } type=tree\n{ data: [ { id: 101, authName: '商品管理', path: null, pid: 0, children: [ { id: 104, authName: '商品列表', path: null, pid: 101, children: [ { id: 105, authName: '添加商品', path: null, pid: '104,101' } ] } ] } ], meta: { msg: '获取权限列表成功', status: 200 } } 2. 左侧菜单权限 请求路径：menus\n请求方法：get\n响应数据\n{ \"data\": { \"id\": 101, \"authName\": \"商品管理\", \"path\": null, \"children\": [ { \"id\": 104, \"authName\": \"商品列表\", \"path\": null, \"children\": [] } ] } \"meta\": { \"msg\": \"获取菜单列表成功\", \"status\": 200 } } 五、角色管理 1. 角色列表 请求路径：roles\n请求方法：get\n响应数据说明\n第一层为角色信息\n第二层开始为权限说明，权限一共有 3 层权限\n最后一层权限，不包含 children 属性\n响应数据\n{ \"data\": [ { \"id\": 30, \"roleName\": \"主管\", \"roleDesc\": \"技术负责人\", \"children\": [ { \"id\": 101, \"authName\": \"商品管理\", \"path\": null, \"children\": [ { \"id\": 104, \"authName\": \"商品列表\", \"path\": null, \"children\": [ { \"id\": 105, \"authName\": \"添加商品\", \"path\": null } ] } ] } ] } ], \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加角色 请求路径：roles\n请求方法：post\n请求参数\n参数名 参数说明 备注 roleName 角色名称 不能为空 roleDesc 角色描述 可以为空 响应参数 参数名 参数说明 备注 roleId 角色 ID roleName 角色名称 roleDesc 角色描述 响应数据 { \"data\": { \"roleId\": 40, \"roleName\": \"admin2\", \"roleDesc\": \"admin2Desc\" }, \"meta\": { \"msg\": \"创建成功\", \"status\": 201 } } 3. 根据 ID 查询角色 请求路径：roles/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 :id 角色 ID 不能为空携带在url中 响应参数 参数名 参数说明 备注 roleId 角色 ID roleName 角色名称 roleDesc 角色描述 响应数据 { \"data\": { \"roleId\": 31, \"roleName\": \"测试角色\", \"roleDesc\": \"测试负责人\" }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 编辑提交角色 请求路径：roles/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 :id 角色 ID 不能为空携带在url中 roleName 角色名称 不能为空 roleDesc 角色描述 可以为空 响应数据 { \"data\": { \"roleId\": 31, \"roleName\": \"测试角色\", \"roleDesc\": \"测试角色描述\" }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 5. 删除角色 请求路径：roles/:id\n请求方法：delete\n请求参数\n参数名 参数说明 备注 :id 角色 ID 不能为空携带在url中 响应数据 { \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } 6. 角色授权 请求路径：roles/:roleId/rights\n请求方法：post\n请求参数：通过 请求体 发送给后端\n参数名 参数说明 备注 :roleId 角色 ID 不能为空携带在url中 rids 权限 ID 列表（字符串） 以 , 分割的权限 ID 列表（获取所有被选中、叶子节点的key和半选中节点的key, 包括 1，2，3级节点） 响应数据 { \"data\": null, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } 7. 删除角色指定权限 请求路径：roles/:roleId/rights/:rightId\n请求方法：delete\n请求参数 参数名 参数说明 备注 :roleId 角色 ID 不能为空携带在url中 :rightId 权限 ID 不能为空携带在url中\n响应数据说明\n返回的data, 是当前角色下最新的权限数据 响应数据\n{ \"data\": [ { \"id\": 101, \"authName\": \"商品管理\", \"path\": null, \"children\": [ { \"id\": 104, \"authName\": \"商品列表\", \"path\": null, \"children\": [ { \"id\": 105, \"authName\": \"添加商品\", \"path\": null }, { \"id\": 116, \"authName\": \"修改\", \"path\": null } ] } ] } ], \"meta\": { \"msg\": \"取消权限成功\", \"status\": 200 } } 六、商品分类管理 1. 商品分类数据列表 请求路径：categories\n请求方法：get\n请求参数\n参数名 参数说明 备注 type [1,2,3] 值：1，2，3 分别表示显示一层二层三层分类列表 【可选参数】如果不传递，则默认获取所有级别的分类 pagenum 当前页码值 【可选参数】如果不传递，则默认获取所有分类 pagesize 每页显示多少条数据 【可选参数】如果不传递，则默认获取所有分类 响应参数 参数名 参数说明 备注 cat_id 分类 ID cat_name 分类名称 cat_pid 分类父 ID cat_level 分类当前层级 响应数据 { \"data\": [ { \"cat_id\": 1, \"cat_name\": \"大家电\", \"cat_pid\": 0, \"cat_level\": 0, \"cat_deleted\": false, \"children\": [ { \"cat_id\": 3, \"cat_name\": \"电视\", \"cat_pid\": 1, \"cat_level\": 1, \"cat_deleted\": false, \"children\": [ { \"cat_id\": 6, \"cat_name\": \"曲面电视\", \"cat_pid\": 3, \"cat_level\": 2, \"cat_deleted\": false }, { \"cat_id\": 7, \"cat_name\": \"海信\", \"cat_pid\": 3, \"cat_level\": 2, \"cat_deleted\": false } ] } ] } ], \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加分类 请求路径：categories\n请求方法：post\n请求参数\n参数名 参数说明 备注 cat_pid 分类父 ID 不能为空，如果要添加一级分类，则父分类Id应该设置为 0 cat_name 分类名称 不能为空 cat_level 分类层级 不能为空，0表示一级分类；1表示二级分类；2表示三级分类 响应数据 { \"data\": { \"cat_id\": 62, \"cat_name\": \"相框\", \"cat_pid\": \"1\", \"cat_level\": \"1\" }, \"meta\": { \"msg\": \"创建成功\", \"status\": 201 } } 3. 根据 id 查询分类 请求路径：categories/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 响应数据 { \"data\": { \"cat_id\": 3, \"cat_name\": \"厨卫电器\", \"cat_pid\": 0, \"cat_level\": 0 }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 编辑提交分类 请求路径：categories/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 cat_name 分类名称 不能为空【此参数，放到请求体中】 响应数据 { \"data\": { \"cat_id\": 22, \"cat_name\": \"自拍杆\", \"cat_pid\": 7, \"cat_level\": 2 }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } 5. 删除分类 请求路径：categories/:id\n请求方法：delete\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 响应数据 { \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } 七、分类参数管理 1. 参数列表 请求路径：categories/:id/attributes\n请求方法：get\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 sel many或only 不能为空，many表示动态参数，only表示静态参数（也称为静态属性） 响应参数 参数名 参数说明 备注 attr_id 分类参数 ID attr_name 分类参数名称 cat_id 分类参数所属分类 attr_sel 分类参数的类型，many表示动态参数，only表示静态属性 attr_write list表示从列表选择（动态参数），manual表示手工录入（静态属性） attr_vals 分类参数的明细，如果是动态参数，则该值是以空格分隔的字符串 响应数据 { \"data\": [ { \"attr_id\": 1, \"attr_name\": \"cpu\", \"cat_id\": 22, \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"4K高清 5K高清 6K高清\" } ], \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加动态参数或静态属性 请求路径：categories/:id/attributes\n请求方法：post\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 attr_name 参数名称 不能为空 attr_sel many或only 不能为空 响应数据 { \"data\": { \"attr_id\": 44, \"attr_name\": \"测试参数\", \"cat_id\": \"1\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"a,b,c\" }, \"meta\": { \"msg\": \"创建成功\", \"status\": 201 } } 3. 根据 ID 查询参数 请求路径：categories/:id/attributes/:attrId\n请求方法：get\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 :attrId 属性 ID 不能为空携带在url中 attr_sel many或only 不能为空 响应数据 { \"data\": { \"attr_id\": 1, \"attr_name\": \"cpu\", \"cat_id\": 22, \"attr_sel\": \"only\", \"attr_write\": \"manual\", \"attr_vals\": \"ffff\" }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 更新参数及明细 请求路径：categories/:id/attributes/:attrId\n请求方法：put\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 :attrId 参数 ID 不能为空携带在url中 attr_name 参数名称 不能为空，携带在请求体中 attr_sel many或only 不能为空，携带在请求体中 attr_vals 参数的明细 可选参数，携带在请求体中 响应数据 { \"data\": { \"attr_id\": 9, \"attr_name\": \"测试更新\", \"cat_id\": \"43\", \"attr_sel\": \"only\", \"attr_write\": \"manual\", \"attr_vals\": \"abc\" }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } 5. 删除参数 请求路径： categories/:id/attributes/:attrid\n请求方法：delete\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 :attrid 参数 ID 不能为空携带在url中 响应数据 { \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } 八、商品管理 1. 商品列表数据 请求路径：goods\n请求方法：get\n请求参数\n参数名 参数说明 备注 query 查询参数 可以为空 pagenum 当前页码 不能为空 pagesize 每页显示条数 不能为空 响应参数 参数名 参数说明 备注 total 总共商品条数 pagenum 当前商品页数 goods_id 商品 ID goods_name 商品名称 goods_price 价格 goods_number 数量 goods_weight 重量 不能为空 goods_state 商品状态 商品状态 0: 未通过 1: 审核中 2: 已审核 add_time 添加时间 upd_time 更新时间 hot_mumber 热销品数量 is_promote 是否是热销品 响应数据 { \"data\": { \"total\": 50, \"pagenum\": \"1\", \"goods\": [ { \"goods_id\": 144, \"goods_name\": \"iphone\", \"goods_price\": 1, \"goods_number\": 1, \"goods_weight\": 1, \"goods_state\": null, \"add_time\": 1512954923, \"upd_time\": 1512954923, \"hot_mumber\": 0, \"is_promote\": false } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加商品 请求路径：goods\n请求方法：post\n请求参数\n参数名 参数说明 备注 goods_name 商品名称 不能为空 goods_cat 以,逗号分割的分类列表 不能为空 goods_price 价格 不能为空 goods_number 数量 不能为空 goods_weight 重量 不能为空 goods_introduce 介绍 可以为空 pics 上传的图片临时路径（对象） 可以为空 attrs 商品的参数（数组），包含 动态参数 和 静态属性 可以为空 请求数据 { \"goods_name\":\"test_goods_name2\", \"goods_cat\": \"1,2,3\", \"goods_price\":20, \"goods_number\":30, \"goods_weight\":40, \"goods_introduce\":\"abc\", \"pics\":[ {\"pic\":\"/tmp_uploads/30f08d52c551ecb447277eae232304b8\"} ], \"attrs\":[ { \"attr_id\":15, \"attr_value\":\"ddd\" }, { \"attr_id\":15, \"attr_value\":\"eee\" } ] } 响应参数 参数名 参数说明 备注 total 总共商品条数 pagenum 当前商品页数 goods_id 商品 ID goods_cat 以为’,‘分割的分类列表 goods_name 商品名称 goods_price 价格 goods_number 数量 goods_weight 重量 不能为空 goods_state 商品状态 商品状态 0: 未通过 1: 审核中 2: 已审核 add_time 添加时间 upd_time 更新时间 hot_mumber 热销品数量 is_promote 是否是热销品 pics 上传的图片临时路径（对象） pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图 attrs 商品的参数（数组） goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选 响应数据 { \"data\": { \"goods_id\": 145, \"goods_name\": \"test_goods_name2\", \"goods_price\": 20, \"cat_id\": 1, \"goods_number\": 30, \"goods_weight\": 40, \"goods_introduce\": \"abc\", \"goods_big_logo\": \"\", \"goods_small_logo\": \"\", \"goods_state\": 1, \"add_time\": 1512962370, \"upd_time\": 1512962370, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 397, \"goods_id\": 145, \"pics_big\": \"uploads/goodspics/big_30f08d52c551ecb447277eae232304b8\", \"pics_mid\": \"uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8\", \"pics_sma\": \"uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8\" } ], \"attrs\": [ { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"创建商品成功\", \"status\": 201 } } 3. 根据 ID 查询商品 请求路径：goods/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 响应参数 参数名 参数说明 备注 goods_id 商品 ID goods_name 商品名称 goods_price 价格 goods_number 数量 goods_weight 重量 不能为空 goods_state 商品状态 商品状态 0: 未通过 1: 审核中 2: 已审核 goods_introduce 介绍 goods_cat 以为’,‘分割的分类列表 add_time 添加时间 upd_time 更新时间 hot_mumber 热销品数量 is_promote 是否是热销品 pics 上传的图片临时路径（对象） pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图 attrs 商品的参数（数组） goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选 响应数据 { \"data\": { \"goods_id\": 145, \"goods_name\": \"test_goods_name2\", \"goods_price\": 20, \"goods_number\": 30, \"goods_weight\": 40, \"goods_introduce\": \"abc\", \"goods_big_logo\": \"\", \"goods_small_logo\": \"\", \"goods_state\": 1, \"add_time\": 1512962370, \"upd_time\": 1512962370, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 397, \"goods_id\": 145, \"pics_big\": \"uploads/goodspics/big_30f08d52c551ecb447277eae232304b8\", \"pics_mid\": \"uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8\", \"pics_sma\": \"uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8\" } ], \"attrs\": [ { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 编辑提交商品 请求路径：goods/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 goods_name 商品名称 不能为空 goods_cat 以为’,‘分割的分类列表 不能为空 goods_price 价格 不能为空 goods_number 数量 不能为空 goods_weight 重量 不能为空 goods_introduce 介绍 可以为空 pics 上传的图片临时路径（对象） 可以为空 attrs 商品的参数（数组） 可以为空 请求数据 { \"goods_name\":\"test_goods_name2\", \"goods_price\":20, \"goods_number\":30, \"goods_weight\":40, \"goods_introduce\":\"abc\", \"pics\":[ {\"pic\":\"/tmp_uploads/30f08d52c551ecb447277eae232304b8\"} ], \"attrs\":[ { \"attr_id\":15, \"attr_value\":\"ddd\" }, { \"attr_id\":15, \"attr_value\":\"eee\" } ] } 响应参数 参数名 参数说明 备注 total 总共商品条数 pagenum 当前商品页数 goods_id 商品 ID goods_name 商品名称 goods_price 价格 goods_number 数量 goods_weight 重量 不能为空 goods_state 商品状态 商品状态 0: 未通过 1: 审核中 2: 已审核 add_time 添加时间 upd_time 更新时间 hot_mumber 热销品数量 is_promote 是否是热销品 pics 上传的图片临时路径（对象） pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图 attrs 商品的参数（数组） goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选, 响应数据 { \"data\": { \"goods_id\": 145, \"goods_name\": \"test_goods_name2\", \"goods_price\": 20, \"goods_number\": 30, \"goods_weight\": 40, \"goods_introduce\": \"abc\", \"goods_big_logo\": \"\", \"goods_small_logo\": \"\", \"goods_state\": 1, \"add_time\": 1512962370, \"upd_time\": 1512962370, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 397, \"goods_id\": 145, \"pics_big\": \"uploads/goodspics/big_30f08d52c551ecb447277eae232304b8\", \"pics_mid\": \"uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8\", \"pics_sma\": \"uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8\" } ], \"attrs\": [ { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"更新商品成功\", \"status\": 200 } } 5. 删除商品 请求路径：goods/:id\n请求方法：delete\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 响应数据 { \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } ###同步商品图片\n请求路径：goods/:id/pics\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 pics 商品图片集合 如果有 pics_id 字段会保留该图片，如果没有 pics_id 但是有 pic 字段就会新生成图片数据 请求数据 ;[ { pic: 'tmp_uploads/db28f6316835836e97653b5c75e418be.png' }, { pics_id: 397, goods_id: 145, pics_big: 'uploads/goodspics/big_30f08d52c551ecb447277eae232304b8', pics_mid: 'uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8', pics_sma: 'uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8' } ] 响应数据 { \"data\": { \"goods_id\": 96, \"goods_name\": \"iphoneXX\", \"goods_price\": 2, \"goods_number\": 22, \"goods_weight\": 22, \"goods_introduce\": null, \"goods_big_logo\": \"./uploads/goods/20201113/483a3b8e99e534ec3e4312dbbaee7c9d.jpg\", \"goods_small_logo\": \"./uploads/goods/20201113/small_483a3b8e99e534ec3e4312dbbaee7c9d.jpg\", \"goods_state\": 0, \"is_del\": \"1\", \"add_time\": 1510045904, \"upd_time\": 1512635159, \"delete_time\": 1512635159, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 383, \"goods_id\": 96, \"pics_big\": \"uploads/goodspics/big_6f5750132abd3f5b2b93dd722fcde653.jpg\", \"pics_mid\": \"uploads/goodspics/mid_6f5750132abd3f5b2b93dd722fcde653.jpg\", \"pics_sma\": \"uploads/goodspics/sma_6f5750132abd3f5b2b93dd722fcde653.jpg\" } ], \"attrs\": [ { \"goods_id\": 96, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 96, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } ###同步商品属性\n请求路径：goods/:id/attributes\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 请求数据 ;[ { attr_id: 15, attr_value: 'ddd' }, { attr_id: 15, attr_value: 'eee' } ] 响应数据 { \"data\": { \"goods_id\": 96, \"goods_name\": \"iphoneXX\", \"goods_price\": 2, \"goods_number\": 22, \"goods_weight\": 22, \"goods_introduce\": null, \"goods_big_logo\": \"./uploads/goods/20201113/483a3b8e99e534ec3e4312dbbaee7c9d.jpg\", \"goods_small_logo\": \"./uploads/goods/20201113/small_483a3b8e99e534ec3e4312dbbaee7c9d.jpg\", \"goods_state\": 0, \"is_del\": \"1\", \"add_time\": 1510045904, \"upd_time\": 1512635159, \"delete_time\": 1512635159, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 383, \"goods_id\": 96, \"pics_big\": \"uploads/goodspics/big_6f5750132abd3f5b2b93dd722fcde653.jpg\", \"pics_mid\": \"uploads/goodspics/mid_6f5750132abd3f5b2b93dd722fcde653.jpg\", \"pics_sma\": \"uploads/goodspics/sma_6f5750132abd3f5b2b93dd722fcde653.jpg\" } ], \"attrs\": [ { \"goods_id\": 96, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 96, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } ###商品图片处理必须安装 GraphicsMagick\nlinux apt-get install GraphicsMagick Mac OS X brew install GraphicsMagick Windows 点击下载 6. 图片上传 请求路径：upload\n请求方法：post\n请求参数\n参数名 参数说明 备注 file 上传文件 响应数据 { \"data\": { \"tmp_path\": \"tmp_uploads/ccfc5179a914e94506bcbb7377e8985f.png\", \"url\": \"http://127.0.0.1:8888tmp_uploads/ccfc5179a914e94506bcbb7377e8985f.png\" }, \"meta\": { \"msg\": \"上传成功\", \"status\": 200 } } 九、订单管理 1. 订单数据列表 请求路径：orders\n请求方法：get\n请求参数\n参数名 参数说明 备注 query 查询参数 可以为空 pagenum 当前页码 可以为空，默认为1 pagesize 每页显示条数 可以为空，省略时返回所有订单 user_id 用户 ID 可以为空 pay_status 支付状态 可以为空 is_send 是否发货 可以为空 order_fapiao_title [‘个人’,‘公司’] 可以为空 order_fapiao_company 公司名称 可以为空 order_fapiao_content 发票内容 可以为空 consignee_addr 收货地址 可以为空 响应数据 { \"data\": { \"total\": 1, \"pagenum\": \"1\", \"goods\": [ { \"order_id\": 47, \"user_id\": 133, \"order_number\": \"59e7502d7993d\", \"order_price\": 322, \"order_pay\": \"1\", \"is_send\": \"是\", \"trade_no\": \"\", \"order_fapiao_title\": \"个人\", \"order_fapiao_company\": \"\", \"order_fapiao_content\": \"办公用品\", \"consignee_addr\": \"江苏省南京市秦淮区龙蟠中路666号\", \"pay_status\": \"1\", \"create_time\": 1508331565, \"update_time\": 1508331565 } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 修改订单状态 请求路径：orders/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 订单 ID 不能为空携带在url中 is_send 订单是否发货 1:已经发货，0:未发货 order_pay 订单支付 支付方式 0 未支付 1 支付宝 2 微信 3 银行卡 order_price 订单价格 order_number 订单数量 pay_status 支付状态 订单状态： 0 未付款、1 已付款 请求数据说明\n所有请求数据都是增量更新，如果参数不填写，就不会更新该字段 响应数据\n{ \"data\": { \"order_id\": 67, \"user_id\": 1, \"order_number\": \"itany-g7kmck71vjaujfgoi\", \"order_price\": 20, \"order_pay\": \"0\", \"is_send\": \"否\", \"trade_no\": \"\", \"order_fapiao_title\": \"个人\", \"order_fapiao_company\": \"\", \"order_fapiao_content\": \"\", \"consignee_addr\": \"\", \"pay_status\": \"0\", \"create_time\": 1512533560, \"update_time\": 1512533560, \"goods\": [ { \"id\": 82, \"order_id\": 67, \"goods_id\": 96, \"goods_price\": 333, \"goods_number\": 2, \"goods_total_price\": 999 }, { \"id\": 83, \"order_id\": 67, \"goods_id\": 95, \"goods_price\": 666, \"goods_number\": 5, \"goods_total_price\": 999 } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 3. 查看订单详情 请求路径：orders/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 id 订单 ID 不能为空携带在url中 响应数据 { \"data\": { \"order_id\": 67, \"user_id\": 1, \"order_number\": \"itany-g7kmck71vjaujfgoi\", \"order_price\": 20, \"order_pay\": \"0\", \"is_send\": \"否\", \"trade_no\": \"\", \"order_fapiao_title\": \"个人\", \"order_fapiao_company\": \"\", \"order_fapiao_content\": \"\", \"consignee_addr\": \"\", \"pay_status\": \"0\", \"create_time\": 1512533560, \"update_time\": 1512533560, \"goods\": [ { \"id\": 82, \"order_id\": 67, \"goods_id\": 96, \"goods_price\": 333, \"goods_number\": 2, \"goods_total_price\": 999 }, { \"id\": 83, \"order_id\": 67, \"goods_id\": 95, \"goods_price\": 666, \"goods_number\": 5, \"goods_total_price\": 999 } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 修改地址 请求路径：orders/:id/address\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 订单 ID 不能为空携带在url中 consignee_addr 收货地址 可以为空 响应数据 { \"data\": {}, \"meta\": { \"msg\": \"修改地址成功\", \"status\": 200 } } 5. 查看物流信息 请求路径：/kuaidi/:id\n请求方法：get\n物流单号：815294206237577\n响应数据：\n{ \"meta\":{ \"status\":200, \"message\":\"获取物流信息成功！\" }, \"data\":[ { \"time\":\"2020-11-15 12:39:56\", \"ftime\":\"2020-11-15 12:39:56\", \"context\":\"已签收,签收人是 汤小洋 先生/女士，如有疑问请联系派件员阿奇(13805148888)，如您未收到此快递，请拨打投诉电话：15294207777，感谢使用申通快递，期待再次为您服务\", \"location\":null }, { \"time\":\"2020-11-15 08:46:54\", \"ftime\":\"2020-11-15 08:46:54\", \"context\":\"上海浦东寒亭营业厅-寒亭阿奇(13805148888)-派件中\", \"location\":null }, { \"time\":\"2020-11-15 08:38:57\", \"ftime\":\"2020-11-15 08:38:57\", \"context\":\"已到达-上海浦东寒亭营业厅\", \"location\":null }, { \"time\":\"2020-11-15 06:38:13\", \"ftime\":\"2020-11-15 06:38:13\", \"context\":\"已到达-上海浦东寒亭营业厅\", \"location\":null }, { \"time\":\"2020-11-14 20:56:45\", \"ftime\":\"2020-11-14 20:56:45\", \"context\":\"上海浦东转运中心-已发往-上海浦东寒亭公司\", \"location\":null }, { \"time\":\"2020-11-14 20:52:44\", \"ftime\":\"2020-11-14 20:52:44\", \"context\":\"已到达-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 17:43:48\", \"ftime\":\"2020-11-14 17:43:48\", \"context\":\"已到达-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 10:53:46\", \"ftime\":\"2020-11-14 10:53:46\", \"context\":\"上海浦东转运中心-已发往-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 10:43:31\", \"ftime\":\"2020-11-14 10:43:31\", \"context\":\"已到达-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 02:43:20\", \"ftime\":\"2020-11-14 02:43:20\", \"context\":\"江苏苏州转运中心-已发往-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 02:41:40\", \"ftime\":\"2020-11-14 02:41:40\", \"context\":\"已到达-江苏苏州转运中心\", \"location\":null }, { \"time\":\"2020-11-13 16:28:13\", \"ftime\":\"2020-11-13 16:28:13\", \"context\":\"江苏南京转运中心-已发往-江苏苏州转运中心\", \"location\":null }, { \"time\":\"2020-11-13 15:03:30\", \"ftime\":\"2020-11-13 15:03:30\", \"context\":\"南京IT教育公司-已发往-江苏南京转运中心\", \"location\":null }, { \"time\":\"2020-11-13 14:47:56\", \"ftime\":\"2020-11-13 14:47:56\", \"context\":\"南京IT教育公司-已发往-江苏南京转运中心\", \"location\":null }, { \"time\":\"2020-11-13 14:37:06\", \"ftime\":\"2020-11-13 14:37:06\", \"context\":\"南京IT教育公司-城东汪小主宠物店-已收件\", \"location\":null } ] } 一、API V2 接口说明 接口基准地址：http://www.tangxiaoyang.vip:8888/api/v2/\n服务端已开启 CORS 跨域支持\nAPI V2 认证统一使用 Token 认证\n需要授权的 API ，必须在请求头中使用 Authorization 字段提供 token 令牌\n使用 HTTP Status Code 标识状态\n数据返回格式统一使用 JSON\n1. 支持的请求方法 GET（SELECT）：从服务器取出资源（一项或多项）。\nPOST（CREATE）：在服务器新建一个资源。\nPUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。\nPATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。\nDELETE（DELETE）：从服务器删除资源。\nHEAD：获取资源的元数据。\nOPTIONS：获取信息，关于资源的哪些属性是客户端可以改变的。\n2. 通用返回状态说明 状态码 含义 说明 200 OK 请求成功 201 CREATED 创建成功 204 DELETED 删除成功 400 BAD REQUEST 请求的地址不存在或者包含不支持的参数 401 UNAUTHORIZED 未授权 403 FORBIDDEN 被禁止访问 404 NOT FOUND 请求的资源不存在 422 Unprocesable entity [POST/PUT/PATCH] 当创建一个对象时，发生一个验证错误 500 INTERNAL SERVER ERROR 内部错误 二、登录 1. 登录验证接口 请求路径：login\n请求方法：post\n请求参数\n参数名 参数说明 备注 username 用户名 不能为空 password 密码 不能为空 响应参数 参数名 参数说明 备注 id 用户 ID rid 用户角色 ID username 用户名 mobile 手机号 email 邮箱 token 令牌 基于 jwt 的令牌 响应数据 { \"data\": { \"id\": 500, \"rid\": 0, \"username\": \"admin\", \"mobile\": \"123\", \"email\": \"123@qq.com\", \"token\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOjUwMCwicmlkIjowLCJpYXQiOjE1MTI1NDQyOTksImV4cCI6MTUxMjYzMDY5OX0.eGrsrvwHm-tPsO9r_pxHIQ5i5L1kX9RX444uwnRGaIM\" }, \"meta\": { \"msg\": \"登录成功\", \"status\": 200 } } 三、用户管理 1. 用户数据列表 请求路径：users\n请求方法：get\n请求参数\n参数名 参数说明 备注 query 查询参数 可以为空 pagenum 当前页码 不能为空 pagesize 每页显示条数 不能为空 响应参数 参数名 参数说明 备注 total 总记录数 pagenum 当前页码 users 用户数据集合 响应数据 { \"data\": { \"total\": 5, \"pagenum\": 1, \"users\": [ { \"id\": 25, \"username\": \"tom\", \"mobile\": \"13951783475\", \"type\": 1, \"email\": \"1049901079@qq.com\", \"create_time\": \"2020-11-09T20:36:26.000Z\", \"mg_state\": true, // 当前用户的状态 \"role_name\": \"超级管理员\" } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加用户 请求路径：users\n请求方法：post\n请求参数\n参数名 参数说明 备注 username 用户名称 不能为空 password 用户密码 不能为空 email 邮箱 可以为空 mobile 手机号 可以为空 响应参数 参数名 参数说明 备注 id 用户 ID rid 用户角色 ID username 用户名 mobile 手机号 email 邮箱 响应数据 { \"data\": { \"id\": 28, \"username\": \"tom\", \"mobile\": \"test\", \"type\": 1, \"openid\": \"\", \"email\": \"test@test.com\", \"create_time\": \"2020-11-10T03:47:13.533Z\", \"modify_time\": null, \"is_delete\": false, \"is_active\": false }, \"meta\": { \"msg\": \"用户创建成功\", \"status\": 201 } } 3. 修改用户状态 请求路径：users/:uId/state/:type\n请求方法：put\n请求参数\n参数名 参数说明 备注 uId 用户 ID 不能为空携带在url中 type 用户状态 不能为空携带在url中，值为 true 或者 false 响应数据 { \"data\": { \"id\": 566, \"rid\": 30, \"username\": \"admin\", \"mobile\": \"123456\", \"email\": \"bb@itany.com\", \"mg_state\": 0 }, \"meta\": { \"msg\": \"设置状态成功\", \"status\": 200 } } 4. 根据 ID 查询用户信息 请求路径：users/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 id 用户 ID 不能为空携带在url中 响应参数 参数名 参数说明 备注 id 用户 ID role_id 角色 ID mobile 手机号 email 邮箱 响应数据 { \"data\": { \"id\": 503, \"username\": \"admin3\", \"role_id\": 0, \"mobile\": \"00000\", \"email\": \"new@new.com\" }, \"meta\": { \"msg\": \"查询成功\", \"status\": 200 } } 5. 编辑提交用户 请求路径：users/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 用户 id 不能为空 参数是url参数:id email 邮箱 可以为空 mobile 手机号 可以为空 响应参数 参数名 参数说明 备注 id 用户 ID role_id 角色 ID mobile 手机号 email 邮箱 响应数据 /* 200表示成功，500表示失败 */ { \"data\": { \"id\": 503, \"username\": \"admin3\", \"role_id\": 0, \"mobile\": \"111\", \"email\": \"123@123.com\" }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } 6. 删除单个用户 请求路径：users/:id\n请求方法：delete\n请求参数\n参数名 参数说明 备注 id 用户 id 不能为空参数是url参数:id 响应参数\n响应数据\n{ \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } 7. 分配用户角色 请求路径：users/:id/role\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 用户 ID 不能为空参数是url参数:id rid 角色 id 不能为空参数body参数 响应参数 参数名 参数说明 备注 id 用户 ID role_id 角色 ID mobile 手机号 email 邮箱 响应数据 { \"data\": { \"id\": 508, \"rid\": \"30\", \"username\": \"asdf1\", \"mobile\": \"123123\", \"email\": \"adfsa@qq.com\" }, \"meta\": { \"msg\": \"设置角色成功\", \"status\": 200 } } 四、权限管理 1. 所有权限列表 请求路径：rights/:type\n请求方法：get\n请求参数\n参数名 参数说明 备注 type 类型 值 list 或 tree , list 列表显示权限, tree 树状显示权限,参数是url参数:type 响应参数 参数名 参数说明 备注 id 权限 ID authName 权限说明 level 权限层级 pid 权限父 ID path 对应访问路径 响应数据 type=list { \"data\": [ { \"id\": 101, \"authName\": \"商品管理\", \"level\": \"0\", \"pid\": 0, \"path\": null }, { \"id\": 102, \"authName\": \"订单管理\", \"level\": \"0\", \"pid\": 0, \"path\": null } ], \"meta\": { \"msg\": \"获取权限列表成功\", \"status\": 200 } } type=tree\n{ data: [ { id: 101, authName: '商品管理', path: null, pid: 0, children: [ { id: 104, authName: '商品列表', path: null, pid: 101, children: [ { id: 105, authName: '添加商品', path: null, pid: '104,101' } ] } ] } ], meta: { msg: '获取权限列表成功', status: 200 } } 2. 左侧菜单权限 请求路径：menus\n请求方法：get\n响应数据\n{ \"data\": { \"id\": 101, \"authName\": \"商品管理\", \"path\": null, \"children\": [ { \"id\": 104, \"authName\": \"商品列表\", \"path\": null, \"children\": [] } ] } \"meta\": { \"msg\": \"获取菜单列表成功\", \"status\": 200 } } 五、角色管理 1. 角色列表 请求路径：roles\n请求方法：get\n响应数据说明\n第一层为角色信息\n第二层开始为权限说明，权限一共有 3 层权限\n最后一层权限，不包含 children 属性\n响应数据\n{ \"data\": [ { \"id\": 30, \"roleName\": \"主管\", \"roleDesc\": \"技术负责人\", \"children\": [ { \"id\": 101, \"authName\": \"商品管理\", \"path\": null, \"children\": [ { \"id\": 104, \"authName\": \"商品列表\", \"path\": null, \"children\": [ { \"id\": 105, \"authName\": \"添加商品\", \"path\": null } ] } ] } ] } ], \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加角色 请求路径：roles\n请求方法：post\n请求参数\n参数名 参数说明 备注 roleName 角色名称 不能为空 roleDesc 角色描述 可以为空 响应参数 参数名 参数说明 备注 roleId 角色 ID roleName 角色名称 roleDesc 角色描述 响应数据 { \"data\": { \"roleId\": 40, \"roleName\": \"admin2\", \"roleDesc\": \"admin2Desc\" }, \"meta\": { \"msg\": \"创建成功\", \"status\": 201 } } 3. 根据 ID 查询角色 请求路径：roles/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 :id 角色 ID 不能为空携带在url中 响应参数 参数名 参数说明 备注 roleId 角色 ID roleName 角色名称 roleDesc 角色描述 响应数据 { \"data\": { \"roleId\": 31, \"roleName\": \"测试角色\", \"roleDesc\": \"测试负责人\" }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 编辑提交角色 请求路径：roles/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 :id 角色 ID 不能为空携带在url中 roleName 角色名称 不能为空 roleDesc 角色描述 可以为空 响应数据 { \"data\": { \"roleId\": 31, \"roleName\": \"测试角色\", \"roleDesc\": \"测试角色描述\" }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 5. 删除角色 请求路径：roles/:id\n请求方法：delete\n请求参数\n参数名 参数说明 备注 :id 角色 ID 不能为空携带在url中 响应数据 { \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } 6. 角色授权 请求路径：roles/:roleId/rights\n请求方法：post\n请求参数：通过 请求体 发送给后端\n参数名 参数说明 备注 :roleId 角色 ID 不能为空携带在url中 rids 权限 ID 列表（字符串） 以 , 分割的权限 ID 列表（获取所有被选中、叶子节点的key和半选中节点的key, 包括 1，2，3级节点） 响应数据 { \"data\": null, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } 7. 删除角色指定权限 请求路径：roles/:roleId/rights/:rightId\n请求方法：delete\n请求参数 参数名 参数说明 备注 :roleId 角色 ID 不能为空携带在url中 :rightId 权限 ID 不能为空携带在url中\n响应数据说明\n返回的data, 是当前角色下最新的权限数据 响应数据\n{ \"data\": [ { \"id\": 101, \"authName\": \"商品管理\", \"path\": null, \"children\": [ { \"id\": 104, \"authName\": \"商品列表\", \"path\": null, \"children\": [ { \"id\": 105, \"authName\": \"添加商品\", \"path\": null }, { \"id\": 116, \"authName\": \"修改\", \"path\": null } ] } ] } ], \"meta\": { \"msg\": \"取消权限成功\", \"status\": 200 } } 六、商品分类管理 1. 商品分类数据列表 请求路径：categories\n请求方法：get\n请求参数\n参数名 参数说明 备注 type [1,2,3] 值：1，2，3 分别表示显示一层二层三层分类列表 【可选参数】如果不传递，则默认获取所有级别的分类 pagenum 当前页码值 【可选参数】如果不传递，则默认获取所有分类 pagesize 每页显示多少条数据 【可选参数】如果不传递，则默认获取所有分类 响应参数 参数名 参数说明 备注 cat_id 分类 ID cat_name 分类名称 cat_pid 分类父 ID cat_level 分类当前层级 响应数据 { \"data\": [ { \"cat_id\": 1, \"cat_name\": \"大家电\", \"cat_pid\": 0, \"cat_level\": 0, \"cat_deleted\": false, \"children\": [ { \"cat_id\": 3, \"cat_name\": \"电视\", \"cat_pid\": 1, \"cat_level\": 1, \"cat_deleted\": false, \"children\": [ { \"cat_id\": 6, \"cat_name\": \"曲面电视\", \"cat_pid\": 3, \"cat_level\": 2, \"cat_deleted\": false }, { \"cat_id\": 7, \"cat_name\": \"海信\", \"cat_pid\": 3, \"cat_level\": 2, \"cat_deleted\": false } ] } ] } ], \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加分类 请求路径：categories\n请求方法：post\n请求参数\n参数名 参数说明 备注 cat_pid 分类父 ID 不能为空，如果要添加一级分类，则父分类Id应该设置为 0 cat_name 分类名称 不能为空 cat_level 分类层级 不能为空，0表示一级分类；1表示二级分类；2表示三级分类 响应数据 { \"data\": { \"cat_id\": 62, \"cat_name\": \"相框\", \"cat_pid\": \"1\", \"cat_level\": \"1\" }, \"meta\": { \"msg\": \"创建成功\", \"status\": 201 } } 3. 根据 id 查询分类 请求路径：categories/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 响应数据 { \"data\": { \"cat_id\": 3, \"cat_name\": \"厨卫电器\", \"cat_pid\": 0, \"cat_level\": 0 }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 编辑提交分类 请求路径：categories/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 cat_name 分类名称 不能为空【此参数，放到请求体中】 响应数据 { \"data\": { \"cat_id\": 22, \"cat_name\": \"自拍杆\", \"cat_pid\": 7, \"cat_level\": 2 }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } 5. 删除分类 请求路径：categories/:id\n请求方法：delete\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 响应数据 { \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } 七、分类参数管理 1. 参数列表 请求路径：categories/:id/attributes\n请求方法：get\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 sel many或only 不能为空，many表示动态参数，only表示静态参数（也称为静态属性） 响应参数 参数名 参数说明 备注 attr_id 分类参数 ID attr_name 分类参数名称 cat_id 分类参数所属分类 attr_sel 分类参数的类型，many表示动态参数，only表示静态属性 attr_write list表示从列表选择（动态参数），manual表示手工录入（静态属性） attr_vals 分类参数的明细，如果是动态参数，则该值是以空格分隔的字符串 响应数据 { \"data\": [ { \"attr_id\": 1, \"attr_name\": \"cpu\", \"cat_id\": 22, \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"4K高清 5K高清 6K高清\" } ], \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加动态参数或静态属性 请求路径：categories/:id/attributes\n请求方法：post\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 attr_name 参数名称 不能为空 attr_sel many或only 不能为空 响应数据 { \"data\": { \"attr_id\": 44, \"attr_name\": \"测试参数\", \"cat_id\": \"1\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"a,b,c\" }, \"meta\": { \"msg\": \"创建成功\", \"status\": 201 } } 3. 根据 ID 查询参数 请求路径：categories/:id/attributes/:attrId\n请求方法：get\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 :attrId 属性 ID 不能为空携带在url中 attr_sel many或only 不能为空 响应数据 { \"data\": { \"attr_id\": 1, \"attr_name\": \"cpu\", \"cat_id\": 22, \"attr_sel\": \"only\", \"attr_write\": \"manual\", \"attr_vals\": \"ffff\" }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 更新参数及明细 请求路径：categories/:id/attributes/:attrId\n请求方法：put\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 :attrId 参数 ID 不能为空携带在url中 attr_name 参数名称 不能为空，携带在请求体中 attr_sel many或only 不能为空，携带在请求体中 attr_vals 参数的明细 可选参数，携带在请求体中 响应数据 { \"data\": { \"attr_id\": 9, \"attr_name\": \"测试更新\", \"cat_id\": \"43\", \"attr_sel\": \"only\", \"attr_write\": \"manual\", \"attr_vals\": \"abc\" }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } 5. 删除参数 请求路径： categories/:id/attributes/:attrid\n请求方法：delete\n请求参数\n参数名 参数说明 备注 :id 分类 ID 不能为空携带在url中 :attrid 参数 ID 不能为空携带在url中 响应数据 { \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } 八、商品管理 1. 商品列表数据 请求路径：goods\n请求方法：get\n请求参数\n参数名 参数说明 备注 query 查询参数 可以为空 pagenum 当前页码 不能为空 pagesize 每页显示条数 不能为空 响应参数 参数名 参数说明 备注 total 总共商品条数 pagenum 当前商品页数 goods_id 商品 ID goods_name 商品名称 goods_price 价格 goods_number 数量 goods_weight 重量 不能为空 goods_state 商品状态 商品状态 0: 未通过 1: 审核中 2: 已审核 add_time 添加时间 upd_time 更新时间 hot_mumber 热销品数量 is_promote 是否是热销品 响应数据 { \"data\": { \"total\": 50, \"pagenum\": \"1\", \"goods\": [ { \"goods_id\": 144, \"goods_name\": \"iphone\", \"goods_price\": 1, \"goods_number\": 1, \"goods_weight\": 1, \"goods_state\": null, \"add_time\": 1512954923, \"upd_time\": 1512954923, \"hot_mumber\": 0, \"is_promote\": false } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 添加商品 请求路径：goods\n请求方法：post\n请求参数\n参数名 参数说明 备注 goods_name 商品名称 不能为空 goods_cat 以,逗号分割的分类列表 不能为空 goods_price 价格 不能为空 goods_number 数量 不能为空 goods_weight 重量 不能为空 goods_introduce 介绍 可以为空 pics 上传的图片临时路径（对象） 可以为空 attrs 商品的参数（数组），包含 动态参数 和 静态属性 可以为空 请求数据 { \"goods_name\":\"test_goods_name2\", \"goods_cat\": \"1,2,3\", \"goods_price\":20, \"goods_number\":30, \"goods_weight\":40, \"goods_introduce\":\"abc\", \"pics\":[ {\"pic\":\"/tmp_uploads/30f08d52c551ecb447277eae232304b8\"} ], \"attrs\":[ { \"attr_id\":15, \"attr_value\":\"ddd\" }, { \"attr_id\":15, \"attr_value\":\"eee\" } ] } 响应参数 参数名 参数说明 备注 total 总共商品条数 pagenum 当前商品页数 goods_id 商品 ID goods_cat 以为’,‘分割的分类列表 goods_name 商品名称 goods_price 价格 goods_number 数量 goods_weight 重量 不能为空 goods_state 商品状态 商品状态 0: 未通过 1: 审核中 2: 已审核 add_time 添加时间 upd_time 更新时间 hot_mumber 热销品数量 is_promote 是否是热销品 pics 上传的图片临时路径（对象） pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图 attrs 商品的参数（数组） goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选 响应数据 { \"data\": { \"goods_id\": 145, \"goods_name\": \"test_goods_name2\", \"goods_price\": 20, \"cat_id\": 1, \"goods_number\": 30, \"goods_weight\": 40, \"goods_introduce\": \"abc\", \"goods_big_logo\": \"\", \"goods_small_logo\": \"\", \"goods_state\": 1, \"add_time\": 1512962370, \"upd_time\": 1512962370, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 397, \"goods_id\": 145, \"pics_big\": \"uploads/goodspics/big_30f08d52c551ecb447277eae232304b8\", \"pics_mid\": \"uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8\", \"pics_sma\": \"uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8\" } ], \"attrs\": [ { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"创建商品成功\", \"status\": 201 } } 3. 根据 ID 查询商品 请求路径：goods/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 响应参数 参数名 参数说明 备注 goods_id 商品 ID goods_name 商品名称 goods_price 价格 goods_number 数量 goods_weight 重量 不能为空 goods_state 商品状态 商品状态 0: 未通过 1: 审核中 2: 已审核 goods_introduce 介绍 goods_cat 以为’,‘分割的分类列表 add_time 添加时间 upd_time 更新时间 hot_mumber 热销品数量 is_promote 是否是热销品 pics 上传的图片临时路径（对象） pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图 attrs 商品的参数（数组） goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选 响应数据 { \"data\": { \"goods_id\": 145, \"goods_name\": \"test_goods_name2\", \"goods_price\": 20, \"goods_number\": 30, \"goods_weight\": 40, \"goods_introduce\": \"abc\", \"goods_big_logo\": \"\", \"goods_small_logo\": \"\", \"goods_state\": 1, \"add_time\": 1512962370, \"upd_time\": 1512962370, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 397, \"goods_id\": 145, \"pics_big\": \"uploads/goodspics/big_30f08d52c551ecb447277eae232304b8\", \"pics_mid\": \"uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8\", \"pics_sma\": \"uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8\" } ], \"attrs\": [ { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 编辑提交商品 请求路径：goods/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 goods_name 商品名称 不能为空 goods_cat 以为’,‘分割的分类列表 不能为空 goods_price 价格 不能为空 goods_number 数量 不能为空 goods_weight 重量 不能为空 goods_introduce 介绍 可以为空 pics 上传的图片临时路径（对象） 可以为空 attrs 商品的参数（数组） 可以为空 请求数据 { \"goods_name\":\"test_goods_name2\", \"goods_price\":20, \"goods_number\":30, \"goods_weight\":40, \"goods_introduce\":\"abc\", \"pics\":[ {\"pic\":\"/tmp_uploads/30f08d52c551ecb447277eae232304b8\"} ], \"attrs\":[ { \"attr_id\":15, \"attr_value\":\"ddd\" }, { \"attr_id\":15, \"attr_value\":\"eee\" } ] } 响应参数 参数名 参数说明 备注 total 总共商品条数 pagenum 当前商品页数 goods_id 商品 ID goods_name 商品名称 goods_price 价格 goods_number 数量 goods_weight 重量 不能为空 goods_state 商品状态 商品状态 0: 未通过 1: 审核中 2: 已审核 add_time 添加时间 upd_time 更新时间 hot_mumber 热销品数量 is_promote 是否是热销品 pics 上传的图片临时路径（对象） pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图 attrs 商品的参数（数组） goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选, 响应数据 { \"data\": { \"goods_id\": 145, \"goods_name\": \"test_goods_name2\", \"goods_price\": 20, \"goods_number\": 30, \"goods_weight\": 40, \"goods_introduce\": \"abc\", \"goods_big_logo\": \"\", \"goods_small_logo\": \"\", \"goods_state\": 1, \"add_time\": 1512962370, \"upd_time\": 1512962370, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 397, \"goods_id\": 145, \"pics_big\": \"uploads/goodspics/big_30f08d52c551ecb447277eae232304b8\", \"pics_mid\": \"uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8\", \"pics_sma\": \"uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8\" } ], \"attrs\": [ { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 145, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"更新商品成功\", \"status\": 200 } } 5. 删除商品 请求路径：goods/:id\n请求方法：delete\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 响应数据 { \"data\": null, \"meta\": { \"msg\": \"删除成功\", \"status\": 200 } } ###同步商品图片\n请求路径：goods/:id/pics\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 pics 商品图片集合 如果有 pics_id 字段会保留该图片，如果没有 pics_id 但是有 pic 字段就会新生成图片数据 请求数据 ;[ { pic: 'tmp_uploads/db28f6316835836e97653b5c75e418be.png' }, { pics_id: 397, goods_id: 145, pics_big: 'uploads/goodspics/big_30f08d52c551ecb447277eae232304b8', pics_mid: 'uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8', pics_sma: 'uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8' } ] 响应数据 { \"data\": { \"goods_id\": 96, \"goods_name\": \"iphoneXX\", \"goods_price\": 2, \"goods_number\": 22, \"goods_weight\": 22, \"goods_introduce\": null, \"goods_big_logo\": \"./uploads/goods/20201113/483a3b8e99e534ec3e4312dbbaee7c9d.jpg\", \"goods_small_logo\": \"./uploads/goods/20201113/small_483a3b8e99e534ec3e4312dbbaee7c9d.jpg\", \"goods_state\": 0, \"is_del\": \"1\", \"add_time\": 1510045904, \"upd_time\": 1512635159, \"delete_time\": 1512635159, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 383, \"goods_id\": 96, \"pics_big\": \"uploads/goodspics/big_6f5750132abd3f5b2b93dd722fcde653.jpg\", \"pics_mid\": \"uploads/goodspics/mid_6f5750132abd3f5b2b93dd722fcde653.jpg\", \"pics_sma\": \"uploads/goodspics/sma_6f5750132abd3f5b2b93dd722fcde653.jpg\" } ], \"attrs\": [ { \"goods_id\": 96, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 96, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } ###同步商品属性\n请求路径：goods/:id/attributes\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 商品 ID 不能为空携带在url中 请求数据 ;[ { attr_id: 15, attr_value: 'ddd' }, { attr_id: 15, attr_value: 'eee' } ] 响应数据 { \"data\": { \"goods_id\": 96, \"goods_name\": \"iphoneXX\", \"goods_price\": 2, \"goods_number\": 22, \"goods_weight\": 22, \"goods_introduce\": null, \"goods_big_logo\": \"./uploads/goods/20201113/483a3b8e99e534ec3e4312dbbaee7c9d.jpg\", \"goods_small_logo\": \"./uploads/goods/20201113/small_483a3b8e99e534ec3e4312dbbaee7c9d.jpg\", \"goods_state\": 0, \"is_del\": \"1\", \"add_time\": 1510045904, \"upd_time\": 1512635159, \"delete_time\": 1512635159, \"hot_mumber\": 0, \"is_promote\": false, \"pics\": [ { \"pics_id\": 383, \"goods_id\": 96, \"pics_big\": \"uploads/goodspics/big_6f5750132abd3f5b2b93dd722fcde653.jpg\", \"pics_mid\": \"uploads/goodspics/mid_6f5750132abd3f5b2b93dd722fcde653.jpg\", \"pics_sma\": \"uploads/goodspics/sma_6f5750132abd3f5b2b93dd722fcde653.jpg\" } ], \"attrs\": [ { \"goods_id\": 96, \"attr_id\": 15, \"attr_value\": \"eee\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" }, { \"goods_id\": 96, \"attr_id\": 15, \"attr_value\": \"ddd\", \"add_price\": null, \"attr_name\": \"fffffff\", \"attr_sel\": \"many\", \"attr_write\": \"list\", \"attr_vals\": \"\" } ] }, \"meta\": { \"msg\": \"更新成功\", \"status\": 200 } } ###商品图片处理必须安装 GraphicsMagick\nlinux apt-get install GraphicsMagick Mac OS X brew install GraphicsMagick Windows 点击下载 6. 图片上传 请求路径：upload\n请求方法：post\n请求参数\n参数名 参数说明 备注 file 上传文件 响应数据 { \"data\": { \"tmp_path\": \"tmp_uploads/ccfc5179a914e94506bcbb7377e8985f.png\", \"url\": \"http://127.0.0.1:8888tmp_uploads/ccfc5179a914e94506bcbb7377e8985f.png\" }, \"meta\": { \"msg\": \"上传成功\", \"status\": 200 } } 九、订单管理 1. 订单数据列表 请求路径：orders\n请求方法：get\n请求参数\n参数名 参数说明 备注 query 查询参数 可以为空 pagenum 当前页码 可以为空，默认为1 pagesize 每页显示条数 可以为空，省略时返回所有订单 user_id 用户 ID 可以为空 pay_status 支付状态 可以为空 is_send 是否发货 可以为空 order_fapiao_title [‘个人’,‘公司’] 可以为空 order_fapiao_company 公司名称 可以为空 order_fapiao_content 发票内容 可以为空 consignee_addr 收货地址 可以为空 响应数据 { \"data\": { \"total\": 1, \"pagenum\": \"1\", \"goods\": [ { \"order_id\": 47, \"user_id\": 133, \"order_number\": \"59e7502d7993d\", \"order_price\": 322, \"order_pay\": \"1\", \"is_send\": \"是\", \"trade_no\": \"\", \"order_fapiao_title\": \"个人\", \"order_fapiao_company\": \"\", \"order_fapiao_content\": \"办公用品\", \"consignee_addr\": \"江苏省南京市秦淮区龙蟠中路666号\", \"pay_status\": \"1\", \"create_time\": 1508331565, \"update_time\": 1508331565 } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 2. 修改订单状态 请求路径：orders/:id\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 订单 ID 不能为空携带在url中 is_send 订单是否发货 1:已经发货，0:未发货 order_pay 订单支付 支付方式 0 未支付 1 支付宝 2 微信 3 银行卡 order_price 订单价格 order_number 订单数量 pay_status 支付状态 订单状态： 0 未付款、1 已付款 请求数据说明\n所有请求数据都是增量更新，如果参数不填写，就不会更新该字段 响应数据\n{ \"data\": { \"order_id\": 67, \"user_id\": 1, \"order_number\": \"itany-g7kmck71vjaujfgoi\", \"order_price\": 20, \"order_pay\": \"0\", \"is_send\": \"否\", \"trade_no\": \"\", \"order_fapiao_title\": \"个人\", \"order_fapiao_company\": \"\", \"order_fapiao_content\": \"\", \"consignee_addr\": \"\", \"pay_status\": \"0\", \"create_time\": 1512533560, \"update_time\": 1512533560, \"goods\": [ { \"id\": 82, \"order_id\": 67, \"goods_id\": 96, \"goods_price\": 333, \"goods_number\": 2, \"goods_total_price\": 999 }, { \"id\": 83, \"order_id\": 67, \"goods_id\": 95, \"goods_price\": 666, \"goods_number\": 5, \"goods_total_price\": 999 } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 3. 查看订单详情 请求路径：orders/:id\n请求方法：get\n请求参数\n参数名 参数说明 备注 id 订单 ID 不能为空携带在url中 响应数据 { \"data\": { \"order_id\": 67, \"user_id\": 1, \"order_number\": \"itany-g7kmck71vjaujfgoi\", \"order_price\": 20, \"order_pay\": \"0\", \"is_send\": \"否\", \"trade_no\": \"\", \"order_fapiao_title\": \"个人\", \"order_fapiao_company\": \"\", \"order_fapiao_content\": \"\", \"consignee_addr\": \"\", \"pay_status\": \"0\", \"create_time\": 1512533560, \"update_time\": 1512533560, \"goods\": [ { \"id\": 82, \"order_id\": 67, \"goods_id\": 96, \"goods_price\": 333, \"goods_number\": 2, \"goods_total_price\": 999 }, { \"id\": 83, \"order_id\": 67, \"goods_id\": 95, \"goods_price\": 666, \"goods_number\": 5, \"goods_total_price\": 999 } ] }, \"meta\": { \"msg\": \"获取成功\", \"status\": 200 } } 4. 修改地址 请求路径：orders/:id/address\n请求方法：put\n请求参数\n参数名 参数说明 备注 id 订单 ID 不能为空携带在url中 consignee_addr 收货地址 可以为空 响应数据 { \"data\": {}, \"meta\": { \"msg\": \"修改地址成功\", \"status\": 200 } } 5. 查看物流信息 请求路径：/kuaidi/:id\n请求方法：get\n物流单号：815294206237577\n响应数据：\n{ \"meta\":{ \"status\":200, \"message\":\"获取物流信息成功！\" }, \"data\":[ { \"time\":\"2020-11-15 12:39:56\", \"ftime\":\"2020-11-15 12:39:56\", \"context\":\"已签收,签收人是 汤小洋 先生/女士，如有疑问请联系派件员阿奇(13805148888)，如您未收到此快递，请拨打投诉电话：15294207777，感谢使用申通快递，期待再次为您服务\", \"location\":null }, { \"time\":\"2020-11-15 08:46:54\", \"ftime\":\"2020-11-15 08:46:54\", \"context\":\"上海浦东寒亭营业厅-寒亭阿奇(13805148888)-派件中\", \"location\":null }, { \"time\":\"2020-11-15 08:38:57\", \"ftime\":\"2020-11-15 08:38:57\", \"context\":\"已到达-上海浦东寒亭营业厅\", \"location\":null }, { \"time\":\"2020-11-15 06:38:13\", \"ftime\":\"2020-11-15 06:38:13\", \"context\":\"已到达-上海浦东寒亭营业厅\", \"location\":null }, { \"time\":\"2020-11-14 20:56:45\", \"ftime\":\"2020-11-14 20:56:45\", \"context\":\"上海浦东转运中心-已发往-上海浦东寒亭公司\", \"location\":null }, { \"time\":\"2020-11-14 20:52:44\", \"ftime\":\"2020-11-14 20:52:44\", \"context\":\"已到达-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 17:43:48\", \"ftime\":\"2020-11-14 17:43:48\", \"context\":\"已到达-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 10:53:46\", \"ftime\":\"2020-11-14 10:53:46\", \"context\":\"上海浦东转运中心-已发往-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 10:43:31\", \"ftime\":\"2020-11-14 10:43:31\", \"context\":\"已到达-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 02:43:20\", \"ftime\":\"2020-11-14 02:43:20\", \"context\":\"江苏苏州转运中心-已发往-上海浦东转运中心\", \"location\":null }, { \"time\":\"2020-11-14 02:41:40\", \"ftime\":\"2020-11-14 02:41:40\", \"context\":\"已到达-江苏苏州转运中心\", \"location\":null }, { \"time\":\"2020-11-13 16:28:13\", \"ftime\":\"2020-11-13 16:28:13\", \"context\":\"江苏南京转运中心-已发往-江苏苏州转运中心\", \"location\":null }, { \"time\":\"2020-11-13 15:03:30\", \"ftime\":\"2020-11-13 15:03:30\", \"context\":\"南京IT教育公司-已发往-江苏南京转运中心\", \"location\":null }, { \"time\":\"2020-11-13 14:47:56\", \"ftime\":\"2020-11-13 14:47:56\", \"context\":\"南京IT教育公司-已发往-江苏南京转运中心\", \"location\":null }, { \"time\":\"2020-11-13 14:37:06\", \"ftime\":\"2020-11-13 14:37:06\", \"context\":\"南京IT教育公司-城东汪小主宠物店-已收件\", \"location\":null } ] } ","wordCount":"36728","inLanguage":"zh-cn","datePublished":"2023-04-05T16:04:23+08:00","dateModified":"2023-04-05T16:04:23+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://waite.wang/posts/project/shop-mall-api-docs/"},"publisher":{"@type":"Organization","name":"隶笔难书","logo":{"@type":"ImageObject","url":"https://waite.wang/images/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://waite.wang/ accesskey=h title="隶笔难书 (Alt + H)">隶笔难书</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://waite.wang/ title=首页><span>首页</span></a></li><li><a href=https://waite.wang/search title=搜索><span>搜索</span></a></li><li><a href=https://waite.wang/categories title=分类><span>分类</span></a></li><li><a href=https://waite.wang/tags title=标签><span>标签</span></a></li><li><a href=https://waite.wang/archives title=归档><span>归档</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">电商后台管理系统后端api接口文档</h1><div class=post-meta><span title='2023-04-05 16:04:23 +0800 +0800'>2023-04-05</span>&nbsp;·&nbsp;74 min&nbsp;·&nbsp;36728 words&nbsp;|&nbsp;<a href=https://github.com/Waite0603/HugoBlog/edit/main/content/posts/project/shop-mall-api-docs.md rel="noopener noreferrer" target=_blank>在 GitHub 编辑</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e4%b8%80api-v2-%e6%8e%a5%e5%8f%a3%e8%af%b4%e6%98%8e aria-label="一、API V2 接口说明">一、API V2 接口说明</a><ul><li><a href=#1-%e6%94%af%e6%8c%81%e7%9a%84%e8%af%b7%e6%b1%82%e6%96%b9%e6%b3%95 aria-label="1. 支持的请求方法">1. 支持的请求方法</a></li><li><a href=#2-%e9%80%9a%e7%94%a8%e8%bf%94%e5%9b%9e%e7%8a%b6%e6%80%81%e8%af%b4%e6%98%8e aria-label="2. 通用返回状态说明">2. 通用返回状态说明</a></li></ul></li><li><a href=#%e4%ba%8c%e7%99%bb%e5%bd%95 aria-label=二、登录>二、登录</a><ul><li><a href=#1-%e7%99%bb%e5%bd%95%e9%aa%8c%e8%af%81%e6%8e%a5%e5%8f%a3 aria-label="1. 登录验证接口">1. 登录验证接口</a></li></ul></li><li><a href=#%e4%b8%89%e7%94%a8%e6%88%b7%e7%ae%a1%e7%90%86 aria-label=三、用户管理>三、用户管理</a><ul><li><a href=#1-%e7%94%a8%e6%88%b7%e6%95%b0%e6%8d%ae%e5%88%97%e8%a1%a8 aria-label="1. 用户数据列表">1. 用户数据列表</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e7%94%a8%e6%88%b7 aria-label="2. 添加用户">2. 添加用户</a></li><li><a href=#3-%e4%bf%ae%e6%94%b9%e7%94%a8%e6%88%b7%e7%8a%b6%e6%80%81 aria-label="3. 修改用户状态">3. 修改用户状态</a></li><li><a href=#4-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e7%94%a8%e6%88%b7%e4%bf%a1%e6%81%af aria-label="4. 根据 ID 查询用户信息">4. 根据 ID 查询用户信息</a></li><li><a href=#5-%e7%bc%96%e8%be%91%e6%8f%90%e4%ba%a4%e7%94%a8%e6%88%b7 aria-label="5. 编辑提交用户">5. 编辑提交用户</a></li><li><a href=#6-%e5%88%a0%e9%99%a4%e5%8d%95%e4%b8%aa%e7%94%a8%e6%88%b7 aria-label="6. 删除单个用户">6. 删除单个用户</a></li><li><a href=#7-%e5%88%86%e9%85%8d%e7%94%a8%e6%88%b7%e8%a7%92%e8%89%b2 aria-label="7. 分配用户角色">7. 分配用户角色</a></li></ul></li><li><a href=#%e5%9b%9b%e6%9d%83%e9%99%90%e7%ae%a1%e7%90%86 aria-label=四、权限管理>四、权限管理</a><ul><li><a href=#1-%e6%89%80%e6%9c%89%e6%9d%83%e9%99%90%e5%88%97%e8%a1%a8 aria-label="1. 所有权限列表">1. 所有权限列表</a></li><li><a href=#2-%e5%b7%a6%e4%be%a7%e8%8f%9c%e5%8d%95%e6%9d%83%e9%99%90 aria-label="2. 左侧菜单权限">2. 左侧菜单权限</a></li></ul></li><li><a href=#%e4%ba%94%e8%a7%92%e8%89%b2%e7%ae%a1%e7%90%86 aria-label=五、角色管理>五、角色管理</a><ul><li><a href=#1-%e8%a7%92%e8%89%b2%e5%88%97%e8%a1%a8 aria-label="1. 角色列表">1. 角色列表</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e8%a7%92%e8%89%b2 aria-label="2. 添加角色">2. 添加角色</a></li><li><a href=#3-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e8%a7%92%e8%89%b2 aria-label="3. 根据 ID 查询角色">3. 根据 ID 查询角色</a></li><li><a href=#4-%e7%bc%96%e8%be%91%e6%8f%90%e4%ba%a4%e8%a7%92%e8%89%b2 aria-label="4. 编辑提交角色">4. 编辑提交角色</a></li><li><a href=#5-%e5%88%a0%e9%99%a4%e8%a7%92%e8%89%b2 aria-label="5. 删除角色">5. 删除角色</a></li><li><a href=#6-%e8%a7%92%e8%89%b2%e6%8e%88%e6%9d%83 aria-label="6. 角色授权">6. 角色授权</a></li><li><a href=#7-%e5%88%a0%e9%99%a4%e8%a7%92%e8%89%b2%e6%8c%87%e5%ae%9a%e6%9d%83%e9%99%90 aria-label="7. 删除角色指定权限">7. 删除角色指定权限</a></li></ul></li><li><a href=#%e5%85%ad%e5%95%86%e5%93%81%e5%88%86%e7%b1%bb%e7%ae%a1%e7%90%86 aria-label=六、商品分类管理>六、商品分类管理</a><ul><li><a href=#1-%e5%95%86%e5%93%81%e5%88%86%e7%b1%bb%e6%95%b0%e6%8d%ae%e5%88%97%e8%a1%a8 aria-label="1. 商品分类数据列表">1. 商品分类数据列表</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e5%88%86%e7%b1%bb aria-label="2. 添加分类">2. 添加分类</a></li><li><a href=#3-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e5%88%86%e7%b1%bb aria-label="3. 根据 id 查询分类">3. 根据 id 查询分类</a></li><li><a href=#4-%e7%bc%96%e8%be%91%e6%8f%90%e4%ba%a4%e5%88%86%e7%b1%bb aria-label="4. 编辑提交分类">4. 编辑提交分类</a></li><li><a href=#5-%e5%88%a0%e9%99%a4%e5%88%86%e7%b1%bb aria-label="5. 删除分类">5. 删除分类</a></li></ul></li><li><a href=#%e4%b8%83%e5%88%86%e7%b1%bb%e5%8f%82%e6%95%b0%e7%ae%a1%e7%90%86 aria-label=七、分类参数管理>七、分类参数管理</a><ul><li><a href=#1-%e5%8f%82%e6%95%b0%e5%88%97%e8%a1%a8 aria-label="1. 参数列表">1. 参数列表</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e5%8a%a8%e6%80%81%e5%8f%82%e6%95%b0%e6%88%96%e9%9d%99%e6%80%81%e5%b1%9e%e6%80%a7 aria-label="2. 添加动态参数或静态属性">2. 添加动态参数或静态属性</a></li><li><a href=#3-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e5%8f%82%e6%95%b0 aria-label="3. 根据 ID 查询参数">3. 根据 ID 查询参数</a></li><li><a href=#4-%e6%9b%b4%e6%96%b0%e5%8f%82%e6%95%b0%e5%8f%8a%e6%98%8e%e7%bb%86 aria-label="4. 更新参数及明细">4. 更新参数及明细</a></li><li><a href=#5-%e5%88%a0%e9%99%a4%e5%8f%82%e6%95%b0 aria-label="5. 删除参数">5. 删除参数</a></li></ul></li><li><a href=#%e5%85%ab%e5%95%86%e5%93%81%e7%ae%a1%e7%90%86 aria-label=八、商品管理>八、商品管理</a><ul><li><a href=#1-%e5%95%86%e5%93%81%e5%88%97%e8%a1%a8%e6%95%b0%e6%8d%ae aria-label="1. 商品列表数据">1. 商品列表数据</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e5%95%86%e5%93%81 aria-label="2. 添加商品">2. 添加商品</a></li><li><a href=#3-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e5%95%86%e5%93%81 aria-label="3. 根据 ID 查询商品">3. 根据 ID 查询商品</a></li><li><a href=#4-%e7%bc%96%e8%be%91%e6%8f%90%e4%ba%a4%e5%95%86%e5%93%81 aria-label="4. 编辑提交商品">4. 编辑提交商品</a></li><li><a href=#5-%e5%88%a0%e9%99%a4%e5%95%86%e5%93%81 aria-label="5. 删除商品">5. 删除商品</a></li><li><a href=#6-%e5%9b%be%e7%89%87%e4%b8%8a%e4%bc%a0 aria-label="6. 图片上传">6. 图片上传</a></li></ul></li><li><a href=#%e4%b9%9d%e8%ae%a2%e5%8d%95%e7%ae%a1%e7%90%86 aria-label=九、订单管理>九、订单管理</a><ul><li><a href=#1-%e8%ae%a2%e5%8d%95%e6%95%b0%e6%8d%ae%e5%88%97%e8%a1%a8 aria-label="1. 订单数据列表">1. 订单数据列表</a></li><li><a href=#2-%e4%bf%ae%e6%94%b9%e8%ae%a2%e5%8d%95%e7%8a%b6%e6%80%81 aria-label="2. 修改订单状态">2. 修改订单状态</a></li><li><a href=#3-%e6%9f%a5%e7%9c%8b%e8%ae%a2%e5%8d%95%e8%af%a6%e6%83%85 aria-label="3. 查看订单详情">3. 查看订单详情</a></li><li><a href=#4-%e4%bf%ae%e6%94%b9%e5%9c%b0%e5%9d%80 aria-label="4. 修改地址">4. 修改地址</a></li><li><a href=#5-%e6%9f%a5%e7%9c%8b%e7%89%a9%e6%b5%81%e4%bf%a1%e6%81%af aria-label="5. 查看物流信息">5. 查看物流信息</a></li></ul></li><li><a href=#%e4%b8%80api-v2-%e6%8e%a5%e5%8f%a3%e8%af%b4%e6%98%8e-1 aria-label="一、API V2 接口说明">一、API V2 接口说明</a><ul><li><a href=#1-%e6%94%af%e6%8c%81%e7%9a%84%e8%af%b7%e6%b1%82%e6%96%b9%e6%b3%95-1 aria-label="1. 支持的请求方法">1. 支持的请求方法</a></li><li><a href=#2-%e9%80%9a%e7%94%a8%e8%bf%94%e5%9b%9e%e7%8a%b6%e6%80%81%e8%af%b4%e6%98%8e-1 aria-label="2. 通用返回状态说明">2. 通用返回状态说明</a></li></ul></li><li><a href=#%e4%ba%8c%e7%99%bb%e5%bd%95-1 aria-label=二、登录>二、登录</a><ul><li><a href=#1-%e7%99%bb%e5%bd%95%e9%aa%8c%e8%af%81%e6%8e%a5%e5%8f%a3-1 aria-label="1. 登录验证接口">1. 登录验证接口</a></li></ul></li><li><a href=#%e4%b8%89%e7%94%a8%e6%88%b7%e7%ae%a1%e7%90%86-1 aria-label=三、用户管理>三、用户管理</a><ul><li><a href=#1-%e7%94%a8%e6%88%b7%e6%95%b0%e6%8d%ae%e5%88%97%e8%a1%a8-1 aria-label="1. 用户数据列表">1. 用户数据列表</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e7%94%a8%e6%88%b7-1 aria-label="2. 添加用户">2. 添加用户</a></li><li><a href=#3-%e4%bf%ae%e6%94%b9%e7%94%a8%e6%88%b7%e7%8a%b6%e6%80%81-1 aria-label="3. 修改用户状态">3. 修改用户状态</a></li><li><a href=#4-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e7%94%a8%e6%88%b7%e4%bf%a1%e6%81%af-1 aria-label="4. 根据 ID 查询用户信息">4. 根据 ID 查询用户信息</a></li><li><a href=#5-%e7%bc%96%e8%be%91%e6%8f%90%e4%ba%a4%e7%94%a8%e6%88%b7-1 aria-label="5. 编辑提交用户">5. 编辑提交用户</a></li><li><a href=#6-%e5%88%a0%e9%99%a4%e5%8d%95%e4%b8%aa%e7%94%a8%e6%88%b7-1 aria-label="6. 删除单个用户">6. 删除单个用户</a></li><li><a href=#7-%e5%88%86%e9%85%8d%e7%94%a8%e6%88%b7%e8%a7%92%e8%89%b2-1 aria-label="7. 分配用户角色">7. 分配用户角色</a></li></ul></li><li><a href=#%e5%9b%9b%e6%9d%83%e9%99%90%e7%ae%a1%e7%90%86-1 aria-label=四、权限管理>四、权限管理</a><ul><li><a href=#1-%e6%89%80%e6%9c%89%e6%9d%83%e9%99%90%e5%88%97%e8%a1%a8-1 aria-label="1. 所有权限列表">1. 所有权限列表</a></li><li><a href=#2-%e5%b7%a6%e4%be%a7%e8%8f%9c%e5%8d%95%e6%9d%83%e9%99%90-1 aria-label="2. 左侧菜单权限">2. 左侧菜单权限</a></li></ul></li><li><a href=#%e4%ba%94%e8%a7%92%e8%89%b2%e7%ae%a1%e7%90%86-1 aria-label=五、角色管理>五、角色管理</a><ul><li><a href=#1-%e8%a7%92%e8%89%b2%e5%88%97%e8%a1%a8-1 aria-label="1. 角色列表">1. 角色列表</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e8%a7%92%e8%89%b2-1 aria-label="2. 添加角色">2. 添加角色</a></li><li><a href=#3-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e8%a7%92%e8%89%b2-1 aria-label="3. 根据 ID 查询角色">3. 根据 ID 查询角色</a></li><li><a href=#4-%e7%bc%96%e8%be%91%e6%8f%90%e4%ba%a4%e8%a7%92%e8%89%b2-1 aria-label="4. 编辑提交角色">4. 编辑提交角色</a></li><li><a href=#5-%e5%88%a0%e9%99%a4%e8%a7%92%e8%89%b2-1 aria-label="5. 删除角色">5. 删除角色</a></li><li><a href=#6-%e8%a7%92%e8%89%b2%e6%8e%88%e6%9d%83-1 aria-label="6. 角色授权">6. 角色授权</a></li><li><a href=#7-%e5%88%a0%e9%99%a4%e8%a7%92%e8%89%b2%e6%8c%87%e5%ae%9a%e6%9d%83%e9%99%90-1 aria-label="7. 删除角色指定权限">7. 删除角色指定权限</a></li></ul></li><li><a href=#%e5%85%ad%e5%95%86%e5%93%81%e5%88%86%e7%b1%bb%e7%ae%a1%e7%90%86-1 aria-label=六、商品分类管理>六、商品分类管理</a><ul><li><a href=#1-%e5%95%86%e5%93%81%e5%88%86%e7%b1%bb%e6%95%b0%e6%8d%ae%e5%88%97%e8%a1%a8-1 aria-label="1. 商品分类数据列表">1. 商品分类数据列表</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e5%88%86%e7%b1%bb-1 aria-label="2. 添加分类">2. 添加分类</a></li><li><a href=#3-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e5%88%86%e7%b1%bb-1 aria-label="3. 根据 id 查询分类">3. 根据 id 查询分类</a></li><li><a href=#4-%e7%bc%96%e8%be%91%e6%8f%90%e4%ba%a4%e5%88%86%e7%b1%bb-1 aria-label="4. 编辑提交分类">4. 编辑提交分类</a></li><li><a href=#5-%e5%88%a0%e9%99%a4%e5%88%86%e7%b1%bb-1 aria-label="5. 删除分类">5. 删除分类</a></li></ul></li><li><a href=#%e4%b8%83%e5%88%86%e7%b1%bb%e5%8f%82%e6%95%b0%e7%ae%a1%e7%90%86-1 aria-label=七、分类参数管理>七、分类参数管理</a><ul><li><a href=#1-%e5%8f%82%e6%95%b0%e5%88%97%e8%a1%a8-1 aria-label="1. 参数列表">1. 参数列表</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e5%8a%a8%e6%80%81%e5%8f%82%e6%95%b0%e6%88%96%e9%9d%99%e6%80%81%e5%b1%9e%e6%80%a7-1 aria-label="2. 添加动态参数或静态属性">2. 添加动态参数或静态属性</a></li><li><a href=#3-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e5%8f%82%e6%95%b0-1 aria-label="3. 根据 ID 查询参数">3. 根据 ID 查询参数</a></li><li><a href=#4-%e6%9b%b4%e6%96%b0%e5%8f%82%e6%95%b0%e5%8f%8a%e6%98%8e%e7%bb%86-1 aria-label="4. 更新参数及明细">4. 更新参数及明细</a></li><li><a href=#5-%e5%88%a0%e9%99%a4%e5%8f%82%e6%95%b0-1 aria-label="5. 删除参数">5. 删除参数</a></li></ul></li><li><a href=#%e5%85%ab%e5%95%86%e5%93%81%e7%ae%a1%e7%90%86-1 aria-label=八、商品管理>八、商品管理</a><ul><li><a href=#1-%e5%95%86%e5%93%81%e5%88%97%e8%a1%a8%e6%95%b0%e6%8d%ae-1 aria-label="1. 商品列表数据">1. 商品列表数据</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e5%95%86%e5%93%81-1 aria-label="2. 添加商品">2. 添加商品</a></li><li><a href=#3-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e5%95%86%e5%93%81-1 aria-label="3. 根据 ID 查询商品">3. 根据 ID 查询商品</a></li><li><a href=#4-%e7%bc%96%e8%be%91%e6%8f%90%e4%ba%a4%e5%95%86%e5%93%81-1 aria-label="4. 编辑提交商品">4. 编辑提交商品</a></li><li><a href=#5-%e5%88%a0%e9%99%a4%e5%95%86%e5%93%81-1 aria-label="5. 删除商品">5. 删除商品</a></li><li><a href=#6-%e5%9b%be%e7%89%87%e4%b8%8a%e4%bc%a0-1 aria-label="6. 图片上传">6. 图片上传</a></li></ul></li><li><a href=#%e4%b9%9d%e8%ae%a2%e5%8d%95%e7%ae%a1%e7%90%86-1 aria-label=九、订单管理>九、订单管理</a><ul><li><a href=#1-%e8%ae%a2%e5%8d%95%e6%95%b0%e6%8d%ae%e5%88%97%e8%a1%a8-1 aria-label="1. 订单数据列表">1. 订单数据列表</a></li><li><a href=#2-%e4%bf%ae%e6%94%b9%e8%ae%a2%e5%8d%95%e7%8a%b6%e6%80%81-1 aria-label="2. 修改订单状态">2. 修改订单状态</a></li><li><a href=#3-%e6%9f%a5%e7%9c%8b%e8%ae%a2%e5%8d%95%e8%af%a6%e6%83%85-1 aria-label="3. 查看订单详情">3. 查看订单详情</a></li><li><a href=#4-%e4%bf%ae%e6%94%b9%e5%9c%b0%e5%9d%80-1 aria-label="4. 修改地址">4. 修改地址</a></li><li><a href=#5-%e6%9f%a5%e7%9c%8b%e7%89%a9%e6%b5%81%e4%bf%a1%e6%81%af-1 aria-label="5. 查看物流信息">5. 查看物流信息</a></li></ul></li><li><a href=#%e4%b8%80api-v2-%e6%8e%a5%e5%8f%a3%e8%af%b4%e6%98%8e-2 aria-label="一、API V2 接口说明">一、API V2 接口说明</a><ul><li><a href=#1-%e6%94%af%e6%8c%81%e7%9a%84%e8%af%b7%e6%b1%82%e6%96%b9%e6%b3%95-2 aria-label="1. 支持的请求方法">1. 支持的请求方法</a></li><li><a href=#2-%e9%80%9a%e7%94%a8%e8%bf%94%e5%9b%9e%e7%8a%b6%e6%80%81%e8%af%b4%e6%98%8e-2 aria-label="2. 通用返回状态说明">2. 通用返回状态说明</a></li></ul></li><li><a href=#%e4%ba%8c%e7%99%bb%e5%bd%95-2 aria-label=二、登录>二、登录</a><ul><li><a href=#1-%e7%99%bb%e5%bd%95%e9%aa%8c%e8%af%81%e6%8e%a5%e5%8f%a3-2 aria-label="1. 登录验证接口">1. 登录验证接口</a></li></ul></li><li><a href=#%e4%b8%89%e7%94%a8%e6%88%b7%e7%ae%a1%e7%90%86-2 aria-label=三、用户管理>三、用户管理</a><ul><li><a href=#1-%e7%94%a8%e6%88%b7%e6%95%b0%e6%8d%ae%e5%88%97%e8%a1%a8-2 aria-label="1. 用户数据列表">1. 用户数据列表</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e7%94%a8%e6%88%b7-2 aria-label="2. 添加用户">2. 添加用户</a></li><li><a href=#3-%e4%bf%ae%e6%94%b9%e7%94%a8%e6%88%b7%e7%8a%b6%e6%80%81-2 aria-label="3. 修改用户状态">3. 修改用户状态</a></li><li><a href=#4-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e7%94%a8%e6%88%b7%e4%bf%a1%e6%81%af-2 aria-label="4. 根据 ID 查询用户信息">4. 根据 ID 查询用户信息</a></li><li><a href=#5-%e7%bc%96%e8%be%91%e6%8f%90%e4%ba%a4%e7%94%a8%e6%88%b7-2 aria-label="5. 编辑提交用户">5. 编辑提交用户</a></li><li><a href=#6-%e5%88%a0%e9%99%a4%e5%8d%95%e4%b8%aa%e7%94%a8%e6%88%b7-2 aria-label="6. 删除单个用户">6. 删除单个用户</a></li><li><a href=#7-%e5%88%86%e9%85%8d%e7%94%a8%e6%88%b7%e8%a7%92%e8%89%b2-2 aria-label="7. 分配用户角色">7. 分配用户角色</a></li></ul></li><li><a href=#%e5%9b%9b%e6%9d%83%e9%99%90%e7%ae%a1%e7%90%86-2 aria-label=四、权限管理>四、权限管理</a><ul><li><a href=#1-%e6%89%80%e6%9c%89%e6%9d%83%e9%99%90%e5%88%97%e8%a1%a8-2 aria-label="1. 所有权限列表">1. 所有权限列表</a></li><li><a href=#2-%e5%b7%a6%e4%be%a7%e8%8f%9c%e5%8d%95%e6%9d%83%e9%99%90-2 aria-label="2. 左侧菜单权限">2. 左侧菜单权限</a></li></ul></li><li><a href=#%e4%ba%94%e8%a7%92%e8%89%b2%e7%ae%a1%e7%90%86-2 aria-label=五、角色管理>五、角色管理</a><ul><li><a href=#1-%e8%a7%92%e8%89%b2%e5%88%97%e8%a1%a8-2 aria-label="1. 角色列表">1. 角色列表</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e8%a7%92%e8%89%b2-2 aria-label="2. 添加角色">2. 添加角色</a></li><li><a href=#3-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e8%a7%92%e8%89%b2-2 aria-label="3. 根据 ID 查询角色">3. 根据 ID 查询角色</a></li><li><a href=#4-%e7%bc%96%e8%be%91%e6%8f%90%e4%ba%a4%e8%a7%92%e8%89%b2-2 aria-label="4. 编辑提交角色">4. 编辑提交角色</a></li><li><a href=#5-%e5%88%a0%e9%99%a4%e8%a7%92%e8%89%b2-2 aria-label="5. 删除角色">5. 删除角色</a></li><li><a href=#6-%e8%a7%92%e8%89%b2%e6%8e%88%e6%9d%83-2 aria-label="6. 角色授权">6. 角色授权</a></li><li><a href=#7-%e5%88%a0%e9%99%a4%e8%a7%92%e8%89%b2%e6%8c%87%e5%ae%9a%e6%9d%83%e9%99%90-2 aria-label="7. 删除角色指定权限">7. 删除角色指定权限</a></li></ul></li><li><a href=#%e5%85%ad%e5%95%86%e5%93%81%e5%88%86%e7%b1%bb%e7%ae%a1%e7%90%86-2 aria-label=六、商品分类管理>六、商品分类管理</a><ul><li><a href=#1-%e5%95%86%e5%93%81%e5%88%86%e7%b1%bb%e6%95%b0%e6%8d%ae%e5%88%97%e8%a1%a8-2 aria-label="1. 商品分类数据列表">1. 商品分类数据列表</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e5%88%86%e7%b1%bb-2 aria-label="2. 添加分类">2. 添加分类</a></li><li><a href=#3-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e5%88%86%e7%b1%bb-2 aria-label="3. 根据 id 查询分类">3. 根据 id 查询分类</a></li><li><a href=#4-%e7%bc%96%e8%be%91%e6%8f%90%e4%ba%a4%e5%88%86%e7%b1%bb-2 aria-label="4. 编辑提交分类">4. 编辑提交分类</a></li><li><a href=#5-%e5%88%a0%e9%99%a4%e5%88%86%e7%b1%bb-2 aria-label="5. 删除分类">5. 删除分类</a></li></ul></li><li><a href=#%e4%b8%83%e5%88%86%e7%b1%bb%e5%8f%82%e6%95%b0%e7%ae%a1%e7%90%86-2 aria-label=七、分类参数管理>七、分类参数管理</a><ul><li><a href=#1-%e5%8f%82%e6%95%b0%e5%88%97%e8%a1%a8-2 aria-label="1. 参数列表">1. 参数列表</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e5%8a%a8%e6%80%81%e5%8f%82%e6%95%b0%e6%88%96%e9%9d%99%e6%80%81%e5%b1%9e%e6%80%a7-2 aria-label="2. 添加动态参数或静态属性">2. 添加动态参数或静态属性</a></li><li><a href=#3-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e5%8f%82%e6%95%b0-2 aria-label="3. 根据 ID 查询参数">3. 根据 ID 查询参数</a></li><li><a href=#4-%e6%9b%b4%e6%96%b0%e5%8f%82%e6%95%b0%e5%8f%8a%e6%98%8e%e7%bb%86-2 aria-label="4. 更新参数及明细">4. 更新参数及明细</a></li><li><a href=#5-%e5%88%a0%e9%99%a4%e5%8f%82%e6%95%b0-2 aria-label="5. 删除参数">5. 删除参数</a></li></ul></li><li><a href=#%e5%85%ab%e5%95%86%e5%93%81%e7%ae%a1%e7%90%86-2 aria-label=八、商品管理>八、商品管理</a><ul><li><a href=#1-%e5%95%86%e5%93%81%e5%88%97%e8%a1%a8%e6%95%b0%e6%8d%ae-2 aria-label="1. 商品列表数据">1. 商品列表数据</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e5%95%86%e5%93%81-2 aria-label="2. 添加商品">2. 添加商品</a></li><li><a href=#3-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e5%95%86%e5%93%81-2 aria-label="3. 根据 ID 查询商品">3. 根据 ID 查询商品</a></li><li><a href=#4-%e7%bc%96%e8%be%91%e6%8f%90%e4%ba%a4%e5%95%86%e5%93%81-2 aria-label="4. 编辑提交商品">4. 编辑提交商品</a></li><li><a href=#5-%e5%88%a0%e9%99%a4%e5%95%86%e5%93%81-2 aria-label="5. 删除商品">5. 删除商品</a></li><li><a href=#6-%e5%9b%be%e7%89%87%e4%b8%8a%e4%bc%a0-2 aria-label="6. 图片上传">6. 图片上传</a></li></ul></li><li><a href=#%e4%b9%9d%e8%ae%a2%e5%8d%95%e7%ae%a1%e7%90%86-2 aria-label=九、订单管理>九、订单管理</a><ul><li><a href=#1-%e8%ae%a2%e5%8d%95%e6%95%b0%e6%8d%ae%e5%88%97%e8%a1%a8-2 aria-label="1. 订单数据列表">1. 订单数据列表</a></li><li><a href=#2-%e4%bf%ae%e6%94%b9%e8%ae%a2%e5%8d%95%e7%8a%b6%e6%80%81-2 aria-label="2. 修改订单状态">2. 修改订单状态</a></li><li><a href=#3-%e6%9f%a5%e7%9c%8b%e8%ae%a2%e5%8d%95%e8%af%a6%e6%83%85-2 aria-label="3. 查看订单详情">3. 查看订单详情</a></li><li><a href=#4-%e4%bf%ae%e6%94%b9%e5%9c%b0%e5%9d%80-2 aria-label="4. 修改地址">4. 修改地址</a></li><li><a href=#5-%e6%9f%a5%e7%9c%8b%e7%89%a9%e6%b5%81%e4%bf%a1%e6%81%af-2 aria-label="5. 查看物流信息">5. 查看物流信息</a></li></ul></li><li><a href=#%e4%b8%80api-v2-%e6%8e%a5%e5%8f%a3%e8%af%b4%e6%98%8e-3 aria-label="一、API V2 接口说明">一、API V2 接口说明</a><ul><li><a href=#1-%e6%94%af%e6%8c%81%e7%9a%84%e8%af%b7%e6%b1%82%e6%96%b9%e6%b3%95-3 aria-label="1. 支持的请求方法">1. 支持的请求方法</a></li><li><a href=#2-%e9%80%9a%e7%94%a8%e8%bf%94%e5%9b%9e%e7%8a%b6%e6%80%81%e8%af%b4%e6%98%8e-3 aria-label="2. 通用返回状态说明">2. 通用返回状态说明</a></li></ul></li><li><a href=#%e4%ba%8c%e7%99%bb%e5%bd%95-3 aria-label=二、登录>二、登录</a><ul><li><a href=#1-%e7%99%bb%e5%bd%95%e9%aa%8c%e8%af%81%e6%8e%a5%e5%8f%a3-3 aria-label="1. 登录验证接口">1. 登录验证接口</a></li></ul></li><li><a href=#%e4%b8%89%e7%94%a8%e6%88%b7%e7%ae%a1%e7%90%86-3 aria-label=三、用户管理>三、用户管理</a><ul><li><a href=#1-%e7%94%a8%e6%88%b7%e6%95%b0%e6%8d%ae%e5%88%97%e8%a1%a8-3 aria-label="1. 用户数据列表">1. 用户数据列表</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e7%94%a8%e6%88%b7-3 aria-label="2. 添加用户">2. 添加用户</a></li><li><a href=#3-%e4%bf%ae%e6%94%b9%e7%94%a8%e6%88%b7%e7%8a%b6%e6%80%81-3 aria-label="3. 修改用户状态">3. 修改用户状态</a></li><li><a href=#4-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e7%94%a8%e6%88%b7%e4%bf%a1%e6%81%af-3 aria-label="4. 根据 ID 查询用户信息">4. 根据 ID 查询用户信息</a></li><li><a href=#5-%e7%bc%96%e8%be%91%e6%8f%90%e4%ba%a4%e7%94%a8%e6%88%b7-3 aria-label="5. 编辑提交用户">5. 编辑提交用户</a></li><li><a href=#6-%e5%88%a0%e9%99%a4%e5%8d%95%e4%b8%aa%e7%94%a8%e6%88%b7-3 aria-label="6. 删除单个用户">6. 删除单个用户</a></li><li><a href=#7-%e5%88%86%e9%85%8d%e7%94%a8%e6%88%b7%e8%a7%92%e8%89%b2-3 aria-label="7. 分配用户角色">7. 分配用户角色</a></li></ul></li><li><a href=#%e5%9b%9b%e6%9d%83%e9%99%90%e7%ae%a1%e7%90%86-3 aria-label=四、权限管理>四、权限管理</a><ul><li><a href=#1-%e6%89%80%e6%9c%89%e6%9d%83%e9%99%90%e5%88%97%e8%a1%a8-3 aria-label="1. 所有权限列表">1. 所有权限列表</a></li><li><a href=#2-%e5%b7%a6%e4%be%a7%e8%8f%9c%e5%8d%95%e6%9d%83%e9%99%90-3 aria-label="2. 左侧菜单权限">2. 左侧菜单权限</a></li></ul></li><li><a href=#%e4%ba%94%e8%a7%92%e8%89%b2%e7%ae%a1%e7%90%86-3 aria-label=五、角色管理>五、角色管理</a><ul><li><a href=#1-%e8%a7%92%e8%89%b2%e5%88%97%e8%a1%a8-3 aria-label="1. 角色列表">1. 角色列表</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e8%a7%92%e8%89%b2-3 aria-label="2. 添加角色">2. 添加角色</a></li><li><a href=#3-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e8%a7%92%e8%89%b2-3 aria-label="3. 根据 ID 查询角色">3. 根据 ID 查询角色</a></li><li><a href=#4-%e7%bc%96%e8%be%91%e6%8f%90%e4%ba%a4%e8%a7%92%e8%89%b2-3 aria-label="4. 编辑提交角色">4. 编辑提交角色</a></li><li><a href=#5-%e5%88%a0%e9%99%a4%e8%a7%92%e8%89%b2-3 aria-label="5. 删除角色">5. 删除角色</a></li><li><a href=#6-%e8%a7%92%e8%89%b2%e6%8e%88%e6%9d%83-3 aria-label="6. 角色授权">6. 角色授权</a></li><li><a href=#7-%e5%88%a0%e9%99%a4%e8%a7%92%e8%89%b2%e6%8c%87%e5%ae%9a%e6%9d%83%e9%99%90-3 aria-label="7. 删除角色指定权限">7. 删除角色指定权限</a></li></ul></li><li><a href=#%e5%85%ad%e5%95%86%e5%93%81%e5%88%86%e7%b1%bb%e7%ae%a1%e7%90%86-3 aria-label=六、商品分类管理>六、商品分类管理</a><ul><li><a href=#1-%e5%95%86%e5%93%81%e5%88%86%e7%b1%bb%e6%95%b0%e6%8d%ae%e5%88%97%e8%a1%a8-3 aria-label="1. 商品分类数据列表">1. 商品分类数据列表</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e5%88%86%e7%b1%bb-3 aria-label="2. 添加分类">2. 添加分类</a></li><li><a href=#3-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e5%88%86%e7%b1%bb-3 aria-label="3. 根据 id 查询分类">3. 根据 id 查询分类</a></li><li><a href=#4-%e7%bc%96%e8%be%91%e6%8f%90%e4%ba%a4%e5%88%86%e7%b1%bb-3 aria-label="4. 编辑提交分类">4. 编辑提交分类</a></li><li><a href=#5-%e5%88%a0%e9%99%a4%e5%88%86%e7%b1%bb-3 aria-label="5. 删除分类">5. 删除分类</a></li></ul></li><li><a href=#%e4%b8%83%e5%88%86%e7%b1%bb%e5%8f%82%e6%95%b0%e7%ae%a1%e7%90%86-3 aria-label=七、分类参数管理>七、分类参数管理</a><ul><li><a href=#1-%e5%8f%82%e6%95%b0%e5%88%97%e8%a1%a8-3 aria-label="1. 参数列表">1. 参数列表</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e5%8a%a8%e6%80%81%e5%8f%82%e6%95%b0%e6%88%96%e9%9d%99%e6%80%81%e5%b1%9e%e6%80%a7-3 aria-label="2. 添加动态参数或静态属性">2. 添加动态参数或静态属性</a></li><li><a href=#3-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e5%8f%82%e6%95%b0-3 aria-label="3. 根据 ID 查询参数">3. 根据 ID 查询参数</a></li><li><a href=#4-%e6%9b%b4%e6%96%b0%e5%8f%82%e6%95%b0%e5%8f%8a%e6%98%8e%e7%bb%86-3 aria-label="4. 更新参数及明细">4. 更新参数及明细</a></li><li><a href=#5-%e5%88%a0%e9%99%a4%e5%8f%82%e6%95%b0-3 aria-label="5. 删除参数">5. 删除参数</a></li></ul></li><li><a href=#%e5%85%ab%e5%95%86%e5%93%81%e7%ae%a1%e7%90%86-3 aria-label=八、商品管理>八、商品管理</a><ul><li><a href=#1-%e5%95%86%e5%93%81%e5%88%97%e8%a1%a8%e6%95%b0%e6%8d%ae-3 aria-label="1. 商品列表数据">1. 商品列表数据</a></li><li><a href=#2-%e6%b7%bb%e5%8a%a0%e5%95%86%e5%93%81-3 aria-label="2. 添加商品">2. 添加商品</a></li><li><a href=#3-%e6%a0%b9%e6%8d%ae-id-%e6%9f%a5%e8%af%a2%e5%95%86%e5%93%81-3 aria-label="3. 根据 ID 查询商品">3. 根据 ID 查询商品</a></li><li><a href=#4-%e7%bc%96%e8%be%91%e6%8f%90%e4%ba%a4%e5%95%86%e5%93%81-3 aria-label="4. 编辑提交商品">4. 编辑提交商品</a></li><li><a href=#5-%e5%88%a0%e9%99%a4%e5%95%86%e5%93%81-3 aria-label="5. 删除商品">5. 删除商品</a></li><li><a href=#6-%e5%9b%be%e7%89%87%e4%b8%8a%e4%bc%a0-3 aria-label="6. 图片上传">6. 图片上传</a></li></ul></li><li><a href=#%e4%b9%9d%e8%ae%a2%e5%8d%95%e7%ae%a1%e7%90%86-3 aria-label=九、订单管理>九、订单管理</a><ul><li><a href=#1-%e8%ae%a2%e5%8d%95%e6%95%b0%e6%8d%ae%e5%88%97%e8%a1%a8-3 aria-label="1. 订单数据列表">1. 订单数据列表</a></li><li><a href=#2-%e4%bf%ae%e6%94%b9%e8%ae%a2%e5%8d%95%e7%8a%b6%e6%80%81-3 aria-label="2. 修改订单状态">2. 修改订单状态</a></li><li><a href=#3-%e6%9f%a5%e7%9c%8b%e8%ae%a2%e5%8d%95%e8%af%a6%e6%83%85-3 aria-label="3. 查看订单详情">3. 查看订单详情</a></li><li><a href=#4-%e4%bf%ae%e6%94%b9%e5%9c%b0%e5%9d%80-3 aria-label="4. 修改地址">4. 修改地址</a></li><li><a href=#5-%e6%9f%a5%e7%9c%8b%e7%89%a9%e6%b5%81%e4%bf%a1%e6%81%af-3 aria-label="5. 查看物流信息">5. 查看物流信息</a></li></ul></li></ul></div></details></div><div class=post-content><h2 id=一api-v2-接口说明>一、API V2 接口说明<a hidden class=anchor aria-hidden=true href=#一api-v2-接口说明>#</a></h2><ul><li><p>接口基准地址：<code>http://www.tangxiaoyang.vip:8888/api/v2/</code></p></li><li><p>服务端已开启 CORS 跨域支持</p></li><li><p>API V2 认证统一使用 Token 认证</p></li><li><p>需要授权的 API ，必须在请求头中使用 <code>Authorization</code> 字段提供 <code>token</code> 令牌</p></li><li><p>使用 HTTP Status Code 标识状态</p></li><li><p>数据返回格式统一使用 JSON</p></li></ul><h3 id=1-支持的请求方法>1. 支持的请求方法<a hidden class=anchor aria-hidden=true href=#1-支持的请求方法>#</a></h3><ul><li><p>GET（SELECT）：从服务器取出资源（一项或多项）。</p></li><li><p>POST（CREATE）：在服务器新建一个资源。</p></li><li><p>PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。</p></li><li><p>PATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。</p></li><li><p>DELETE（DELETE）：从服务器删除资源。</p></li><li><p>HEAD：获取资源的元数据。</p></li><li><p>OPTIONS：获取信息，关于资源的哪些属性是客户端可以改变的。</p></li></ul><h3 id=2-通用返回状态说明>2. 通用返回状态说明<a hidden class=anchor aria-hidden=true href=#2-通用返回状态说明>#</a></h3><table><thead><tr><th>状态码</th><th>含义</th><th>说明</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td>请求成功</td></tr><tr><td>201</td><td>CREATED</td><td>创建成功</td></tr><tr><td>204</td><td>DELETED</td><td>删除成功</td></tr><tr><td>400</td><td>BAD REQUEST</td><td>请求的地址不存在或者包含不支持的参数</td></tr><tr><td>401</td><td>UNAUTHORIZED</td><td>未授权</td></tr><tr><td>403</td><td>FORBIDDEN</td><td>被禁止访问</td></tr><tr><td>404</td><td>NOT FOUND</td><td>请求的资源不存在</td></tr><tr><td>422</td><td>Unprocesable entity</td><td>[POST/PUT/PATCH] 当创建一个对象时，发生一个验证错误</td></tr><tr><td>500</td><td>INTERNAL SERVER ERROR</td><td>内部错误</td></tr></tbody></table><h2 id=二登录>二、登录<a hidden class=anchor aria-hidden=true href=#二登录>#</a></h2><h3 id=1-登录验证接口>1. 登录验证接口<a hidden class=anchor aria-hidden=true href=#1-登录验证接口>#</a></h3><ul><li><p>请求路径：login</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>username</td><td>用户名</td><td>不能为空</td></tr><tr><td>password</td><td>密码</td><td>不能为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>rid</td><td>用户角色 ID</td><td></td></tr><tr><td>username</td><td>用户名</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr><tr><td>token</td><td>令牌</td><td>基于 jwt 的令牌</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 500,
</span></span><span class=line><span class=cl>        &#34;rid&#34;: 0,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;admin&#34;,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;123&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;123@qq.com&#34;,
</span></span><span class=line><span class=cl>        &#34;token&#34;: &#34;Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOjUwMCwicmlkIjowLCJpYXQiOjE1MTI1NDQyOTksImV4cCI6MTUxMjYzMDY5OX0.eGrsrvwHm-tPsO9r_pxHIQ5i5L1kX9RX444uwnRGaIM&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;登录成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=三用户管理>三、用户管理<a hidden class=anchor aria-hidden=true href=#三用户管理>#</a></h2><h3 id=1-用户数据列表>1. 用户数据列表<a hidden class=anchor aria-hidden=true href=#1-用户数据列表>#</a></h3><ul><li><p>请求路径：users</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>query</td><td>查询参数</td><td>可以为空</td></tr><tr><td>pagenum</td><td>当前页码</td><td>不能为空</td></tr><tr><td>pagesize</td><td>每页显示条数</td><td>不能为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>total</td><td>总记录数</td><td></td></tr><tr><td>pagenum</td><td>当前页码</td><td></td></tr><tr><td>users</td><td>用户数据集合</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;total&#34;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pagenum&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;users&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;id&#34;</span><span class=p>:</span> <span class=mi>25</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;username&#34;</span><span class=p>:</span> <span class=s2>&#34;tom&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;mobile&#34;</span><span class=p>:</span> <span class=s2>&#34;13951783475&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;type&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;email&#34;</span><span class=p>:</span> <span class=s2>&#34;1049901079@qq.com&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;create_time&#34;</span><span class=p>:</span> <span class=s2>&#34;2020-11-09T20:36:26.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;mg_state&#34;</span><span class=p>:</span> <span class=bp>true</span><span class=p>,</span> <span class=o>//</span> <span class=err>当前用户的状态</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;role_name&#34;</span><span class=p>:</span> <span class=s2>&#34;超级管理员&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;获取成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=2-添加用户>2. 添加用户<a hidden class=anchor aria-hidden=true href=#2-添加用户>#</a></h3><ul><li><p>请求路径：users</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>username</td><td>用户名称</td><td>不能为空</td></tr><tr><td>password</td><td>用户密码</td><td>不能为空</td></tr><tr><td>email</td><td>邮箱</td><td>可以为空</td></tr><tr><td>mobile</td><td>手机号</td><td>可以为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>rid</td><td>用户角色 ID</td><td></td></tr><tr><td>username</td><td>用户名</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 28,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;tom&#34;,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;test&#34;,
</span></span><span class=line><span class=cl>        &#34;type&#34;: 1,
</span></span><span class=line><span class=cl>        &#34;openid&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;test@test.com&#34;,
</span></span><span class=line><span class=cl>        &#34;create_time&#34;: &#34;2020-11-10T03:47:13.533Z&#34;,
</span></span><span class=line><span class=cl>        &#34;modify_time&#34;: null,
</span></span><span class=line><span class=cl>        &#34;is_delete&#34;: false,
</span></span><span class=line><span class=cl>        &#34;is_active&#34;: false
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;用户创建成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 201
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-修改用户状态>3. 修改用户状态<a hidden class=anchor aria-hidden=true href=#3-修改用户状态>#</a></h3><ul><li><p>请求路径：users/:uId/state/:type</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>uId</td><td>用户 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>type</td><td>用户状态</td><td>不能为空<code>携带在url中</code>，值为 true 或者 false</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>  &#34;data&#34;: {
</span></span><span class=line><span class=cl>    &#34;id&#34;: 566,
</span></span><span class=line><span class=cl>    &#34;rid&#34;: 30,
</span></span><span class=line><span class=cl>    &#34;username&#34;: &#34;admin&#34;,
</span></span><span class=line><span class=cl>    &#34;mobile&#34;: &#34;123456&#34;,
</span></span><span class=line><span class=cl>    &#34;email&#34;: &#34;bb@itany.com&#34;,
</span></span><span class=line><span class=cl>    &#34;mg_state&#34;: 0
</span></span><span class=line><span class=cl>  },
</span></span><span class=line><span class=cl>  &#34;meta&#34;: {
</span></span><span class=line><span class=cl>    &#34;msg&#34;: &#34;设置状态成功&#34;,
</span></span><span class=line><span class=cl>    &#34;status&#34;: 200
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-根据-id-查询用户信息>4. 根据 ID 查询用户信息<a hidden class=anchor aria-hidden=true href=#4-根据-id-查询用户信息>#</a></h3><ul><li><p>请求路径：users/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>role_id</td><td>角色 ID</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 503,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;admin3&#34;,
</span></span><span class=line><span class=cl>        &#34;role_id&#34;: 0,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;00000&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;new@new.com&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;查询成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-编辑提交用户>5. 编辑提交用户<a hidden class=anchor aria-hidden=true href=#5-编辑提交用户>#</a></h3><ul><li><p>请求路径：users/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 id</td><td>不能为空 <code>参数是url参数:id</code></td></tr><tr><td>email</td><td>邮箱</td><td>可以为空</td></tr><tr><td>mobile</td><td>手机号</td><td>可以为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>role_id</td><td>角色 ID</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>/* 200表示成功，500表示失败 */
</span></span><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 503,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;admin3&#34;,
</span></span><span class=line><span class=cl>        &#34;role_id&#34;: 0,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;111&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;123@123.com&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;更新成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=6-删除单个用户>6. 删除单个用户<a hidden class=anchor aria-hidden=true href=#6-删除单个用户>#</a></h3><ul><li><p>请求路径：users/:id</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 id</td><td>不能为空<code>参数是url参数:id</code></td></tr></tbody></table><ul><li><p>响应参数</p></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=7-分配用户角色>7. 分配用户角色<a hidden class=anchor aria-hidden=true href=#7-分配用户角色>#</a></h3><ul><li><p>请求路径：users/:id/role</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td>不能为空<code>参数是url参数:id</code></td></tr><tr><td>rid</td><td>角色 id</td><td>不能为空<code>参数body参数</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>role_id</td><td>角色 ID</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 508,
</span></span><span class=line><span class=cl>        &#34;rid&#34;: &#34;30&#34;,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;asdf1&#34;,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;123123&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;adfsa@qq.com&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;设置角色成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=四权限管理>四、权限管理<a hidden class=anchor aria-hidden=true href=#四权限管理>#</a></h2><h3 id=1-所有权限列表>1. 所有权限列表<a hidden class=anchor aria-hidden=true href=#1-所有权限列表>#</a></h3><ul><li><p>请求路径：rights/:type</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>type</td><td>类型</td><td>值 list 或 tree , list 列表显示权限, tree 树状显示权限,<code>参数是url参数:type</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>权限 ID</td><td></td></tr><tr><td>authName</td><td>权限说明</td><td></td></tr><tr><td>level</td><td>权限层级</td><td></td></tr><tr><td>pid</td><td>权限父 ID</td><td></td></tr><tr><td>path</td><td>对应访问路径</td><td></td></tr></tbody></table><ul><li>响应数据 type=list</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>    &#34;data&#34;: [
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;id&#34;: 101,
</span></span><span class=line><span class=cl>            &#34;authName&#34;: &#34;商品管理&#34;,
</span></span><span class=line><span class=cl>            &#34;level&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>            &#34;pid&#34;: 0,
</span></span><span class=line><span class=cl>            &#34;path&#34;: null
</span></span><span class=line><span class=cl>        },
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;id&#34;: 102,
</span></span><span class=line><span class=cl>            &#34;authName&#34;: &#34;订单管理&#34;,
</span></span><span class=line><span class=cl>            &#34;level&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>            &#34;pid&#34;: 0,
</span></span><span class=line><span class=cl>            &#34;path&#34;: null
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取权限列表成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>type=tree</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>    data: [
</span></span><span class=line><span class=cl>      {
</span></span><span class=line><span class=cl>        id: 101,
</span></span><span class=line><span class=cl>        authName: &#39;商品管理&#39;,
</span></span><span class=line><span class=cl>        path: null,
</span></span><span class=line><span class=cl>        pid: 0,
</span></span><span class=line><span class=cl>        children: [
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>            id: 104,
</span></span><span class=line><span class=cl>            authName: &#39;商品列表&#39;,
</span></span><span class=line><span class=cl>            path: null,
</span></span><span class=line><span class=cl>            pid: 101,
</span></span><span class=line><span class=cl>            children: [
</span></span><span class=line><span class=cl>              {
</span></span><span class=line><span class=cl>                id: 105,
</span></span><span class=line><span class=cl>                authName: &#39;添加商品&#39;,
</span></span><span class=line><span class=cl>                path: null,
</span></span><span class=line><span class=cl>                pid: &#39;104,101&#39;
</span></span><span class=line><span class=cl>              }
</span></span><span class=line><span class=cl>            ]
</span></span><span class=line><span class=cl>          }
</span></span><span class=line><span class=cl>        ]
</span></span><span class=line><span class=cl>      }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    meta: {
</span></span><span class=line><span class=cl>      msg: &#39;获取权限列表成功&#39;,
</span></span><span class=line><span class=cl>      status: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>  }
</span></span></code></pre></div><h3 id=2-左侧菜单权限>2. 左侧菜单权限<a hidden class=anchor aria-hidden=true href=#2-左侧菜单权限>#</a></h3><ul><li><p>请求路径：menus</p></li><li><p>请求方法：get</p></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;:
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;id&#34;: 101,
</span></span><span class=line><span class=cl>            &#34;authName&#34;: &#34;商品管理&#34;,
</span></span><span class=line><span class=cl>            &#34;path&#34;: null,
</span></span><span class=line><span class=cl>            &#34;children&#34;: [
</span></span><span class=line><span class=cl>                {
</span></span><span class=line><span class=cl>                    &#34;id&#34;: 104,
</span></span><span class=line><span class=cl>                    &#34;authName&#34;: &#34;商品列表&#34;,
</span></span><span class=line><span class=cl>                    &#34;path&#34;: null,
</span></span><span class=line><span class=cl>                    &#34;children&#34;: []
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>            ]
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取菜单列表成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=五角色管理>五、角色管理<a hidden class=anchor aria-hidden=true href=#五角色管理>#</a></h2><h3 id=1-角色列表>1. 角色列表<a hidden class=anchor aria-hidden=true href=#1-角色列表>#</a></h3><ul><li><p>请求路径：roles</p></li><li><p>请求方法：get</p></li><li><p>响应数据说明</p><ul><li><p>第一层为角色信息</p></li><li><p>第二层开始为权限说明，权限一共有 3 层权限</p></li><li><p>最后一层权限，不包含 <code>children</code> 属性</p></li></ul></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: [
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;id&#34;: 30,
</span></span><span class=line><span class=cl>            &#34;roleName&#34;: &#34;主管&#34;,
</span></span><span class=line><span class=cl>            &#34;roleDesc&#34;: &#34;技术负责人&#34;,
</span></span><span class=line><span class=cl>            &#34;children&#34;: [
</span></span><span class=line><span class=cl>                {
</span></span><span class=line><span class=cl>                    &#34;id&#34;: 101,
</span></span><span class=line><span class=cl>                    &#34;authName&#34;: &#34;商品管理&#34;,
</span></span><span class=line><span class=cl>                    &#34;path&#34;: null,
</span></span><span class=line><span class=cl>                    &#34;children&#34;: [
</span></span><span class=line><span class=cl>                        {
</span></span><span class=line><span class=cl>                            &#34;id&#34;: 104,
</span></span><span class=line><span class=cl>                            &#34;authName&#34;: &#34;商品列表&#34;,
</span></span><span class=line><span class=cl>                            &#34;path&#34;: null,
</span></span><span class=line><span class=cl>                            &#34;children&#34;: [
</span></span><span class=line><span class=cl>                                {
</span></span><span class=line><span class=cl>                                    &#34;id&#34;: 105,
</span></span><span class=line><span class=cl>                                    &#34;authName&#34;: &#34;添加商品&#34;,
</span></span><span class=line><span class=cl>                                    &#34;path&#34;: null
</span></span><span class=line><span class=cl>                                }
</span></span><span class=line><span class=cl>                            ]
</span></span><span class=line><span class=cl>                        }
</span></span><span class=line><span class=cl>                    ]
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>            ]
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=2-添加角色>2. 添加角色<a hidden class=anchor aria-hidden=true href=#2-添加角色>#</a></h3><ul><li><p>请求路径：roles</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>roleName</td><td>角色名称</td><td>不能为空</td></tr><tr><td>roleDesc</td><td>角色描述</td><td>可以为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>roleId</td><td>角色 ID</td><td></td></tr><tr><td>roleName</td><td>角色名称</td><td></td></tr><tr><td>roleDesc</td><td>角色描述</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;roleId&#34;: 40,
</span></span><span class=line><span class=cl>        &#34;roleName&#34;: &#34;admin2&#34;,
</span></span><span class=line><span class=cl>        &#34;roleDesc&#34;: &#34;admin2Desc&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;创建成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 201
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-根据-id-查询角色>3. 根据 ID 查询角色<a hidden class=anchor aria-hidden=true href=#3-根据-id-查询角色>#</a></h3><ul><li><p>请求路径：roles/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>角色 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>roleId</td><td>角色 ID</td><td></td></tr><tr><td>roleName</td><td>角色名称</td><td></td></tr><tr><td>roleDesc</td><td>角色描述</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;roleId&#34;: 31,
</span></span><span class=line><span class=cl>        &#34;roleName&#34;: &#34;测试角色&#34;,
</span></span><span class=line><span class=cl>        &#34;roleDesc&#34;: &#34;测试负责人&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-编辑提交角色>4. 编辑提交角色<a hidden class=anchor aria-hidden=true href=#4-编辑提交角色>#</a></h3><ul><li><p>请求路径：roles/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>角色 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>roleName</td><td>角色名称</td><td>不能为空</td></tr><tr><td>roleDesc</td><td>角色描述</td><td>可以为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;roleId&#34;: 31,
</span></span><span class=line><span class=cl>        &#34;roleName&#34;: &#34;测试角色&#34;,
</span></span><span class=line><span class=cl>        &#34;roleDesc&#34;: &#34;测试角色描述&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-删除角色>5. 删除角色<a hidden class=anchor aria-hidden=true href=#5-删除角色>#</a></h3><ul><li><p>请求路径：roles/:id</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>角色 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=6-角色授权>6. 角色授权<a hidden class=anchor aria-hidden=true href=#6-角色授权>#</a></h3><ul><li><p>请求路径：roles/:roleId/rights</p></li><li><p>请求方法：post</p></li><li><p>请求参数：通过 <code>请求体</code> 发送给后端</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:roleId</td><td>角色 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>rids</td><td>权限 ID 列表（字符串）</td><td>以 <code>,</code> 分割的权限 ID 列表（获取所有被选中、叶子节点的key和半选中节点的key, 包括 1，2，3级节点）</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;更新成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=7-删除角色指定权限>7. 删除角色指定权限<a hidden class=anchor aria-hidden=true href=#7-删除角色指定权限>#</a></h3><ul><li><p>请求路径：roles/:roleId/rights/:rightId</p></li><li><p>请求方法：delete</p></li><li><p>请求参数 参数名 参数说明 备注 :roleId 角色 ID 不能为空<code>携带在url中</code> :rightId 权限 ID 不能为空<code>携带在url中</code></p></li><li><p>响应数据说明</p><ul><li>返回的data, 是当前角色下最新的权限数据</li></ul></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>      &#34;data&#34;: [
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;id&#34;: 101,
</span></span><span class=line><span class=cl>              &#34;authName&#34;: &#34;商品管理&#34;,
</span></span><span class=line><span class=cl>              &#34;path&#34;: null,
</span></span><span class=line><span class=cl>              &#34;children&#34;: [
</span></span><span class=line><span class=cl>                  {
</span></span><span class=line><span class=cl>                      &#34;id&#34;: 104,
</span></span><span class=line><span class=cl>                      &#34;authName&#34;: &#34;商品列表&#34;,
</span></span><span class=line><span class=cl>                      &#34;path&#34;: null,
</span></span><span class=line><span class=cl>                      &#34;children&#34;: [
</span></span><span class=line><span class=cl>                          {
</span></span><span class=line><span class=cl>                              &#34;id&#34;: 105,
</span></span><span class=line><span class=cl>                              &#34;authName&#34;: &#34;添加商品&#34;,
</span></span><span class=line><span class=cl>                              &#34;path&#34;: null
</span></span><span class=line><span class=cl>                          },
</span></span><span class=line><span class=cl>                          {
</span></span><span class=line><span class=cl>                              &#34;id&#34;: 116,
</span></span><span class=line><span class=cl>                              &#34;authName&#34;: &#34;修改&#34;,
</span></span><span class=line><span class=cl>                              &#34;path&#34;: null
</span></span><span class=line><span class=cl>                          }
</span></span><span class=line><span class=cl>                      ]
</span></span><span class=line><span class=cl>                  }
</span></span><span class=line><span class=cl>              ]
</span></span><span class=line><span class=cl>          }
</span></span><span class=line><span class=cl>      ],
</span></span><span class=line><span class=cl>      &#34;meta&#34;: {
</span></span><span class=line><span class=cl>          &#34;msg&#34;: &#34;取消权限成功&#34;,
</span></span><span class=line><span class=cl>          &#34;status&#34;: 200
</span></span><span class=line><span class=cl>      }
</span></span><span class=line><span class=cl>  }
</span></span></code></pre></div><h2 id=六商品分类管理>六、商品分类管理<a hidden class=anchor aria-hidden=true href=#六商品分类管理>#</a></h2><h3 id=1-商品分类数据列表>1. 商品分类数据列表<a hidden class=anchor aria-hidden=true href=#1-商品分类数据列表>#</a></h3><ul><li><p>请求路径：categories</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>type</td><td>[1,2,3]</td><td>值：1，2，3 分别表示显示一层二层三层分类列表</td></tr><tr><td>【可选参数】如果不传递，则默认获取所有级别的分类</td><td></td><td></td></tr><tr><td>pagenum</td><td>当前页码值</td><td>【可选参数】如果不传递，则默认获取所有分类</td></tr><tr><td>pagesize</td><td>每页显示多少条数据</td><td>【可选参数】如果不传递，则默认获取所有分类</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>cat_id</td><td>分类 ID</td><td></td></tr><tr><td>cat_name</td><td>分类名称</td><td></td></tr><tr><td>cat_pid</td><td>分类父 ID</td><td></td></tr><tr><td>cat_level</td><td>分类当前层级</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: [
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;cat_id&#34;: 1,
</span></span><span class=line><span class=cl>            &#34;cat_name&#34;: &#34;大家电&#34;,
</span></span><span class=line><span class=cl>            &#34;cat_pid&#34;: 0,
</span></span><span class=line><span class=cl>            &#34;cat_level&#34;: 0,
</span></span><span class=line><span class=cl>            &#34;cat_deleted&#34;: false,
</span></span><span class=line><span class=cl>            &#34;children&#34;: [
</span></span><span class=line><span class=cl>                {
</span></span><span class=line><span class=cl>                    &#34;cat_id&#34;: 3,
</span></span><span class=line><span class=cl>                    &#34;cat_name&#34;: &#34;电视&#34;,
</span></span><span class=line><span class=cl>                    &#34;cat_pid&#34;: 1,
</span></span><span class=line><span class=cl>                    &#34;cat_level&#34;: 1,
</span></span><span class=line><span class=cl>                    &#34;cat_deleted&#34;: false,
</span></span><span class=line><span class=cl>                    &#34;children&#34;: [
</span></span><span class=line><span class=cl>                        {
</span></span><span class=line><span class=cl>                            &#34;cat_id&#34;: 6,
</span></span><span class=line><span class=cl>                            &#34;cat_name&#34;: &#34;曲面电视&#34;,
</span></span><span class=line><span class=cl>                            &#34;cat_pid&#34;: 3,
</span></span><span class=line><span class=cl>                            &#34;cat_level&#34;: 2,
</span></span><span class=line><span class=cl>                            &#34;cat_deleted&#34;: false
</span></span><span class=line><span class=cl>                        },
</span></span><span class=line><span class=cl>                        {
</span></span><span class=line><span class=cl>                            &#34;cat_id&#34;: 7,
</span></span><span class=line><span class=cl>                            &#34;cat_name&#34;: &#34;海信&#34;,
</span></span><span class=line><span class=cl>                            &#34;cat_pid&#34;: 3,
</span></span><span class=line><span class=cl>                            &#34;cat_level&#34;: 2,
</span></span><span class=line><span class=cl>                            &#34;cat_deleted&#34;: false
</span></span><span class=line><span class=cl>                        }
</span></span><span class=line><span class=cl>                    ]
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>            ]
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=2-添加分类>2. 添加分类<a hidden class=anchor aria-hidden=true href=#2-添加分类>#</a></h3><ul><li><p>请求路径：categories</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>cat_pid</td><td>分类父 ID</td><td>不能为空，如果要添加一级分类，则父分类Id应该设置为 <code>0</code></td></tr><tr><td>cat_name</td><td>分类名称</td><td>不能为空</td></tr><tr><td>cat_level</td><td>分类层级</td><td>不能为空，<code>0</code>表示一级分类；<code>1</code>表示二级分类；<code>2</code>表示三级分类</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: 62,
</span></span><span class=line><span class=cl>        &#34;cat_name&#34;: &#34;相框&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_pid&#34;: &#34;1&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_level&#34;: &#34;1&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;创建成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 201
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-根据-id-查询分类>3. 根据 id 查询分类<a hidden class=anchor aria-hidden=true href=#3-根据-id-查询分类>#</a></h3><ul><li><p>请求路径：categories/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: 3,
</span></span><span class=line><span class=cl>        &#34;cat_name&#34;: &#34;厨卫电器&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_pid&#34;: 0,
</span></span><span class=line><span class=cl>        &#34;cat_level&#34;: 0
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-编辑提交分类>4. 编辑提交分类<a hidden class=anchor aria-hidden=true href=#4-编辑提交分类>#</a></h3><ul><li><p>请求路径：categories/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>cat_name</td><td>分类名称</td><td>不能为空【此参数，放到请求体中】</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: 22,
</span></span><span class=line><span class=cl>        &#34;cat_name&#34;: &#34;自拍杆&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_pid&#34;: 7,
</span></span><span class=line><span class=cl>        &#34;cat_level&#34;: 2
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;更新成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-删除分类>5. 删除分类<a hidden class=anchor aria-hidden=true href=#5-删除分类>#</a></h3><ul><li><p>请求路径：categories/:id</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=七分类参数管理>七、分类参数管理<a hidden class=anchor aria-hidden=true href=#七分类参数管理>#</a></h2><h3 id=1-参数列表>1. 参数列表<a hidden class=anchor aria-hidden=true href=#1-参数列表>#</a></h3><ul><li><p>请求路径：categories/:id/attributes</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>sel</td><td>many或only</td><td>不能为空，many表示动态参数，only表示静态参数（也称为静态属性）</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>attr_id</td><td>分类参数 ID</td><td></td></tr><tr><td>attr_name</td><td>分类参数名称</td><td></td></tr><tr><td>cat_id</td><td>分类参数所属分类</td><td></td></tr><tr><td>attr_sel</td><td>分类参数的类型，many表示动态参数，only表示静态属性</td><td></td></tr><tr><td>attr_write</td><td>list表示从列表选择（动态参数），manual表示手工录入（静态属性）</td><td></td></tr><tr><td>attr_vals</td><td>分类参数的明细，如果是动态参数，则该值是以<code>空格</code>分隔的字符串</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: [
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;attr_id&#34;: 1,
</span></span><span class=line><span class=cl>            &#34;attr_name&#34;: &#34;cpu&#34;,
</span></span><span class=line><span class=cl>            &#34;cat_id&#34;: 22,
</span></span><span class=line><span class=cl>            &#34;attr_sel&#34;: &#34;many&#34;,
</span></span><span class=line><span class=cl>            &#34;attr_write&#34;: &#34;list&#34;,
</span></span><span class=line><span class=cl>            &#34;attr_vals&#34;: &#34;4K高清 5K高清 6K高清&#34;
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=2-添加动态参数或静态属性>2. 添加动态参数或静态属性<a hidden class=anchor aria-hidden=true href=#2-添加动态参数或静态属性>#</a></h3><ul><li><p>请求路径：categories/:id/attributes</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>attr_name</td><td>参数名称</td><td>不能为空</td></tr><tr><td>attr_sel</td><td>many或only</td><td>不能为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;attr_id&#34;: 44,
</span></span><span class=line><span class=cl>        &#34;attr_name&#34;: &#34;测试参数&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: &#34;1&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_sel&#34;: &#34;many&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_write&#34;: &#34;list&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_vals&#34;: &#34;a,b,c&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;创建成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 201
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-根据-id-查询参数>3. 根据 ID 查询参数<a hidden class=anchor aria-hidden=true href=#3-根据-id-查询参数>#</a></h3><ul><li><p>请求路径：categories/:id/attributes/:attrId</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>:attrId</td><td>属性 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>attr_sel</td><td>many或only</td><td>不能为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;attr_id&#34;: 1,
</span></span><span class=line><span class=cl>        &#34;attr_name&#34;: &#34;cpu&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: 22,
</span></span><span class=line><span class=cl>        &#34;attr_sel&#34;: &#34;only&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_write&#34;: &#34;manual&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_vals&#34;: &#34;ffff&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-更新参数及明细>4. 更新参数及明细<a hidden class=anchor aria-hidden=true href=#4-更新参数及明细>#</a></h3><ul><li><p>请求路径：categories/:id/attributes/:attrId</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>:attrId</td><td>参数 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>attr_name</td><td>参数名称</td><td>不能为空，携带在<code>请求体</code>中</td></tr><tr><td>attr_sel</td><td>many或only</td><td>不能为空，携带在<code>请求体</code>中</td></tr><tr><td>attr_vals</td><td>参数的明细</td><td>可选参数，携带在<code>请求体</code>中</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;attr_id&#34;: 9,
</span></span><span class=line><span class=cl>        &#34;attr_name&#34;: &#34;测试更新&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: &#34;43&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_sel&#34;: &#34;only&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_write&#34;: &#34;manual&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_vals&#34;: &#34;abc&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;更新成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-删除参数>5. 删除参数<a hidden class=anchor aria-hidden=true href=#5-删除参数>#</a></h3><ul><li><p>请求路径： categories/:id/attributes/:attrid</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>:attrid</td><td>参数 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=八商品管理>八、商品管理<a hidden class=anchor aria-hidden=true href=#八商品管理>#</a></h2><h3 id=1-商品列表数据>1. 商品列表数据<a hidden class=anchor aria-hidden=true href=#1-商品列表数据>#</a></h3><ul><li><p>请求路径：goods</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>query</td><td>查询参数</td><td>可以为空</td></tr><tr><td>pagenum</td><td>当前页码</td><td>不能为空</td></tr><tr><td>pagesize</td><td>每页显示条数</td><td>不能为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>total</td><td>总共商品条数</td><td></td></tr><tr><td>pagenum</td><td>当前商品页数</td><td></td></tr><tr><td>goods_id</td><td>商品 ID</td><td></td></tr><tr><td>goods_name</td><td>商品名称</td><td></td></tr><tr><td>goods_price</td><td>价格</td><td></td></tr><tr><td>goods_number</td><td>数量</td><td></td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_state</td><td>商品状态</td><td>商品状态 0: 未通过 1: 审核中 2: 已审核</td></tr><tr><td>add_time</td><td>添加时间</td><td></td></tr><tr><td>upd_time</td><td>更新时间</td><td></td></tr><tr><td>hot_mumber</td><td>热销品数量</td><td></td></tr><tr><td>is_promote</td><td>是否是热销品</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;total&#34;</span><span class=p>:</span> <span class=mi>50</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pagenum&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>144</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;iphone&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1512954923</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512954923</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;获取成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=2-添加商品>2. 添加商品<a hidden class=anchor aria-hidden=true href=#2-添加商品>#</a></h3><ul><li><p>请求路径：goods</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>goods_name</td><td>商品名称</td><td>不能为空</td></tr><tr><td>goods_cat</td><td>以<code>,</code>逗号分割的分类列表</td><td>不能为空</td></tr><tr><td>goods_price</td><td>价格</td><td>不能为空</td></tr><tr><td>goods_number</td><td>数量</td><td>不能为空</td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_introduce</td><td>介绍</td><td>可以为空</td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>可以为空</td></tr><tr><td>attrs</td><td>商品的参数（数组），包含 <code>动态参数</code> 和 <code>静态属性</code></td><td>可以为空</td></tr></tbody></table><ul><li>请求数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span><span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_cat&#34;</span><span class=p>:</span> <span class=s2>&#34;1,2,3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span><span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span><span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span><span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span><span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;pics&#34;</span><span class=p>:[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;pic&#34;</span><span class=p>:</span><span class=s2>&#34;/tmp_uploads/30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;attrs&#34;</span><span class=p>:[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span><span class=s2>&#34;ddd&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span><span class=s2>&#34;eee&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>total</td><td>总共商品条数</td><td></td></tr><tr><td>pagenum</td><td>当前商品页数</td><td></td></tr><tr><td>goods_id</td><td>商品 ID</td><td></td></tr><tr><td>goods_cat</td><td>以为&rsquo;,&lsquo;分割的分类列表</td><td></td></tr><tr><td>goods_name</td><td>商品名称</td><td></td></tr><tr><td>goods_price</td><td>价格</td><td></td></tr><tr><td>goods_number</td><td>数量</td><td></td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_state</td><td>商品状态</td><td>商品状态 0: 未通过 1: 审核中 2: 已审核</td></tr><tr><td>add_time</td><td>添加时间</td><td></td></tr><tr><td>upd_time</td><td>更新时间</td><td></td></tr><tr><td>hot_mumber</td><td>热销品数量</td><td></td></tr><tr><td>is_promote</td><td>是否是热销品</td><td></td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图</td></tr><tr><td>attrs</td><td>商品的参数（数组）</td><td>goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;cat_id&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>397</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;创建商品成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>201</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=3-根据-id-查询商品>3. 根据 ID 查询商品<a hidden class=anchor aria-hidden=true href=#3-根据-id-查询商品>#</a></h3><ul><li><p>请求路径：goods/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>goods_id</td><td>商品 ID</td><td></td></tr><tr><td>goods_name</td><td>商品名称</td><td></td></tr><tr><td>goods_price</td><td>价格</td><td></td></tr><tr><td>goods_number</td><td>数量</td><td></td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_state</td><td>商品状态</td><td>商品状态 0: 未通过 1: 审核中 2: 已审核</td></tr><tr><td>goods_introduce</td><td>介绍</td><td></td></tr><tr><td>goods_cat</td><td>以为&rsquo;,&lsquo;分割的分类列表</td><td></td></tr><tr><td>add_time</td><td>添加时间</td><td></td></tr><tr><td>upd_time</td><td>更新时间</td><td></td></tr><tr><td>hot_mumber</td><td>热销品数量</td><td></td></tr><tr><td>is_promote</td><td>是否是热销品</td><td></td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图</td></tr><tr><td>attrs</td><td>商品的参数（数组）</td><td>goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>397</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;获取成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=4-编辑提交商品>4. 编辑提交商品<a hidden class=anchor aria-hidden=true href=#4-编辑提交商品>#</a></h3><ul><li><p>请求路径：goods/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>goods_name</td><td>商品名称</td><td>不能为空</td></tr><tr><td>goods_cat</td><td>以为&rsquo;,&lsquo;分割的分类列表</td><td>不能为空</td></tr><tr><td>goods_price</td><td>价格</td><td>不能为空</td></tr><tr><td>goods_number</td><td>数量</td><td>不能为空</td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_introduce</td><td>介绍</td><td>可以为空</td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>可以为空</td></tr><tr><td>attrs</td><td>商品的参数（数组）</td><td>可以为空</td></tr></tbody></table><ul><li>请求数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span><span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span><span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span><span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span><span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span><span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;pics&#34;</span><span class=p>:[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;pic&#34;</span><span class=p>:</span><span class=s2>&#34;/tmp_uploads/30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;attrs&#34;</span><span class=p>:[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span><span class=s2>&#34;ddd&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span><span class=s2>&#34;eee&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>total</td><td>总共商品条数</td><td></td></tr><tr><td>pagenum</td><td>当前商品页数</td><td></td></tr><tr><td>goods_id</td><td>商品 ID</td><td></td></tr><tr><td>goods_name</td><td>商品名称</td><td></td></tr><tr><td>goods_price</td><td>价格</td><td></td></tr><tr><td>goods_number</td><td>数量</td><td></td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_state</td><td>商品状态</td><td>商品状态 0: 未通过 1: 审核中 2: 已审核</td></tr><tr><td>add_time</td><td>添加时间</td><td></td></tr><tr><td>upd_time</td><td>更新时间</td><td></td></tr><tr><td>hot_mumber</td><td>热销品数量</td><td></td></tr><tr><td>is_promote</td><td>是否是热销品</td><td></td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图</td></tr><tr><td>attrs</td><td>商品的参数（数组）</td><td>goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选,</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>397</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;更新商品成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=5-删除商品>5. 删除商品<a hidden class=anchor aria-hidden=true href=#5-删除商品>#</a></h3><ul><li><p>请求路径：goods/:id</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>###同步商品图片</p><ul><li><p>请求路径：goods/:id/pics</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>pics</td><td>商品图片集合</td><td>如果有 pics_id 字段会保留该图片，如果没有 pics_id 但是有 pic 字段就会新生成图片数据</td></tr></tbody></table><ul><li>请求数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>;[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=n>pic</span><span class=p>:</span> <span class=s1>&#39;tmp_uploads/db28f6316835836e97653b5c75e418be.png&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>pics_id</span><span class=p>:</span> <span class=mi>397</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>goods_id</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>pics_big</span><span class=p>:</span> <span class=s1>&#39;uploads/goodspics/big_30f08d52c551ecb447277eae232304b8&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>pics_mid</span><span class=p>:</span> <span class=s1>&#39;uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>pics_sma</span><span class=p>:</span> <span class=s1>&#39;uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></div><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;iphoneXX&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;./uploads/goods/20201113/483a3b8e99e534ec3e4312dbbaee7c9d.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;./uploads/goods/20201113/small_483a3b8e99e534ec3e4312dbbaee7c9d.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_del&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1510045904</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512635159</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;delete_time&#34;</span><span class=p>:</span> <span class=mi>1512635159</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>383</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;更新成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>###同步商品属性</p><ul><li><p>请求路径：goods/:id/attributes</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>请求数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>;[
</span></span><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>    attr_id: 15,
</span></span><span class=line><span class=cl>    attr_value: &#39;ddd&#39;
</span></span><span class=line><span class=cl>  },
</span></span><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>    attr_id: 15,
</span></span><span class=line><span class=cl>    attr_value: &#39;eee&#39;
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>]
</span></span></code></pre></div><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;iphoneXX&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;./uploads/goods/20201113/483a3b8e99e534ec3e4312dbbaee7c9d.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;./uploads/goods/20201113/small_483a3b8e99e534ec3e4312dbbaee7c9d.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_del&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1510045904</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512635159</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;delete_time&#34;</span><span class=p>:</span> <span class=mi>1512635159</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>383</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;更新成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>###商品图片处理必须安装 GraphicsMagick</p><ul><li>linux</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>apt-get install GraphicsMagick
</span></span></code></pre></div><ul><li>Mac OS X</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>brew install GraphicsMagick
</span></span></code></pre></div><ul><li>Windows <a href=https://sourceforge.net/projects/graphicsmagick/files/graphicsmagick-binaries/1.3.27/GraphicsMagick-1.3.27-Q8-win64-dll.exe/download>点击下载</a></li></ul><h3 id=6-图片上传>6. 图片上传<a hidden class=anchor aria-hidden=true href=#6-图片上传>#</a></h3><ul><li><p>请求路径：upload</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>file</td><td>上传文件</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;tmp_path&#34;</span><span class=p>:</span> <span class=s2>&#34;tmp_uploads/ccfc5179a914e94506bcbb7377e8985f.png&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;http://127.0.0.1:8888tmp_uploads/ccfc5179a914e94506bcbb7377e8985f.png&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;上传成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=九订单管理>九、订单管理<a hidden class=anchor aria-hidden=true href=#九订单管理>#</a></h2><h3 id=1-订单数据列表>1. 订单数据列表<a hidden class=anchor aria-hidden=true href=#1-订单数据列表>#</a></h3><ul><li><p>请求路径：orders</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>query</td><td>查询参数</td><td>可以为空</td></tr><tr><td>pagenum</td><td>当前页码</td><td>可以为空，默认为1</td></tr><tr><td>pagesize</td><td>每页显示条数</td><td>可以为空，省略时返回所有订单</td></tr><tr><td>user_id</td><td>用户 ID</td><td>可以为空</td></tr><tr><td>pay_status</td><td>支付状态</td><td>可以为空</td></tr><tr><td>is_send</td><td>是否发货</td><td>可以为空</td></tr><tr><td>order_fapiao_title</td><td>[&lsquo;个人&rsquo;,&lsquo;公司&rsquo;]</td><td>可以为空</td></tr><tr><td>order_fapiao_company</td><td>公司名称</td><td>可以为空</td></tr><tr><td>order_fapiao_content</td><td>发票内容</td><td>可以为空</td></tr><tr><td>consignee_addr</td><td>收货地址</td><td>可以为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;total&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pagenum&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_id&#34;</span><span class=p>:</span> <span class=mi>47</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;user_id&#34;</span><span class=p>:</span> <span class=mi>133</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_number&#34;</span><span class=p>:</span> <span class=s2>&#34;59e7502d7993d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_price&#34;</span><span class=p>:</span> <span class=mi>322</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_pay&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;is_send&#34;</span><span class=p>:</span> <span class=s2>&#34;是&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;trade_no&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_fapiao_title&#34;</span><span class=p>:</span> <span class=s2>&#34;个人&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_fapiao_company&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_fapiao_content&#34;</span><span class=p>:</span> <span class=s2>&#34;办公用品&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;consignee_addr&#34;</span><span class=p>:</span> <span class=s2>&#34;江苏省南京市秦淮区龙蟠中路666号&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pay_status&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;create_time&#34;</span><span class=p>:</span> <span class=mi>1508331565</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;update_time&#34;</span><span class=p>:</span> <span class=mi>1508331565</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;获取成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=2-修改订单状态>2. 修改订单状态<a hidden class=anchor aria-hidden=true href=#2-修改订单状态>#</a></h3><ul><li><p>请求路径：orders/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>订单 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>is_send</td><td>订单是否发货</td><td>1:已经发货，0:未发货</td></tr><tr><td>order_pay</td><td>订单支付</td><td>支付方式 0 未支付 1 支付宝 2 微信 3 银行卡</td></tr><tr><td>order_price</td><td>订单价格</td><td></td></tr><tr><td>order_number</td><td>订单数量</td><td></td></tr><tr><td>pay_status</td><td>支付状态</td><td>订单状态： 0 未付款、1 已付款</td></tr></tbody></table><ul><li><p>请求数据说明</p><ul><li>所有请求数据都是增量更新，如果参数不填写，就不会更新该字段</li></ul></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>        &#34;user_id&#34;: 1,
</span></span><span class=line><span class=cl>        &#34;order_number&#34;: &#34;itany-g7kmck71vjaujfgoi&#34;,
</span></span><span class=line><span class=cl>        &#34;order_price&#34;: 20,
</span></span><span class=line><span class=cl>        &#34;order_pay&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>        &#34;is_send&#34;: &#34;否&#34;,
</span></span><span class=line><span class=cl>        &#34;trade_no&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_title&#34;: &#34;个人&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_company&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_content&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;consignee_addr&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;pay_status&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>        &#34;create_time&#34;: 1512533560,
</span></span><span class=line><span class=cl>        &#34;update_time&#34;: 1512533560,
</span></span><span class=line><span class=cl>        &#34;goods&#34;: [
</span></span><span class=line><span class=cl>            {
</span></span><span class=line><span class=cl>                &#34;id&#34;: 82,
</span></span><span class=line><span class=cl>                &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>                &#34;goods_id&#34;: 96,
</span></span><span class=line><span class=cl>                &#34;goods_price&#34;: 333,
</span></span><span class=line><span class=cl>                &#34;goods_number&#34;: 2,
</span></span><span class=line><span class=cl>                &#34;goods_total_price&#34;: 999
</span></span><span class=line><span class=cl>            },
</span></span><span class=line><span class=cl>            {
</span></span><span class=line><span class=cl>                &#34;id&#34;: 83,
</span></span><span class=line><span class=cl>                &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>                &#34;goods_id&#34;: 95,
</span></span><span class=line><span class=cl>                &#34;goods_price&#34;: 666,
</span></span><span class=line><span class=cl>                &#34;goods_number&#34;: 5,
</span></span><span class=line><span class=cl>                &#34;goods_total_price&#34;: 999
</span></span><span class=line><span class=cl>            }
</span></span><span class=line><span class=cl>        ]
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-查看订单详情>3. 查看订单详情<a hidden class=anchor aria-hidden=true href=#3-查看订单详情>#</a></h3><ul><li><p>请求路径：orders/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>订单 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>        &#34;user_id&#34;: 1,
</span></span><span class=line><span class=cl>        &#34;order_number&#34;: &#34;itany-g7kmck71vjaujfgoi&#34;,
</span></span><span class=line><span class=cl>        &#34;order_price&#34;: 20,
</span></span><span class=line><span class=cl>        &#34;order_pay&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>        &#34;is_send&#34;: &#34;否&#34;,
</span></span><span class=line><span class=cl>        &#34;trade_no&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_title&#34;: &#34;个人&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_company&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_content&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;consignee_addr&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;pay_status&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>        &#34;create_time&#34;: 1512533560,
</span></span><span class=line><span class=cl>        &#34;update_time&#34;: 1512533560,
</span></span><span class=line><span class=cl>        &#34;goods&#34;: [
</span></span><span class=line><span class=cl>            {
</span></span><span class=line><span class=cl>                &#34;id&#34;: 82,
</span></span><span class=line><span class=cl>                &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>                &#34;goods_id&#34;: 96,
</span></span><span class=line><span class=cl>                &#34;goods_price&#34;: 333,
</span></span><span class=line><span class=cl>                &#34;goods_number&#34;: 2,
</span></span><span class=line><span class=cl>                &#34;goods_total_price&#34;: 999
</span></span><span class=line><span class=cl>            },
</span></span><span class=line><span class=cl>            {
</span></span><span class=line><span class=cl>                &#34;id&#34;: 83,
</span></span><span class=line><span class=cl>                &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>                &#34;goods_id&#34;: 95,
</span></span><span class=line><span class=cl>                &#34;goods_price&#34;: 666,
</span></span><span class=line><span class=cl>                &#34;goods_number&#34;: 5,
</span></span><span class=line><span class=cl>                &#34;goods_total_price&#34;: 999
</span></span><span class=line><span class=cl>            }
</span></span><span class=line><span class=cl>        ]
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-修改地址>4. 修改地址<a hidden class=anchor aria-hidden=true href=#4-修改地址>#</a></h3><ul><li><p>请求路径：orders/:id/address</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>订单 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>consignee_addr</td><td>收货地址</td><td>可以为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {},
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;修改地址成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-查看物流信息>5. 查看物流信息<a hidden class=anchor aria-hidden=true href=#5-查看物流信息>#</a></h3><ul><li><p>请求路径：/kuaidi/:id</p></li><li><p>请求方法：get</p></li><li><p>物流单号：815294206237577</p></li><li><p>响应数据：</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>      &#34;meta&#34;:{
</span></span><span class=line><span class=cl>          &#34;status&#34;:200,
</span></span><span class=line><span class=cl>          &#34;message&#34;:&#34;获取物流信息成功！&#34;
</span></span><span class=line><span class=cl>      },
</span></span><span class=line><span class=cl>      &#34;data&#34;:[
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-15 12:39:56&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-15 12:39:56&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已签收,签收人是 汤小洋 先生/女士，如有疑问请联系派件员阿奇(13805148888)，如您未收到此快递，请拨打投诉电话：15294207777，感谢使用申通快递，期待再次为您服务&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-15 08:46:54&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-15 08:46:54&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;上海浦东寒亭营业厅-寒亭阿奇(13805148888)-派件中&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-15 08:38:57&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-15 08:38:57&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东寒亭营业厅&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-15 06:38:13&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-15 06:38:13&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东寒亭营业厅&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 20:56:45&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 20:56:45&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;上海浦东转运中心-已发往-上海浦东寒亭公司&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 20:52:44&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 20:52:44&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 17:43:48&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 17:43:48&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 10:53:46&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 10:53:46&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;上海浦东转运中心-已发往-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 10:43:31&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 10:43:31&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 02:43:20&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 02:43:20&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;江苏苏州转运中心-已发往-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 02:41:40&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 02:41:40&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-江苏苏州转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-13 16:28:13&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-13 16:28:13&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;江苏南京转运中心-已发往-江苏苏州转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-13 15:03:30&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-13 15:03:30&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;南京IT教育公司-已发往-江苏南京转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-13 14:47:56&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-13 14:47:56&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;南京IT教育公司-已发往-江苏南京转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-13 14:37:06&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-13 14:37:06&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;南京IT教育公司-城东汪小主宠物店-已收件&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          }
</span></span><span class=line><span class=cl>      ]
</span></span><span class=line><span class=cl>  }
</span></span></code></pre></div><h2 id=一api-v2-接口说明-1>一、API V2 接口说明<a hidden class=anchor aria-hidden=true href=#一api-v2-接口说明-1>#</a></h2><ul><li><p>接口基准地址：<code>http://www.tangxiaoyang.vip:8888/api/v2/</code></p></li><li><p>服务端已开启 CORS 跨域支持</p></li><li><p>API V2 认证统一使用 Token 认证</p></li><li><p>需要授权的 API ，必须在请求头中使用 <code>Authorization</code> 字段提供 <code>token</code> 令牌</p></li><li><p>使用 HTTP Status Code 标识状态</p></li><li><p>数据返回格式统一使用 JSON</p></li></ul><h3 id=1-支持的请求方法-1>1. 支持的请求方法<a hidden class=anchor aria-hidden=true href=#1-支持的请求方法-1>#</a></h3><ul><li><p>GET（SELECT）：从服务器取出资源（一项或多项）。</p></li><li><p>POST（CREATE）：在服务器新建一个资源。</p></li><li><p>PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。</p></li><li><p>PATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。</p></li><li><p>DELETE（DELETE）：从服务器删除资源。</p></li><li><p>HEAD：获取资源的元数据。</p></li><li><p>OPTIONS：获取信息，关于资源的哪些属性是客户端可以改变的。</p></li></ul><h3 id=2-通用返回状态说明-1>2. 通用返回状态说明<a hidden class=anchor aria-hidden=true href=#2-通用返回状态说明-1>#</a></h3><table><thead><tr><th>状态码</th><th>含义</th><th>说明</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td>请求成功</td></tr><tr><td>201</td><td>CREATED</td><td>创建成功</td></tr><tr><td>204</td><td>DELETED</td><td>删除成功</td></tr><tr><td>400</td><td>BAD REQUEST</td><td>请求的地址不存在或者包含不支持的参数</td></tr><tr><td>401</td><td>UNAUTHORIZED</td><td>未授权</td></tr><tr><td>403</td><td>FORBIDDEN</td><td>被禁止访问</td></tr><tr><td>404</td><td>NOT FOUND</td><td>请求的资源不存在</td></tr><tr><td>422</td><td>Unprocesable entity</td><td>[POST/PUT/PATCH] 当创建一个对象时，发生一个验证错误</td></tr><tr><td>500</td><td>INTERNAL SERVER ERROR</td><td>内部错误</td></tr></tbody></table><h2 id=二登录-1>二、登录<a hidden class=anchor aria-hidden=true href=#二登录-1>#</a></h2><h3 id=1-登录验证接口-1>1. 登录验证接口<a hidden class=anchor aria-hidden=true href=#1-登录验证接口-1>#</a></h3><ul><li><p>请求路径：login</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>username</td><td>用户名</td><td>不能为空</td></tr><tr><td>password</td><td>密码</td><td>不能为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>rid</td><td>用户角色 ID</td><td></td></tr><tr><td>username</td><td>用户名</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr><tr><td>token</td><td>令牌</td><td>基于 jwt 的令牌</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 500,
</span></span><span class=line><span class=cl>        &#34;rid&#34;: 0,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;admin&#34;,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;123&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;123@qq.com&#34;,
</span></span><span class=line><span class=cl>        &#34;token&#34;: &#34;Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOjUwMCwicmlkIjowLCJpYXQiOjE1MTI1NDQyOTksImV4cCI6MTUxMjYzMDY5OX0.eGrsrvwHm-tPsO9r_pxHIQ5i5L1kX9RX444uwnRGaIM&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;登录成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=三用户管理-1>三、用户管理<a hidden class=anchor aria-hidden=true href=#三用户管理-1>#</a></h2><h3 id=1-用户数据列表-1>1. 用户数据列表<a hidden class=anchor aria-hidden=true href=#1-用户数据列表-1>#</a></h3><ul><li><p>请求路径：users</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>query</td><td>查询参数</td><td>可以为空</td></tr><tr><td>pagenum</td><td>当前页码</td><td>不能为空</td></tr><tr><td>pagesize</td><td>每页显示条数</td><td>不能为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>total</td><td>总记录数</td><td></td></tr><tr><td>pagenum</td><td>当前页码</td><td></td></tr><tr><td>users</td><td>用户数据集合</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;total&#34;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pagenum&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;users&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;id&#34;</span><span class=p>:</span> <span class=mi>25</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;username&#34;</span><span class=p>:</span> <span class=s2>&#34;tom&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;mobile&#34;</span><span class=p>:</span> <span class=s2>&#34;13951783475&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;type&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;email&#34;</span><span class=p>:</span> <span class=s2>&#34;1049901079@qq.com&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;create_time&#34;</span><span class=p>:</span> <span class=s2>&#34;2020-11-09T20:36:26.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;mg_state&#34;</span><span class=p>:</span> <span class=bp>true</span><span class=p>,</span> <span class=o>//</span> <span class=err>当前用户的状态</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;role_name&#34;</span><span class=p>:</span> <span class=s2>&#34;超级管理员&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;获取成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=2-添加用户-1>2. 添加用户<a hidden class=anchor aria-hidden=true href=#2-添加用户-1>#</a></h3><ul><li><p>请求路径：users</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>username</td><td>用户名称</td><td>不能为空</td></tr><tr><td>password</td><td>用户密码</td><td>不能为空</td></tr><tr><td>email</td><td>邮箱</td><td>可以为空</td></tr><tr><td>mobile</td><td>手机号</td><td>可以为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>rid</td><td>用户角色 ID</td><td></td></tr><tr><td>username</td><td>用户名</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 28,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;tom&#34;,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;test&#34;,
</span></span><span class=line><span class=cl>        &#34;type&#34;: 1,
</span></span><span class=line><span class=cl>        &#34;openid&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;test@test.com&#34;,
</span></span><span class=line><span class=cl>        &#34;create_time&#34;: &#34;2020-11-10T03:47:13.533Z&#34;,
</span></span><span class=line><span class=cl>        &#34;modify_time&#34;: null,
</span></span><span class=line><span class=cl>        &#34;is_delete&#34;: false,
</span></span><span class=line><span class=cl>        &#34;is_active&#34;: false
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;用户创建成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 201
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-修改用户状态-1>3. 修改用户状态<a hidden class=anchor aria-hidden=true href=#3-修改用户状态-1>#</a></h3><ul><li><p>请求路径：users/:uId/state/:type</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>uId</td><td>用户 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>type</td><td>用户状态</td><td>不能为空<code>携带在url中</code>，值为 true 或者 false</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>  &#34;data&#34;: {
</span></span><span class=line><span class=cl>    &#34;id&#34;: 566,
</span></span><span class=line><span class=cl>    &#34;rid&#34;: 30,
</span></span><span class=line><span class=cl>    &#34;username&#34;: &#34;admin&#34;,
</span></span><span class=line><span class=cl>    &#34;mobile&#34;: &#34;123456&#34;,
</span></span><span class=line><span class=cl>    &#34;email&#34;: &#34;bb@itany.com&#34;,
</span></span><span class=line><span class=cl>    &#34;mg_state&#34;: 0
</span></span><span class=line><span class=cl>  },
</span></span><span class=line><span class=cl>  &#34;meta&#34;: {
</span></span><span class=line><span class=cl>    &#34;msg&#34;: &#34;设置状态成功&#34;,
</span></span><span class=line><span class=cl>    &#34;status&#34;: 200
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-根据-id-查询用户信息-1>4. 根据 ID 查询用户信息<a hidden class=anchor aria-hidden=true href=#4-根据-id-查询用户信息-1>#</a></h3><ul><li><p>请求路径：users/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>role_id</td><td>角色 ID</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 503,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;admin3&#34;,
</span></span><span class=line><span class=cl>        &#34;role_id&#34;: 0,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;00000&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;new@new.com&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;查询成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-编辑提交用户-1>5. 编辑提交用户<a hidden class=anchor aria-hidden=true href=#5-编辑提交用户-1>#</a></h3><ul><li><p>请求路径：users/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 id</td><td>不能为空 <code>参数是url参数:id</code></td></tr><tr><td>email</td><td>邮箱</td><td>可以为空</td></tr><tr><td>mobile</td><td>手机号</td><td>可以为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>role_id</td><td>角色 ID</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>/* 200表示成功，500表示失败 */
</span></span><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 503,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;admin3&#34;,
</span></span><span class=line><span class=cl>        &#34;role_id&#34;: 0,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;111&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;123@123.com&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;更新成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=6-删除单个用户-1>6. 删除单个用户<a hidden class=anchor aria-hidden=true href=#6-删除单个用户-1>#</a></h3><ul><li><p>请求路径：users/:id</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 id</td><td>不能为空<code>参数是url参数:id</code></td></tr></tbody></table><ul><li><p>响应参数</p></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=7-分配用户角色-1>7. 分配用户角色<a hidden class=anchor aria-hidden=true href=#7-分配用户角色-1>#</a></h3><ul><li><p>请求路径：users/:id/role</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td>不能为空<code>参数是url参数:id</code></td></tr><tr><td>rid</td><td>角色 id</td><td>不能为空<code>参数body参数</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>role_id</td><td>角色 ID</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 508,
</span></span><span class=line><span class=cl>        &#34;rid&#34;: &#34;30&#34;,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;asdf1&#34;,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;123123&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;adfsa@qq.com&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;设置角色成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=四权限管理-1>四、权限管理<a hidden class=anchor aria-hidden=true href=#四权限管理-1>#</a></h2><h3 id=1-所有权限列表-1>1. 所有权限列表<a hidden class=anchor aria-hidden=true href=#1-所有权限列表-1>#</a></h3><ul><li><p>请求路径：rights/:type</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>type</td><td>类型</td><td>值 list 或 tree , list 列表显示权限, tree 树状显示权限,<code>参数是url参数:type</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>权限 ID</td><td></td></tr><tr><td>authName</td><td>权限说明</td><td></td></tr><tr><td>level</td><td>权限层级</td><td></td></tr><tr><td>pid</td><td>权限父 ID</td><td></td></tr><tr><td>path</td><td>对应访问路径</td><td></td></tr></tbody></table><ul><li>响应数据 type=list</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>    &#34;data&#34;: [
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;id&#34;: 101,
</span></span><span class=line><span class=cl>            &#34;authName&#34;: &#34;商品管理&#34;,
</span></span><span class=line><span class=cl>            &#34;level&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>            &#34;pid&#34;: 0,
</span></span><span class=line><span class=cl>            &#34;path&#34;: null
</span></span><span class=line><span class=cl>        },
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;id&#34;: 102,
</span></span><span class=line><span class=cl>            &#34;authName&#34;: &#34;订单管理&#34;,
</span></span><span class=line><span class=cl>            &#34;level&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>            &#34;pid&#34;: 0,
</span></span><span class=line><span class=cl>            &#34;path&#34;: null
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取权限列表成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>type=tree</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>    data: [
</span></span><span class=line><span class=cl>      {
</span></span><span class=line><span class=cl>        id: 101,
</span></span><span class=line><span class=cl>        authName: &#39;商品管理&#39;,
</span></span><span class=line><span class=cl>        path: null,
</span></span><span class=line><span class=cl>        pid: 0,
</span></span><span class=line><span class=cl>        children: [
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>            id: 104,
</span></span><span class=line><span class=cl>            authName: &#39;商品列表&#39;,
</span></span><span class=line><span class=cl>            path: null,
</span></span><span class=line><span class=cl>            pid: 101,
</span></span><span class=line><span class=cl>            children: [
</span></span><span class=line><span class=cl>              {
</span></span><span class=line><span class=cl>                id: 105,
</span></span><span class=line><span class=cl>                authName: &#39;添加商品&#39;,
</span></span><span class=line><span class=cl>                path: null,
</span></span><span class=line><span class=cl>                pid: &#39;104,101&#39;
</span></span><span class=line><span class=cl>              }
</span></span><span class=line><span class=cl>            ]
</span></span><span class=line><span class=cl>          }
</span></span><span class=line><span class=cl>        ]
</span></span><span class=line><span class=cl>      }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    meta: {
</span></span><span class=line><span class=cl>      msg: &#39;获取权限列表成功&#39;,
</span></span><span class=line><span class=cl>      status: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>  }
</span></span></code></pre></div><h3 id=2-左侧菜单权限-1>2. 左侧菜单权限<a hidden class=anchor aria-hidden=true href=#2-左侧菜单权限-1>#</a></h3><ul><li><p>请求路径：menus</p></li><li><p>请求方法：get</p></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;:
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;id&#34;: 101,
</span></span><span class=line><span class=cl>            &#34;authName&#34;: &#34;商品管理&#34;,
</span></span><span class=line><span class=cl>            &#34;path&#34;: null,
</span></span><span class=line><span class=cl>            &#34;children&#34;: [
</span></span><span class=line><span class=cl>                {
</span></span><span class=line><span class=cl>                    &#34;id&#34;: 104,
</span></span><span class=line><span class=cl>                    &#34;authName&#34;: &#34;商品列表&#34;,
</span></span><span class=line><span class=cl>                    &#34;path&#34;: null,
</span></span><span class=line><span class=cl>                    &#34;children&#34;: []
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>            ]
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取菜单列表成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=五角色管理-1>五、角色管理<a hidden class=anchor aria-hidden=true href=#五角色管理-1>#</a></h2><h3 id=1-角色列表-1>1. 角色列表<a hidden class=anchor aria-hidden=true href=#1-角色列表-1>#</a></h3><ul><li><p>请求路径：roles</p></li><li><p>请求方法：get</p></li><li><p>响应数据说明</p><ul><li><p>第一层为角色信息</p></li><li><p>第二层开始为权限说明，权限一共有 3 层权限</p></li><li><p>最后一层权限，不包含 <code>children</code> 属性</p></li></ul></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: [
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;id&#34;: 30,
</span></span><span class=line><span class=cl>            &#34;roleName&#34;: &#34;主管&#34;,
</span></span><span class=line><span class=cl>            &#34;roleDesc&#34;: &#34;技术负责人&#34;,
</span></span><span class=line><span class=cl>            &#34;children&#34;: [
</span></span><span class=line><span class=cl>                {
</span></span><span class=line><span class=cl>                    &#34;id&#34;: 101,
</span></span><span class=line><span class=cl>                    &#34;authName&#34;: &#34;商品管理&#34;,
</span></span><span class=line><span class=cl>                    &#34;path&#34;: null,
</span></span><span class=line><span class=cl>                    &#34;children&#34;: [
</span></span><span class=line><span class=cl>                        {
</span></span><span class=line><span class=cl>                            &#34;id&#34;: 104,
</span></span><span class=line><span class=cl>                            &#34;authName&#34;: &#34;商品列表&#34;,
</span></span><span class=line><span class=cl>                            &#34;path&#34;: null,
</span></span><span class=line><span class=cl>                            &#34;children&#34;: [
</span></span><span class=line><span class=cl>                                {
</span></span><span class=line><span class=cl>                                    &#34;id&#34;: 105,
</span></span><span class=line><span class=cl>                                    &#34;authName&#34;: &#34;添加商品&#34;,
</span></span><span class=line><span class=cl>                                    &#34;path&#34;: null
</span></span><span class=line><span class=cl>                                }
</span></span><span class=line><span class=cl>                            ]
</span></span><span class=line><span class=cl>                        }
</span></span><span class=line><span class=cl>                    ]
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>            ]
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=2-添加角色-1>2. 添加角色<a hidden class=anchor aria-hidden=true href=#2-添加角色-1>#</a></h3><ul><li><p>请求路径：roles</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>roleName</td><td>角色名称</td><td>不能为空</td></tr><tr><td>roleDesc</td><td>角色描述</td><td>可以为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>roleId</td><td>角色 ID</td><td></td></tr><tr><td>roleName</td><td>角色名称</td><td></td></tr><tr><td>roleDesc</td><td>角色描述</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;roleId&#34;: 40,
</span></span><span class=line><span class=cl>        &#34;roleName&#34;: &#34;admin2&#34;,
</span></span><span class=line><span class=cl>        &#34;roleDesc&#34;: &#34;admin2Desc&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;创建成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 201
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-根据-id-查询角色-1>3. 根据 ID 查询角色<a hidden class=anchor aria-hidden=true href=#3-根据-id-查询角色-1>#</a></h3><ul><li><p>请求路径：roles/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>角色 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>roleId</td><td>角色 ID</td><td></td></tr><tr><td>roleName</td><td>角色名称</td><td></td></tr><tr><td>roleDesc</td><td>角色描述</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;roleId&#34;: 31,
</span></span><span class=line><span class=cl>        &#34;roleName&#34;: &#34;测试角色&#34;,
</span></span><span class=line><span class=cl>        &#34;roleDesc&#34;: &#34;测试负责人&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-编辑提交角色-1>4. 编辑提交角色<a hidden class=anchor aria-hidden=true href=#4-编辑提交角色-1>#</a></h3><ul><li><p>请求路径：roles/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>角色 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>roleName</td><td>角色名称</td><td>不能为空</td></tr><tr><td>roleDesc</td><td>角色描述</td><td>可以为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;roleId&#34;: 31,
</span></span><span class=line><span class=cl>        &#34;roleName&#34;: &#34;测试角色&#34;,
</span></span><span class=line><span class=cl>        &#34;roleDesc&#34;: &#34;测试角色描述&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-删除角色-1>5. 删除角色<a hidden class=anchor aria-hidden=true href=#5-删除角色-1>#</a></h3><ul><li><p>请求路径：roles/:id</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>角色 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=6-角色授权-1>6. 角色授权<a hidden class=anchor aria-hidden=true href=#6-角色授权-1>#</a></h3><ul><li><p>请求路径：roles/:roleId/rights</p></li><li><p>请求方法：post</p></li><li><p>请求参数：通过 <code>请求体</code> 发送给后端</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:roleId</td><td>角色 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>rids</td><td>权限 ID 列表（字符串）</td><td>以 <code>,</code> 分割的权限 ID 列表（获取所有被选中、叶子节点的key和半选中节点的key, 包括 1，2，3级节点）</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;更新成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=7-删除角色指定权限-1>7. 删除角色指定权限<a hidden class=anchor aria-hidden=true href=#7-删除角色指定权限-1>#</a></h3><ul><li><p>请求路径：roles/:roleId/rights/:rightId</p></li><li><p>请求方法：delete</p></li><li><p>请求参数 参数名 参数说明 备注 :roleId 角色 ID 不能为空<code>携带在url中</code> :rightId 权限 ID 不能为空<code>携带在url中</code></p></li><li><p>响应数据说明</p><ul><li>返回的data, 是当前角色下最新的权限数据</li></ul></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>      &#34;data&#34;: [
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;id&#34;: 101,
</span></span><span class=line><span class=cl>              &#34;authName&#34;: &#34;商品管理&#34;,
</span></span><span class=line><span class=cl>              &#34;path&#34;: null,
</span></span><span class=line><span class=cl>              &#34;children&#34;: [
</span></span><span class=line><span class=cl>                  {
</span></span><span class=line><span class=cl>                      &#34;id&#34;: 104,
</span></span><span class=line><span class=cl>                      &#34;authName&#34;: &#34;商品列表&#34;,
</span></span><span class=line><span class=cl>                      &#34;path&#34;: null,
</span></span><span class=line><span class=cl>                      &#34;children&#34;: [
</span></span><span class=line><span class=cl>                          {
</span></span><span class=line><span class=cl>                              &#34;id&#34;: 105,
</span></span><span class=line><span class=cl>                              &#34;authName&#34;: &#34;添加商品&#34;,
</span></span><span class=line><span class=cl>                              &#34;path&#34;: null
</span></span><span class=line><span class=cl>                          },
</span></span><span class=line><span class=cl>                          {
</span></span><span class=line><span class=cl>                              &#34;id&#34;: 116,
</span></span><span class=line><span class=cl>                              &#34;authName&#34;: &#34;修改&#34;,
</span></span><span class=line><span class=cl>                              &#34;path&#34;: null
</span></span><span class=line><span class=cl>                          }
</span></span><span class=line><span class=cl>                      ]
</span></span><span class=line><span class=cl>                  }
</span></span><span class=line><span class=cl>              ]
</span></span><span class=line><span class=cl>          }
</span></span><span class=line><span class=cl>      ],
</span></span><span class=line><span class=cl>      &#34;meta&#34;: {
</span></span><span class=line><span class=cl>          &#34;msg&#34;: &#34;取消权限成功&#34;,
</span></span><span class=line><span class=cl>          &#34;status&#34;: 200
</span></span><span class=line><span class=cl>      }
</span></span><span class=line><span class=cl>  }
</span></span></code></pre></div><h2 id=六商品分类管理-1>六、商品分类管理<a hidden class=anchor aria-hidden=true href=#六商品分类管理-1>#</a></h2><h3 id=1-商品分类数据列表-1>1. 商品分类数据列表<a hidden class=anchor aria-hidden=true href=#1-商品分类数据列表-1>#</a></h3><ul><li><p>请求路径：categories</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>type</td><td>[1,2,3]</td><td>值：1，2，3 分别表示显示一层二层三层分类列表</td></tr><tr><td>【可选参数】如果不传递，则默认获取所有级别的分类</td><td></td><td></td></tr><tr><td>pagenum</td><td>当前页码值</td><td>【可选参数】如果不传递，则默认获取所有分类</td></tr><tr><td>pagesize</td><td>每页显示多少条数据</td><td>【可选参数】如果不传递，则默认获取所有分类</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>cat_id</td><td>分类 ID</td><td></td></tr><tr><td>cat_name</td><td>分类名称</td><td></td></tr><tr><td>cat_pid</td><td>分类父 ID</td><td></td></tr><tr><td>cat_level</td><td>分类当前层级</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: [
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;cat_id&#34;: 1,
</span></span><span class=line><span class=cl>            &#34;cat_name&#34;: &#34;大家电&#34;,
</span></span><span class=line><span class=cl>            &#34;cat_pid&#34;: 0,
</span></span><span class=line><span class=cl>            &#34;cat_level&#34;: 0,
</span></span><span class=line><span class=cl>            &#34;cat_deleted&#34;: false,
</span></span><span class=line><span class=cl>            &#34;children&#34;: [
</span></span><span class=line><span class=cl>                {
</span></span><span class=line><span class=cl>                    &#34;cat_id&#34;: 3,
</span></span><span class=line><span class=cl>                    &#34;cat_name&#34;: &#34;电视&#34;,
</span></span><span class=line><span class=cl>                    &#34;cat_pid&#34;: 1,
</span></span><span class=line><span class=cl>                    &#34;cat_level&#34;: 1,
</span></span><span class=line><span class=cl>                    &#34;cat_deleted&#34;: false,
</span></span><span class=line><span class=cl>                    &#34;children&#34;: [
</span></span><span class=line><span class=cl>                        {
</span></span><span class=line><span class=cl>                            &#34;cat_id&#34;: 6,
</span></span><span class=line><span class=cl>                            &#34;cat_name&#34;: &#34;曲面电视&#34;,
</span></span><span class=line><span class=cl>                            &#34;cat_pid&#34;: 3,
</span></span><span class=line><span class=cl>                            &#34;cat_level&#34;: 2,
</span></span><span class=line><span class=cl>                            &#34;cat_deleted&#34;: false
</span></span><span class=line><span class=cl>                        },
</span></span><span class=line><span class=cl>                        {
</span></span><span class=line><span class=cl>                            &#34;cat_id&#34;: 7,
</span></span><span class=line><span class=cl>                            &#34;cat_name&#34;: &#34;海信&#34;,
</span></span><span class=line><span class=cl>                            &#34;cat_pid&#34;: 3,
</span></span><span class=line><span class=cl>                            &#34;cat_level&#34;: 2,
</span></span><span class=line><span class=cl>                            &#34;cat_deleted&#34;: false
</span></span><span class=line><span class=cl>                        }
</span></span><span class=line><span class=cl>                    ]
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>            ]
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=2-添加分类-1>2. 添加分类<a hidden class=anchor aria-hidden=true href=#2-添加分类-1>#</a></h3><ul><li><p>请求路径：categories</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>cat_pid</td><td>分类父 ID</td><td>不能为空，如果要添加一级分类，则父分类Id应该设置为 <code>0</code></td></tr><tr><td>cat_name</td><td>分类名称</td><td>不能为空</td></tr><tr><td>cat_level</td><td>分类层级</td><td>不能为空，<code>0</code>表示一级分类；<code>1</code>表示二级分类；<code>2</code>表示三级分类</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: 62,
</span></span><span class=line><span class=cl>        &#34;cat_name&#34;: &#34;相框&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_pid&#34;: &#34;1&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_level&#34;: &#34;1&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;创建成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 201
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-根据-id-查询分类-1>3. 根据 id 查询分类<a hidden class=anchor aria-hidden=true href=#3-根据-id-查询分类-1>#</a></h3><ul><li><p>请求路径：categories/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: 3,
</span></span><span class=line><span class=cl>        &#34;cat_name&#34;: &#34;厨卫电器&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_pid&#34;: 0,
</span></span><span class=line><span class=cl>        &#34;cat_level&#34;: 0
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-编辑提交分类-1>4. 编辑提交分类<a hidden class=anchor aria-hidden=true href=#4-编辑提交分类-1>#</a></h3><ul><li><p>请求路径：categories/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>cat_name</td><td>分类名称</td><td>不能为空【此参数，放到请求体中】</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: 22,
</span></span><span class=line><span class=cl>        &#34;cat_name&#34;: &#34;自拍杆&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_pid&#34;: 7,
</span></span><span class=line><span class=cl>        &#34;cat_level&#34;: 2
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;更新成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-删除分类-1>5. 删除分类<a hidden class=anchor aria-hidden=true href=#5-删除分类-1>#</a></h3><ul><li><p>请求路径：categories/:id</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=七分类参数管理-1>七、分类参数管理<a hidden class=anchor aria-hidden=true href=#七分类参数管理-1>#</a></h2><h3 id=1-参数列表-1>1. 参数列表<a hidden class=anchor aria-hidden=true href=#1-参数列表-1>#</a></h3><ul><li><p>请求路径：categories/:id/attributes</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>sel</td><td>many或only</td><td>不能为空，many表示动态参数，only表示静态参数（也称为静态属性）</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>attr_id</td><td>分类参数 ID</td><td></td></tr><tr><td>attr_name</td><td>分类参数名称</td><td></td></tr><tr><td>cat_id</td><td>分类参数所属分类</td><td></td></tr><tr><td>attr_sel</td><td>分类参数的类型，many表示动态参数，only表示静态属性</td><td></td></tr><tr><td>attr_write</td><td>list表示从列表选择（动态参数），manual表示手工录入（静态属性）</td><td></td></tr><tr><td>attr_vals</td><td>分类参数的明细，如果是动态参数，则该值是以<code>空格</code>分隔的字符串</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: [
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;attr_id&#34;: 1,
</span></span><span class=line><span class=cl>            &#34;attr_name&#34;: &#34;cpu&#34;,
</span></span><span class=line><span class=cl>            &#34;cat_id&#34;: 22,
</span></span><span class=line><span class=cl>            &#34;attr_sel&#34;: &#34;many&#34;,
</span></span><span class=line><span class=cl>            &#34;attr_write&#34;: &#34;list&#34;,
</span></span><span class=line><span class=cl>            &#34;attr_vals&#34;: &#34;4K高清 5K高清 6K高清&#34;
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=2-添加动态参数或静态属性-1>2. 添加动态参数或静态属性<a hidden class=anchor aria-hidden=true href=#2-添加动态参数或静态属性-1>#</a></h3><ul><li><p>请求路径：categories/:id/attributes</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>attr_name</td><td>参数名称</td><td>不能为空</td></tr><tr><td>attr_sel</td><td>many或only</td><td>不能为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;attr_id&#34;: 44,
</span></span><span class=line><span class=cl>        &#34;attr_name&#34;: &#34;测试参数&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: &#34;1&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_sel&#34;: &#34;many&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_write&#34;: &#34;list&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_vals&#34;: &#34;a,b,c&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;创建成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 201
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-根据-id-查询参数-1>3. 根据 ID 查询参数<a hidden class=anchor aria-hidden=true href=#3-根据-id-查询参数-1>#</a></h3><ul><li><p>请求路径：categories/:id/attributes/:attrId</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>:attrId</td><td>属性 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>attr_sel</td><td>many或only</td><td>不能为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;attr_id&#34;: 1,
</span></span><span class=line><span class=cl>        &#34;attr_name&#34;: &#34;cpu&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: 22,
</span></span><span class=line><span class=cl>        &#34;attr_sel&#34;: &#34;only&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_write&#34;: &#34;manual&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_vals&#34;: &#34;ffff&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-更新参数及明细-1>4. 更新参数及明细<a hidden class=anchor aria-hidden=true href=#4-更新参数及明细-1>#</a></h3><ul><li><p>请求路径：categories/:id/attributes/:attrId</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>:attrId</td><td>参数 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>attr_name</td><td>参数名称</td><td>不能为空，携带在<code>请求体</code>中</td></tr><tr><td>attr_sel</td><td>many或only</td><td>不能为空，携带在<code>请求体</code>中</td></tr><tr><td>attr_vals</td><td>参数的明细</td><td>可选参数，携带在<code>请求体</code>中</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;attr_id&#34;: 9,
</span></span><span class=line><span class=cl>        &#34;attr_name&#34;: &#34;测试更新&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: &#34;43&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_sel&#34;: &#34;only&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_write&#34;: &#34;manual&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_vals&#34;: &#34;abc&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;更新成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-删除参数-1>5. 删除参数<a hidden class=anchor aria-hidden=true href=#5-删除参数-1>#</a></h3><ul><li><p>请求路径： categories/:id/attributes/:attrid</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>:attrid</td><td>参数 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=八商品管理-1>八、商品管理<a hidden class=anchor aria-hidden=true href=#八商品管理-1>#</a></h2><h3 id=1-商品列表数据-1>1. 商品列表数据<a hidden class=anchor aria-hidden=true href=#1-商品列表数据-1>#</a></h3><ul><li><p>请求路径：goods</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>query</td><td>查询参数</td><td>可以为空</td></tr><tr><td>pagenum</td><td>当前页码</td><td>不能为空</td></tr><tr><td>pagesize</td><td>每页显示条数</td><td>不能为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>total</td><td>总共商品条数</td><td></td></tr><tr><td>pagenum</td><td>当前商品页数</td><td></td></tr><tr><td>goods_id</td><td>商品 ID</td><td></td></tr><tr><td>goods_name</td><td>商品名称</td><td></td></tr><tr><td>goods_price</td><td>价格</td><td></td></tr><tr><td>goods_number</td><td>数量</td><td></td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_state</td><td>商品状态</td><td>商品状态 0: 未通过 1: 审核中 2: 已审核</td></tr><tr><td>add_time</td><td>添加时间</td><td></td></tr><tr><td>upd_time</td><td>更新时间</td><td></td></tr><tr><td>hot_mumber</td><td>热销品数量</td><td></td></tr><tr><td>is_promote</td><td>是否是热销品</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;total&#34;</span><span class=p>:</span> <span class=mi>50</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pagenum&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>144</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;iphone&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1512954923</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512954923</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;获取成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=2-添加商品-1>2. 添加商品<a hidden class=anchor aria-hidden=true href=#2-添加商品-1>#</a></h3><ul><li><p>请求路径：goods</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>goods_name</td><td>商品名称</td><td>不能为空</td></tr><tr><td>goods_cat</td><td>以<code>,</code>逗号分割的分类列表</td><td>不能为空</td></tr><tr><td>goods_price</td><td>价格</td><td>不能为空</td></tr><tr><td>goods_number</td><td>数量</td><td>不能为空</td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_introduce</td><td>介绍</td><td>可以为空</td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>可以为空</td></tr><tr><td>attrs</td><td>商品的参数（数组），包含 <code>动态参数</code> 和 <code>静态属性</code></td><td>可以为空</td></tr></tbody></table><ul><li>请求数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span><span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_cat&#34;</span><span class=p>:</span> <span class=s2>&#34;1,2,3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span><span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span><span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span><span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span><span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;pics&#34;</span><span class=p>:[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;pic&#34;</span><span class=p>:</span><span class=s2>&#34;/tmp_uploads/30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;attrs&#34;</span><span class=p>:[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span><span class=s2>&#34;ddd&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span><span class=s2>&#34;eee&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>total</td><td>总共商品条数</td><td></td></tr><tr><td>pagenum</td><td>当前商品页数</td><td></td></tr><tr><td>goods_id</td><td>商品 ID</td><td></td></tr><tr><td>goods_cat</td><td>以为&rsquo;,&lsquo;分割的分类列表</td><td></td></tr><tr><td>goods_name</td><td>商品名称</td><td></td></tr><tr><td>goods_price</td><td>价格</td><td></td></tr><tr><td>goods_number</td><td>数量</td><td></td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_state</td><td>商品状态</td><td>商品状态 0: 未通过 1: 审核中 2: 已审核</td></tr><tr><td>add_time</td><td>添加时间</td><td></td></tr><tr><td>upd_time</td><td>更新时间</td><td></td></tr><tr><td>hot_mumber</td><td>热销品数量</td><td></td></tr><tr><td>is_promote</td><td>是否是热销品</td><td></td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图</td></tr><tr><td>attrs</td><td>商品的参数（数组）</td><td>goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;cat_id&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>397</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;创建商品成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>201</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=3-根据-id-查询商品-1>3. 根据 ID 查询商品<a hidden class=anchor aria-hidden=true href=#3-根据-id-查询商品-1>#</a></h3><ul><li><p>请求路径：goods/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>goods_id</td><td>商品 ID</td><td></td></tr><tr><td>goods_name</td><td>商品名称</td><td></td></tr><tr><td>goods_price</td><td>价格</td><td></td></tr><tr><td>goods_number</td><td>数量</td><td></td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_state</td><td>商品状态</td><td>商品状态 0: 未通过 1: 审核中 2: 已审核</td></tr><tr><td>goods_introduce</td><td>介绍</td><td></td></tr><tr><td>goods_cat</td><td>以为&rsquo;,&lsquo;分割的分类列表</td><td></td></tr><tr><td>add_time</td><td>添加时间</td><td></td></tr><tr><td>upd_time</td><td>更新时间</td><td></td></tr><tr><td>hot_mumber</td><td>热销品数量</td><td></td></tr><tr><td>is_promote</td><td>是否是热销品</td><td></td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图</td></tr><tr><td>attrs</td><td>商品的参数（数组）</td><td>goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>397</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;获取成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=4-编辑提交商品-1>4. 编辑提交商品<a hidden class=anchor aria-hidden=true href=#4-编辑提交商品-1>#</a></h3><ul><li><p>请求路径：goods/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>goods_name</td><td>商品名称</td><td>不能为空</td></tr><tr><td>goods_cat</td><td>以为&rsquo;,&lsquo;分割的分类列表</td><td>不能为空</td></tr><tr><td>goods_price</td><td>价格</td><td>不能为空</td></tr><tr><td>goods_number</td><td>数量</td><td>不能为空</td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_introduce</td><td>介绍</td><td>可以为空</td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>可以为空</td></tr><tr><td>attrs</td><td>商品的参数（数组）</td><td>可以为空</td></tr></tbody></table><ul><li>请求数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span><span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span><span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span><span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span><span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span><span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;pics&#34;</span><span class=p>:[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;pic&#34;</span><span class=p>:</span><span class=s2>&#34;/tmp_uploads/30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;attrs&#34;</span><span class=p>:[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span><span class=s2>&#34;ddd&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span><span class=s2>&#34;eee&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>total</td><td>总共商品条数</td><td></td></tr><tr><td>pagenum</td><td>当前商品页数</td><td></td></tr><tr><td>goods_id</td><td>商品 ID</td><td></td></tr><tr><td>goods_name</td><td>商品名称</td><td></td></tr><tr><td>goods_price</td><td>价格</td><td></td></tr><tr><td>goods_number</td><td>数量</td><td></td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_state</td><td>商品状态</td><td>商品状态 0: 未通过 1: 审核中 2: 已审核</td></tr><tr><td>add_time</td><td>添加时间</td><td></td></tr><tr><td>upd_time</td><td>更新时间</td><td></td></tr><tr><td>hot_mumber</td><td>热销品数量</td><td></td></tr><tr><td>is_promote</td><td>是否是热销品</td><td></td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图</td></tr><tr><td>attrs</td><td>商品的参数（数组）</td><td>goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选,</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>397</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;更新商品成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=5-删除商品-1>5. 删除商品<a hidden class=anchor aria-hidden=true href=#5-删除商品-1>#</a></h3><ul><li><p>请求路径：goods/:id</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>###同步商品图片</p><ul><li><p>请求路径：goods/:id/pics</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>pics</td><td>商品图片集合</td><td>如果有 pics_id 字段会保留该图片，如果没有 pics_id 但是有 pic 字段就会新生成图片数据</td></tr></tbody></table><ul><li>请求数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>;[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=n>pic</span><span class=p>:</span> <span class=s1>&#39;tmp_uploads/db28f6316835836e97653b5c75e418be.png&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>pics_id</span><span class=p>:</span> <span class=mi>397</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>goods_id</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>pics_big</span><span class=p>:</span> <span class=s1>&#39;uploads/goodspics/big_30f08d52c551ecb447277eae232304b8&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>pics_mid</span><span class=p>:</span> <span class=s1>&#39;uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>pics_sma</span><span class=p>:</span> <span class=s1>&#39;uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></div><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;iphoneXX&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;./uploads/goods/20201113/483a3b8e99e534ec3e4312dbbaee7c9d.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;./uploads/goods/20201113/small_483a3b8e99e534ec3e4312dbbaee7c9d.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_del&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1510045904</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512635159</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;delete_time&#34;</span><span class=p>:</span> <span class=mi>1512635159</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>383</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;更新成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>###同步商品属性</p><ul><li><p>请求路径：goods/:id/attributes</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>请求数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>;[
</span></span><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>    attr_id: 15,
</span></span><span class=line><span class=cl>    attr_value: &#39;ddd&#39;
</span></span><span class=line><span class=cl>  },
</span></span><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>    attr_id: 15,
</span></span><span class=line><span class=cl>    attr_value: &#39;eee&#39;
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>]
</span></span></code></pre></div><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;iphoneXX&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;./uploads/goods/20201113/483a3b8e99e534ec3e4312dbbaee7c9d.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;./uploads/goods/20201113/small_483a3b8e99e534ec3e4312dbbaee7c9d.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_del&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1510045904</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512635159</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;delete_time&#34;</span><span class=p>:</span> <span class=mi>1512635159</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>383</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;更新成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>###商品图片处理必须安装 GraphicsMagick</p><ul><li>linux</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>apt-get install GraphicsMagick
</span></span></code></pre></div><ul><li>Mac OS X</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>brew install GraphicsMagick
</span></span></code></pre></div><ul><li>Windows <a href=https://sourceforge.net/projects/graphicsmagick/files/graphicsmagick-binaries/1.3.27/GraphicsMagick-1.3.27-Q8-win64-dll.exe/download>点击下载</a></li></ul><h3 id=6-图片上传-1>6. 图片上传<a hidden class=anchor aria-hidden=true href=#6-图片上传-1>#</a></h3><ul><li><p>请求路径：upload</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>file</td><td>上传文件</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;tmp_path&#34;</span><span class=p>:</span> <span class=s2>&#34;tmp_uploads/ccfc5179a914e94506bcbb7377e8985f.png&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;http://127.0.0.1:8888tmp_uploads/ccfc5179a914e94506bcbb7377e8985f.png&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;上传成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=九订单管理-1>九、订单管理<a hidden class=anchor aria-hidden=true href=#九订单管理-1>#</a></h2><h3 id=1-订单数据列表-1>1. 订单数据列表<a hidden class=anchor aria-hidden=true href=#1-订单数据列表-1>#</a></h3><ul><li><p>请求路径：orders</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>query</td><td>查询参数</td><td>可以为空</td></tr><tr><td>pagenum</td><td>当前页码</td><td>可以为空，默认为1</td></tr><tr><td>pagesize</td><td>每页显示条数</td><td>可以为空，省略时返回所有订单</td></tr><tr><td>user_id</td><td>用户 ID</td><td>可以为空</td></tr><tr><td>pay_status</td><td>支付状态</td><td>可以为空</td></tr><tr><td>is_send</td><td>是否发货</td><td>可以为空</td></tr><tr><td>order_fapiao_title</td><td>[&lsquo;个人&rsquo;,&lsquo;公司&rsquo;]</td><td>可以为空</td></tr><tr><td>order_fapiao_company</td><td>公司名称</td><td>可以为空</td></tr><tr><td>order_fapiao_content</td><td>发票内容</td><td>可以为空</td></tr><tr><td>consignee_addr</td><td>收货地址</td><td>可以为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;total&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pagenum&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_id&#34;</span><span class=p>:</span> <span class=mi>47</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;user_id&#34;</span><span class=p>:</span> <span class=mi>133</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_number&#34;</span><span class=p>:</span> <span class=s2>&#34;59e7502d7993d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_price&#34;</span><span class=p>:</span> <span class=mi>322</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_pay&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;is_send&#34;</span><span class=p>:</span> <span class=s2>&#34;是&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;trade_no&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_fapiao_title&#34;</span><span class=p>:</span> <span class=s2>&#34;个人&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_fapiao_company&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_fapiao_content&#34;</span><span class=p>:</span> <span class=s2>&#34;办公用品&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;consignee_addr&#34;</span><span class=p>:</span> <span class=s2>&#34;江苏省南京市秦淮区龙蟠中路666号&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pay_status&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;create_time&#34;</span><span class=p>:</span> <span class=mi>1508331565</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;update_time&#34;</span><span class=p>:</span> <span class=mi>1508331565</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;获取成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=2-修改订单状态-1>2. 修改订单状态<a hidden class=anchor aria-hidden=true href=#2-修改订单状态-1>#</a></h3><ul><li><p>请求路径：orders/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>订单 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>is_send</td><td>订单是否发货</td><td>1:已经发货，0:未发货</td></tr><tr><td>order_pay</td><td>订单支付</td><td>支付方式 0 未支付 1 支付宝 2 微信 3 银行卡</td></tr><tr><td>order_price</td><td>订单价格</td><td></td></tr><tr><td>order_number</td><td>订单数量</td><td></td></tr><tr><td>pay_status</td><td>支付状态</td><td>订单状态： 0 未付款、1 已付款</td></tr></tbody></table><ul><li><p>请求数据说明</p><ul><li>所有请求数据都是增量更新，如果参数不填写，就不会更新该字段</li></ul></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>        &#34;user_id&#34;: 1,
</span></span><span class=line><span class=cl>        &#34;order_number&#34;: &#34;itany-g7kmck71vjaujfgoi&#34;,
</span></span><span class=line><span class=cl>        &#34;order_price&#34;: 20,
</span></span><span class=line><span class=cl>        &#34;order_pay&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>        &#34;is_send&#34;: &#34;否&#34;,
</span></span><span class=line><span class=cl>        &#34;trade_no&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_title&#34;: &#34;个人&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_company&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_content&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;consignee_addr&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;pay_status&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>        &#34;create_time&#34;: 1512533560,
</span></span><span class=line><span class=cl>        &#34;update_time&#34;: 1512533560,
</span></span><span class=line><span class=cl>        &#34;goods&#34;: [
</span></span><span class=line><span class=cl>            {
</span></span><span class=line><span class=cl>                &#34;id&#34;: 82,
</span></span><span class=line><span class=cl>                &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>                &#34;goods_id&#34;: 96,
</span></span><span class=line><span class=cl>                &#34;goods_price&#34;: 333,
</span></span><span class=line><span class=cl>                &#34;goods_number&#34;: 2,
</span></span><span class=line><span class=cl>                &#34;goods_total_price&#34;: 999
</span></span><span class=line><span class=cl>            },
</span></span><span class=line><span class=cl>            {
</span></span><span class=line><span class=cl>                &#34;id&#34;: 83,
</span></span><span class=line><span class=cl>                &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>                &#34;goods_id&#34;: 95,
</span></span><span class=line><span class=cl>                &#34;goods_price&#34;: 666,
</span></span><span class=line><span class=cl>                &#34;goods_number&#34;: 5,
</span></span><span class=line><span class=cl>                &#34;goods_total_price&#34;: 999
</span></span><span class=line><span class=cl>            }
</span></span><span class=line><span class=cl>        ]
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-查看订单详情-1>3. 查看订单详情<a hidden class=anchor aria-hidden=true href=#3-查看订单详情-1>#</a></h3><ul><li><p>请求路径：orders/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>订单 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>        &#34;user_id&#34;: 1,
</span></span><span class=line><span class=cl>        &#34;order_number&#34;: &#34;itany-g7kmck71vjaujfgoi&#34;,
</span></span><span class=line><span class=cl>        &#34;order_price&#34;: 20,
</span></span><span class=line><span class=cl>        &#34;order_pay&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>        &#34;is_send&#34;: &#34;否&#34;,
</span></span><span class=line><span class=cl>        &#34;trade_no&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_title&#34;: &#34;个人&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_company&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_content&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;consignee_addr&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;pay_status&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>        &#34;create_time&#34;: 1512533560,
</span></span><span class=line><span class=cl>        &#34;update_time&#34;: 1512533560,
</span></span><span class=line><span class=cl>        &#34;goods&#34;: [
</span></span><span class=line><span class=cl>            {
</span></span><span class=line><span class=cl>                &#34;id&#34;: 82,
</span></span><span class=line><span class=cl>                &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>                &#34;goods_id&#34;: 96,
</span></span><span class=line><span class=cl>                &#34;goods_price&#34;: 333,
</span></span><span class=line><span class=cl>                &#34;goods_number&#34;: 2,
</span></span><span class=line><span class=cl>                &#34;goods_total_price&#34;: 999
</span></span><span class=line><span class=cl>            },
</span></span><span class=line><span class=cl>            {
</span></span><span class=line><span class=cl>                &#34;id&#34;: 83,
</span></span><span class=line><span class=cl>                &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>                &#34;goods_id&#34;: 95,
</span></span><span class=line><span class=cl>                &#34;goods_price&#34;: 666,
</span></span><span class=line><span class=cl>                &#34;goods_number&#34;: 5,
</span></span><span class=line><span class=cl>                &#34;goods_total_price&#34;: 999
</span></span><span class=line><span class=cl>            }
</span></span><span class=line><span class=cl>        ]
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-修改地址-1>4. 修改地址<a hidden class=anchor aria-hidden=true href=#4-修改地址-1>#</a></h3><ul><li><p>请求路径：orders/:id/address</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>订单 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>consignee_addr</td><td>收货地址</td><td>可以为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {},
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;修改地址成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-查看物流信息-1>5. 查看物流信息<a hidden class=anchor aria-hidden=true href=#5-查看物流信息-1>#</a></h3><ul><li><p>请求路径：/kuaidi/:id</p></li><li><p>请求方法：get</p></li><li><p>物流单号：815294206237577</p></li><li><p>响应数据：</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>      &#34;meta&#34;:{
</span></span><span class=line><span class=cl>          &#34;status&#34;:200,
</span></span><span class=line><span class=cl>          &#34;message&#34;:&#34;获取物流信息成功！&#34;
</span></span><span class=line><span class=cl>      },
</span></span><span class=line><span class=cl>      &#34;data&#34;:[
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-15 12:39:56&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-15 12:39:56&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已签收,签收人是 汤小洋 先生/女士，如有疑问请联系派件员阿奇(13805148888)，如您未收到此快递，请拨打投诉电话：15294207777，感谢使用申通快递，期待再次为您服务&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-15 08:46:54&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-15 08:46:54&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;上海浦东寒亭营业厅-寒亭阿奇(13805148888)-派件中&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-15 08:38:57&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-15 08:38:57&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东寒亭营业厅&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-15 06:38:13&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-15 06:38:13&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东寒亭营业厅&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 20:56:45&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 20:56:45&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;上海浦东转运中心-已发往-上海浦东寒亭公司&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 20:52:44&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 20:52:44&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 17:43:48&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 17:43:48&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 10:53:46&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 10:53:46&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;上海浦东转运中心-已发往-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 10:43:31&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 10:43:31&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 02:43:20&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 02:43:20&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;江苏苏州转运中心-已发往-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 02:41:40&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 02:41:40&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-江苏苏州转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-13 16:28:13&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-13 16:28:13&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;江苏南京转运中心-已发往-江苏苏州转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-13 15:03:30&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-13 15:03:30&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;南京IT教育公司-已发往-江苏南京转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-13 14:47:56&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-13 14:47:56&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;南京IT教育公司-已发往-江苏南京转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-13 14:37:06&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-13 14:37:06&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;南京IT教育公司-城东汪小主宠物店-已收件&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          }
</span></span><span class=line><span class=cl>      ]
</span></span><span class=line><span class=cl>  }
</span></span></code></pre></div><h2 id=一api-v2-接口说明-2>一、API V2 接口说明<a hidden class=anchor aria-hidden=true href=#一api-v2-接口说明-2>#</a></h2><ul><li><p>接口基准地址：<code>http://www.tangxiaoyang.vip:8888/api/v2/</code></p></li><li><p>服务端已开启 CORS 跨域支持</p></li><li><p>API V2 认证统一使用 Token 认证</p></li><li><p>需要授权的 API ，必须在请求头中使用 <code>Authorization</code> 字段提供 <code>token</code> 令牌</p></li><li><p>使用 HTTP Status Code 标识状态</p></li><li><p>数据返回格式统一使用 JSON</p></li></ul><h3 id=1-支持的请求方法-2>1. 支持的请求方法<a hidden class=anchor aria-hidden=true href=#1-支持的请求方法-2>#</a></h3><ul><li><p>GET（SELECT）：从服务器取出资源（一项或多项）。</p></li><li><p>POST（CREATE）：在服务器新建一个资源。</p></li><li><p>PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。</p></li><li><p>PATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。</p></li><li><p>DELETE（DELETE）：从服务器删除资源。</p></li><li><p>HEAD：获取资源的元数据。</p></li><li><p>OPTIONS：获取信息，关于资源的哪些属性是客户端可以改变的。</p></li></ul><h3 id=2-通用返回状态说明-2>2. 通用返回状态说明<a hidden class=anchor aria-hidden=true href=#2-通用返回状态说明-2>#</a></h3><table><thead><tr><th>状态码</th><th>含义</th><th>说明</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td>请求成功</td></tr><tr><td>201</td><td>CREATED</td><td>创建成功</td></tr><tr><td>204</td><td>DELETED</td><td>删除成功</td></tr><tr><td>400</td><td>BAD REQUEST</td><td>请求的地址不存在或者包含不支持的参数</td></tr><tr><td>401</td><td>UNAUTHORIZED</td><td>未授权</td></tr><tr><td>403</td><td>FORBIDDEN</td><td>被禁止访问</td></tr><tr><td>404</td><td>NOT FOUND</td><td>请求的资源不存在</td></tr><tr><td>422</td><td>Unprocesable entity</td><td>[POST/PUT/PATCH] 当创建一个对象时，发生一个验证错误</td></tr><tr><td>500</td><td>INTERNAL SERVER ERROR</td><td>内部错误</td></tr></tbody></table><h2 id=二登录-2>二、登录<a hidden class=anchor aria-hidden=true href=#二登录-2>#</a></h2><h3 id=1-登录验证接口-2>1. 登录验证接口<a hidden class=anchor aria-hidden=true href=#1-登录验证接口-2>#</a></h3><ul><li><p>请求路径：login</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>username</td><td>用户名</td><td>不能为空</td></tr><tr><td>password</td><td>密码</td><td>不能为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>rid</td><td>用户角色 ID</td><td></td></tr><tr><td>username</td><td>用户名</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr><tr><td>token</td><td>令牌</td><td>基于 jwt 的令牌</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 500,
</span></span><span class=line><span class=cl>        &#34;rid&#34;: 0,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;admin&#34;,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;123&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;123@qq.com&#34;,
</span></span><span class=line><span class=cl>        &#34;token&#34;: &#34;Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOjUwMCwicmlkIjowLCJpYXQiOjE1MTI1NDQyOTksImV4cCI6MTUxMjYzMDY5OX0.eGrsrvwHm-tPsO9r_pxHIQ5i5L1kX9RX444uwnRGaIM&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;登录成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=三用户管理-2>三、用户管理<a hidden class=anchor aria-hidden=true href=#三用户管理-2>#</a></h2><h3 id=1-用户数据列表-2>1. 用户数据列表<a hidden class=anchor aria-hidden=true href=#1-用户数据列表-2>#</a></h3><ul><li><p>请求路径：users</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>query</td><td>查询参数</td><td>可以为空</td></tr><tr><td>pagenum</td><td>当前页码</td><td>不能为空</td></tr><tr><td>pagesize</td><td>每页显示条数</td><td>不能为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>total</td><td>总记录数</td><td></td></tr><tr><td>pagenum</td><td>当前页码</td><td></td></tr><tr><td>users</td><td>用户数据集合</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;total&#34;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pagenum&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;users&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;id&#34;</span><span class=p>:</span> <span class=mi>25</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;username&#34;</span><span class=p>:</span> <span class=s2>&#34;tom&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;mobile&#34;</span><span class=p>:</span> <span class=s2>&#34;13951783475&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;type&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;email&#34;</span><span class=p>:</span> <span class=s2>&#34;1049901079@qq.com&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;create_time&#34;</span><span class=p>:</span> <span class=s2>&#34;2020-11-09T20:36:26.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;mg_state&#34;</span><span class=p>:</span> <span class=bp>true</span><span class=p>,</span> <span class=o>//</span> <span class=err>当前用户的状态</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;role_name&#34;</span><span class=p>:</span> <span class=s2>&#34;超级管理员&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;获取成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=2-添加用户-2>2. 添加用户<a hidden class=anchor aria-hidden=true href=#2-添加用户-2>#</a></h3><ul><li><p>请求路径：users</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>username</td><td>用户名称</td><td>不能为空</td></tr><tr><td>password</td><td>用户密码</td><td>不能为空</td></tr><tr><td>email</td><td>邮箱</td><td>可以为空</td></tr><tr><td>mobile</td><td>手机号</td><td>可以为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>rid</td><td>用户角色 ID</td><td></td></tr><tr><td>username</td><td>用户名</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 28,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;tom&#34;,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;test&#34;,
</span></span><span class=line><span class=cl>        &#34;type&#34;: 1,
</span></span><span class=line><span class=cl>        &#34;openid&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;test@test.com&#34;,
</span></span><span class=line><span class=cl>        &#34;create_time&#34;: &#34;2020-11-10T03:47:13.533Z&#34;,
</span></span><span class=line><span class=cl>        &#34;modify_time&#34;: null,
</span></span><span class=line><span class=cl>        &#34;is_delete&#34;: false,
</span></span><span class=line><span class=cl>        &#34;is_active&#34;: false
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;用户创建成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 201
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-修改用户状态-2>3. 修改用户状态<a hidden class=anchor aria-hidden=true href=#3-修改用户状态-2>#</a></h3><ul><li><p>请求路径：users/:uId/state/:type</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>uId</td><td>用户 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>type</td><td>用户状态</td><td>不能为空<code>携带在url中</code>，值为 true 或者 false</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>  &#34;data&#34;: {
</span></span><span class=line><span class=cl>    &#34;id&#34;: 566,
</span></span><span class=line><span class=cl>    &#34;rid&#34;: 30,
</span></span><span class=line><span class=cl>    &#34;username&#34;: &#34;admin&#34;,
</span></span><span class=line><span class=cl>    &#34;mobile&#34;: &#34;123456&#34;,
</span></span><span class=line><span class=cl>    &#34;email&#34;: &#34;bb@itany.com&#34;,
</span></span><span class=line><span class=cl>    &#34;mg_state&#34;: 0
</span></span><span class=line><span class=cl>  },
</span></span><span class=line><span class=cl>  &#34;meta&#34;: {
</span></span><span class=line><span class=cl>    &#34;msg&#34;: &#34;设置状态成功&#34;,
</span></span><span class=line><span class=cl>    &#34;status&#34;: 200
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-根据-id-查询用户信息-2>4. 根据 ID 查询用户信息<a hidden class=anchor aria-hidden=true href=#4-根据-id-查询用户信息-2>#</a></h3><ul><li><p>请求路径：users/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>role_id</td><td>角色 ID</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 503,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;admin3&#34;,
</span></span><span class=line><span class=cl>        &#34;role_id&#34;: 0,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;00000&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;new@new.com&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;查询成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-编辑提交用户-2>5. 编辑提交用户<a hidden class=anchor aria-hidden=true href=#5-编辑提交用户-2>#</a></h3><ul><li><p>请求路径：users/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 id</td><td>不能为空 <code>参数是url参数:id</code></td></tr><tr><td>email</td><td>邮箱</td><td>可以为空</td></tr><tr><td>mobile</td><td>手机号</td><td>可以为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>role_id</td><td>角色 ID</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>/* 200表示成功，500表示失败 */
</span></span><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 503,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;admin3&#34;,
</span></span><span class=line><span class=cl>        &#34;role_id&#34;: 0,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;111&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;123@123.com&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;更新成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=6-删除单个用户-2>6. 删除单个用户<a hidden class=anchor aria-hidden=true href=#6-删除单个用户-2>#</a></h3><ul><li><p>请求路径：users/:id</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 id</td><td>不能为空<code>参数是url参数:id</code></td></tr></tbody></table><ul><li><p>响应参数</p></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=7-分配用户角色-2>7. 分配用户角色<a hidden class=anchor aria-hidden=true href=#7-分配用户角色-2>#</a></h3><ul><li><p>请求路径：users/:id/role</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td>不能为空<code>参数是url参数:id</code></td></tr><tr><td>rid</td><td>角色 id</td><td>不能为空<code>参数body参数</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>role_id</td><td>角色 ID</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 508,
</span></span><span class=line><span class=cl>        &#34;rid&#34;: &#34;30&#34;,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;asdf1&#34;,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;123123&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;adfsa@qq.com&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;设置角色成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=四权限管理-2>四、权限管理<a hidden class=anchor aria-hidden=true href=#四权限管理-2>#</a></h2><h3 id=1-所有权限列表-2>1. 所有权限列表<a hidden class=anchor aria-hidden=true href=#1-所有权限列表-2>#</a></h3><ul><li><p>请求路径：rights/:type</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>type</td><td>类型</td><td>值 list 或 tree , list 列表显示权限, tree 树状显示权限,<code>参数是url参数:type</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>权限 ID</td><td></td></tr><tr><td>authName</td><td>权限说明</td><td></td></tr><tr><td>level</td><td>权限层级</td><td></td></tr><tr><td>pid</td><td>权限父 ID</td><td></td></tr><tr><td>path</td><td>对应访问路径</td><td></td></tr></tbody></table><ul><li>响应数据 type=list</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>    &#34;data&#34;: [
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;id&#34;: 101,
</span></span><span class=line><span class=cl>            &#34;authName&#34;: &#34;商品管理&#34;,
</span></span><span class=line><span class=cl>            &#34;level&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>            &#34;pid&#34;: 0,
</span></span><span class=line><span class=cl>            &#34;path&#34;: null
</span></span><span class=line><span class=cl>        },
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;id&#34;: 102,
</span></span><span class=line><span class=cl>            &#34;authName&#34;: &#34;订单管理&#34;,
</span></span><span class=line><span class=cl>            &#34;level&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>            &#34;pid&#34;: 0,
</span></span><span class=line><span class=cl>            &#34;path&#34;: null
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取权限列表成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>type=tree</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>    data: [
</span></span><span class=line><span class=cl>      {
</span></span><span class=line><span class=cl>        id: 101,
</span></span><span class=line><span class=cl>        authName: &#39;商品管理&#39;,
</span></span><span class=line><span class=cl>        path: null,
</span></span><span class=line><span class=cl>        pid: 0,
</span></span><span class=line><span class=cl>        children: [
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>            id: 104,
</span></span><span class=line><span class=cl>            authName: &#39;商品列表&#39;,
</span></span><span class=line><span class=cl>            path: null,
</span></span><span class=line><span class=cl>            pid: 101,
</span></span><span class=line><span class=cl>            children: [
</span></span><span class=line><span class=cl>              {
</span></span><span class=line><span class=cl>                id: 105,
</span></span><span class=line><span class=cl>                authName: &#39;添加商品&#39;,
</span></span><span class=line><span class=cl>                path: null,
</span></span><span class=line><span class=cl>                pid: &#39;104,101&#39;
</span></span><span class=line><span class=cl>              }
</span></span><span class=line><span class=cl>            ]
</span></span><span class=line><span class=cl>          }
</span></span><span class=line><span class=cl>        ]
</span></span><span class=line><span class=cl>      }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    meta: {
</span></span><span class=line><span class=cl>      msg: &#39;获取权限列表成功&#39;,
</span></span><span class=line><span class=cl>      status: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>  }
</span></span></code></pre></div><h3 id=2-左侧菜单权限-2>2. 左侧菜单权限<a hidden class=anchor aria-hidden=true href=#2-左侧菜单权限-2>#</a></h3><ul><li><p>请求路径：menus</p></li><li><p>请求方法：get</p></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;:
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;id&#34;: 101,
</span></span><span class=line><span class=cl>            &#34;authName&#34;: &#34;商品管理&#34;,
</span></span><span class=line><span class=cl>            &#34;path&#34;: null,
</span></span><span class=line><span class=cl>            &#34;children&#34;: [
</span></span><span class=line><span class=cl>                {
</span></span><span class=line><span class=cl>                    &#34;id&#34;: 104,
</span></span><span class=line><span class=cl>                    &#34;authName&#34;: &#34;商品列表&#34;,
</span></span><span class=line><span class=cl>                    &#34;path&#34;: null,
</span></span><span class=line><span class=cl>                    &#34;children&#34;: []
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>            ]
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取菜单列表成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=五角色管理-2>五、角色管理<a hidden class=anchor aria-hidden=true href=#五角色管理-2>#</a></h2><h3 id=1-角色列表-2>1. 角色列表<a hidden class=anchor aria-hidden=true href=#1-角色列表-2>#</a></h3><ul><li><p>请求路径：roles</p></li><li><p>请求方法：get</p></li><li><p>响应数据说明</p><ul><li><p>第一层为角色信息</p></li><li><p>第二层开始为权限说明，权限一共有 3 层权限</p></li><li><p>最后一层权限，不包含 <code>children</code> 属性</p></li></ul></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: [
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;id&#34;: 30,
</span></span><span class=line><span class=cl>            &#34;roleName&#34;: &#34;主管&#34;,
</span></span><span class=line><span class=cl>            &#34;roleDesc&#34;: &#34;技术负责人&#34;,
</span></span><span class=line><span class=cl>            &#34;children&#34;: [
</span></span><span class=line><span class=cl>                {
</span></span><span class=line><span class=cl>                    &#34;id&#34;: 101,
</span></span><span class=line><span class=cl>                    &#34;authName&#34;: &#34;商品管理&#34;,
</span></span><span class=line><span class=cl>                    &#34;path&#34;: null,
</span></span><span class=line><span class=cl>                    &#34;children&#34;: [
</span></span><span class=line><span class=cl>                        {
</span></span><span class=line><span class=cl>                            &#34;id&#34;: 104,
</span></span><span class=line><span class=cl>                            &#34;authName&#34;: &#34;商品列表&#34;,
</span></span><span class=line><span class=cl>                            &#34;path&#34;: null,
</span></span><span class=line><span class=cl>                            &#34;children&#34;: [
</span></span><span class=line><span class=cl>                                {
</span></span><span class=line><span class=cl>                                    &#34;id&#34;: 105,
</span></span><span class=line><span class=cl>                                    &#34;authName&#34;: &#34;添加商品&#34;,
</span></span><span class=line><span class=cl>                                    &#34;path&#34;: null
</span></span><span class=line><span class=cl>                                }
</span></span><span class=line><span class=cl>                            ]
</span></span><span class=line><span class=cl>                        }
</span></span><span class=line><span class=cl>                    ]
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>            ]
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=2-添加角色-2>2. 添加角色<a hidden class=anchor aria-hidden=true href=#2-添加角色-2>#</a></h3><ul><li><p>请求路径：roles</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>roleName</td><td>角色名称</td><td>不能为空</td></tr><tr><td>roleDesc</td><td>角色描述</td><td>可以为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>roleId</td><td>角色 ID</td><td></td></tr><tr><td>roleName</td><td>角色名称</td><td></td></tr><tr><td>roleDesc</td><td>角色描述</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;roleId&#34;: 40,
</span></span><span class=line><span class=cl>        &#34;roleName&#34;: &#34;admin2&#34;,
</span></span><span class=line><span class=cl>        &#34;roleDesc&#34;: &#34;admin2Desc&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;创建成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 201
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-根据-id-查询角色-2>3. 根据 ID 查询角色<a hidden class=anchor aria-hidden=true href=#3-根据-id-查询角色-2>#</a></h3><ul><li><p>请求路径：roles/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>角色 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>roleId</td><td>角色 ID</td><td></td></tr><tr><td>roleName</td><td>角色名称</td><td></td></tr><tr><td>roleDesc</td><td>角色描述</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;roleId&#34;: 31,
</span></span><span class=line><span class=cl>        &#34;roleName&#34;: &#34;测试角色&#34;,
</span></span><span class=line><span class=cl>        &#34;roleDesc&#34;: &#34;测试负责人&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-编辑提交角色-2>4. 编辑提交角色<a hidden class=anchor aria-hidden=true href=#4-编辑提交角色-2>#</a></h3><ul><li><p>请求路径：roles/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>角色 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>roleName</td><td>角色名称</td><td>不能为空</td></tr><tr><td>roleDesc</td><td>角色描述</td><td>可以为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;roleId&#34;: 31,
</span></span><span class=line><span class=cl>        &#34;roleName&#34;: &#34;测试角色&#34;,
</span></span><span class=line><span class=cl>        &#34;roleDesc&#34;: &#34;测试角色描述&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-删除角色-2>5. 删除角色<a hidden class=anchor aria-hidden=true href=#5-删除角色-2>#</a></h3><ul><li><p>请求路径：roles/:id</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>角色 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=6-角色授权-2>6. 角色授权<a hidden class=anchor aria-hidden=true href=#6-角色授权-2>#</a></h3><ul><li><p>请求路径：roles/:roleId/rights</p></li><li><p>请求方法：post</p></li><li><p>请求参数：通过 <code>请求体</code> 发送给后端</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:roleId</td><td>角色 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>rids</td><td>权限 ID 列表（字符串）</td><td>以 <code>,</code> 分割的权限 ID 列表（获取所有被选中、叶子节点的key和半选中节点的key, 包括 1，2，3级节点）</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;更新成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=7-删除角色指定权限-2>7. 删除角色指定权限<a hidden class=anchor aria-hidden=true href=#7-删除角色指定权限-2>#</a></h3><ul><li><p>请求路径：roles/:roleId/rights/:rightId</p></li><li><p>请求方法：delete</p></li><li><p>请求参数 参数名 参数说明 备注 :roleId 角色 ID 不能为空<code>携带在url中</code> :rightId 权限 ID 不能为空<code>携带在url中</code></p></li><li><p>响应数据说明</p><ul><li>返回的data, 是当前角色下最新的权限数据</li></ul></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>      &#34;data&#34;: [
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;id&#34;: 101,
</span></span><span class=line><span class=cl>              &#34;authName&#34;: &#34;商品管理&#34;,
</span></span><span class=line><span class=cl>              &#34;path&#34;: null,
</span></span><span class=line><span class=cl>              &#34;children&#34;: [
</span></span><span class=line><span class=cl>                  {
</span></span><span class=line><span class=cl>                      &#34;id&#34;: 104,
</span></span><span class=line><span class=cl>                      &#34;authName&#34;: &#34;商品列表&#34;,
</span></span><span class=line><span class=cl>                      &#34;path&#34;: null,
</span></span><span class=line><span class=cl>                      &#34;children&#34;: [
</span></span><span class=line><span class=cl>                          {
</span></span><span class=line><span class=cl>                              &#34;id&#34;: 105,
</span></span><span class=line><span class=cl>                              &#34;authName&#34;: &#34;添加商品&#34;,
</span></span><span class=line><span class=cl>                              &#34;path&#34;: null
</span></span><span class=line><span class=cl>                          },
</span></span><span class=line><span class=cl>                          {
</span></span><span class=line><span class=cl>                              &#34;id&#34;: 116,
</span></span><span class=line><span class=cl>                              &#34;authName&#34;: &#34;修改&#34;,
</span></span><span class=line><span class=cl>                              &#34;path&#34;: null
</span></span><span class=line><span class=cl>                          }
</span></span><span class=line><span class=cl>                      ]
</span></span><span class=line><span class=cl>                  }
</span></span><span class=line><span class=cl>              ]
</span></span><span class=line><span class=cl>          }
</span></span><span class=line><span class=cl>      ],
</span></span><span class=line><span class=cl>      &#34;meta&#34;: {
</span></span><span class=line><span class=cl>          &#34;msg&#34;: &#34;取消权限成功&#34;,
</span></span><span class=line><span class=cl>          &#34;status&#34;: 200
</span></span><span class=line><span class=cl>      }
</span></span><span class=line><span class=cl>  }
</span></span></code></pre></div><h2 id=六商品分类管理-2>六、商品分类管理<a hidden class=anchor aria-hidden=true href=#六商品分类管理-2>#</a></h2><h3 id=1-商品分类数据列表-2>1. 商品分类数据列表<a hidden class=anchor aria-hidden=true href=#1-商品分类数据列表-2>#</a></h3><ul><li><p>请求路径：categories</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>type</td><td>[1,2,3]</td><td>值：1，2，3 分别表示显示一层二层三层分类列表</td></tr><tr><td>【可选参数】如果不传递，则默认获取所有级别的分类</td><td></td><td></td></tr><tr><td>pagenum</td><td>当前页码值</td><td>【可选参数】如果不传递，则默认获取所有分类</td></tr><tr><td>pagesize</td><td>每页显示多少条数据</td><td>【可选参数】如果不传递，则默认获取所有分类</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>cat_id</td><td>分类 ID</td><td></td></tr><tr><td>cat_name</td><td>分类名称</td><td></td></tr><tr><td>cat_pid</td><td>分类父 ID</td><td></td></tr><tr><td>cat_level</td><td>分类当前层级</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: [
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;cat_id&#34;: 1,
</span></span><span class=line><span class=cl>            &#34;cat_name&#34;: &#34;大家电&#34;,
</span></span><span class=line><span class=cl>            &#34;cat_pid&#34;: 0,
</span></span><span class=line><span class=cl>            &#34;cat_level&#34;: 0,
</span></span><span class=line><span class=cl>            &#34;cat_deleted&#34;: false,
</span></span><span class=line><span class=cl>            &#34;children&#34;: [
</span></span><span class=line><span class=cl>                {
</span></span><span class=line><span class=cl>                    &#34;cat_id&#34;: 3,
</span></span><span class=line><span class=cl>                    &#34;cat_name&#34;: &#34;电视&#34;,
</span></span><span class=line><span class=cl>                    &#34;cat_pid&#34;: 1,
</span></span><span class=line><span class=cl>                    &#34;cat_level&#34;: 1,
</span></span><span class=line><span class=cl>                    &#34;cat_deleted&#34;: false,
</span></span><span class=line><span class=cl>                    &#34;children&#34;: [
</span></span><span class=line><span class=cl>                        {
</span></span><span class=line><span class=cl>                            &#34;cat_id&#34;: 6,
</span></span><span class=line><span class=cl>                            &#34;cat_name&#34;: &#34;曲面电视&#34;,
</span></span><span class=line><span class=cl>                            &#34;cat_pid&#34;: 3,
</span></span><span class=line><span class=cl>                            &#34;cat_level&#34;: 2,
</span></span><span class=line><span class=cl>                            &#34;cat_deleted&#34;: false
</span></span><span class=line><span class=cl>                        },
</span></span><span class=line><span class=cl>                        {
</span></span><span class=line><span class=cl>                            &#34;cat_id&#34;: 7,
</span></span><span class=line><span class=cl>                            &#34;cat_name&#34;: &#34;海信&#34;,
</span></span><span class=line><span class=cl>                            &#34;cat_pid&#34;: 3,
</span></span><span class=line><span class=cl>                            &#34;cat_level&#34;: 2,
</span></span><span class=line><span class=cl>                            &#34;cat_deleted&#34;: false
</span></span><span class=line><span class=cl>                        }
</span></span><span class=line><span class=cl>                    ]
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>            ]
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=2-添加分类-2>2. 添加分类<a hidden class=anchor aria-hidden=true href=#2-添加分类-2>#</a></h3><ul><li><p>请求路径：categories</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>cat_pid</td><td>分类父 ID</td><td>不能为空，如果要添加一级分类，则父分类Id应该设置为 <code>0</code></td></tr><tr><td>cat_name</td><td>分类名称</td><td>不能为空</td></tr><tr><td>cat_level</td><td>分类层级</td><td>不能为空，<code>0</code>表示一级分类；<code>1</code>表示二级分类；<code>2</code>表示三级分类</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: 62,
</span></span><span class=line><span class=cl>        &#34;cat_name&#34;: &#34;相框&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_pid&#34;: &#34;1&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_level&#34;: &#34;1&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;创建成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 201
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-根据-id-查询分类-2>3. 根据 id 查询分类<a hidden class=anchor aria-hidden=true href=#3-根据-id-查询分类-2>#</a></h3><ul><li><p>请求路径：categories/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: 3,
</span></span><span class=line><span class=cl>        &#34;cat_name&#34;: &#34;厨卫电器&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_pid&#34;: 0,
</span></span><span class=line><span class=cl>        &#34;cat_level&#34;: 0
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-编辑提交分类-2>4. 编辑提交分类<a hidden class=anchor aria-hidden=true href=#4-编辑提交分类-2>#</a></h3><ul><li><p>请求路径：categories/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>cat_name</td><td>分类名称</td><td>不能为空【此参数，放到请求体中】</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: 22,
</span></span><span class=line><span class=cl>        &#34;cat_name&#34;: &#34;自拍杆&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_pid&#34;: 7,
</span></span><span class=line><span class=cl>        &#34;cat_level&#34;: 2
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;更新成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-删除分类-2>5. 删除分类<a hidden class=anchor aria-hidden=true href=#5-删除分类-2>#</a></h3><ul><li><p>请求路径：categories/:id</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=七分类参数管理-2>七、分类参数管理<a hidden class=anchor aria-hidden=true href=#七分类参数管理-2>#</a></h2><h3 id=1-参数列表-2>1. 参数列表<a hidden class=anchor aria-hidden=true href=#1-参数列表-2>#</a></h3><ul><li><p>请求路径：categories/:id/attributes</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>sel</td><td>many或only</td><td>不能为空，many表示动态参数，only表示静态参数（也称为静态属性）</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>attr_id</td><td>分类参数 ID</td><td></td></tr><tr><td>attr_name</td><td>分类参数名称</td><td></td></tr><tr><td>cat_id</td><td>分类参数所属分类</td><td></td></tr><tr><td>attr_sel</td><td>分类参数的类型，many表示动态参数，only表示静态属性</td><td></td></tr><tr><td>attr_write</td><td>list表示从列表选择（动态参数），manual表示手工录入（静态属性）</td><td></td></tr><tr><td>attr_vals</td><td>分类参数的明细，如果是动态参数，则该值是以<code>空格</code>分隔的字符串</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: [
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;attr_id&#34;: 1,
</span></span><span class=line><span class=cl>            &#34;attr_name&#34;: &#34;cpu&#34;,
</span></span><span class=line><span class=cl>            &#34;cat_id&#34;: 22,
</span></span><span class=line><span class=cl>            &#34;attr_sel&#34;: &#34;many&#34;,
</span></span><span class=line><span class=cl>            &#34;attr_write&#34;: &#34;list&#34;,
</span></span><span class=line><span class=cl>            &#34;attr_vals&#34;: &#34;4K高清 5K高清 6K高清&#34;
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=2-添加动态参数或静态属性-2>2. 添加动态参数或静态属性<a hidden class=anchor aria-hidden=true href=#2-添加动态参数或静态属性-2>#</a></h3><ul><li><p>请求路径：categories/:id/attributes</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>attr_name</td><td>参数名称</td><td>不能为空</td></tr><tr><td>attr_sel</td><td>many或only</td><td>不能为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;attr_id&#34;: 44,
</span></span><span class=line><span class=cl>        &#34;attr_name&#34;: &#34;测试参数&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: &#34;1&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_sel&#34;: &#34;many&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_write&#34;: &#34;list&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_vals&#34;: &#34;a,b,c&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;创建成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 201
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-根据-id-查询参数-2>3. 根据 ID 查询参数<a hidden class=anchor aria-hidden=true href=#3-根据-id-查询参数-2>#</a></h3><ul><li><p>请求路径：categories/:id/attributes/:attrId</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>:attrId</td><td>属性 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>attr_sel</td><td>many或only</td><td>不能为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;attr_id&#34;: 1,
</span></span><span class=line><span class=cl>        &#34;attr_name&#34;: &#34;cpu&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: 22,
</span></span><span class=line><span class=cl>        &#34;attr_sel&#34;: &#34;only&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_write&#34;: &#34;manual&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_vals&#34;: &#34;ffff&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-更新参数及明细-2>4. 更新参数及明细<a hidden class=anchor aria-hidden=true href=#4-更新参数及明细-2>#</a></h3><ul><li><p>请求路径：categories/:id/attributes/:attrId</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>:attrId</td><td>参数 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>attr_name</td><td>参数名称</td><td>不能为空，携带在<code>请求体</code>中</td></tr><tr><td>attr_sel</td><td>many或only</td><td>不能为空，携带在<code>请求体</code>中</td></tr><tr><td>attr_vals</td><td>参数的明细</td><td>可选参数，携带在<code>请求体</code>中</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;attr_id&#34;: 9,
</span></span><span class=line><span class=cl>        &#34;attr_name&#34;: &#34;测试更新&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: &#34;43&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_sel&#34;: &#34;only&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_write&#34;: &#34;manual&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_vals&#34;: &#34;abc&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;更新成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-删除参数-2>5. 删除参数<a hidden class=anchor aria-hidden=true href=#5-删除参数-2>#</a></h3><ul><li><p>请求路径： categories/:id/attributes/:attrid</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>:attrid</td><td>参数 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=八商品管理-2>八、商品管理<a hidden class=anchor aria-hidden=true href=#八商品管理-2>#</a></h2><h3 id=1-商品列表数据-2>1. 商品列表数据<a hidden class=anchor aria-hidden=true href=#1-商品列表数据-2>#</a></h3><ul><li><p>请求路径：goods</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>query</td><td>查询参数</td><td>可以为空</td></tr><tr><td>pagenum</td><td>当前页码</td><td>不能为空</td></tr><tr><td>pagesize</td><td>每页显示条数</td><td>不能为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>total</td><td>总共商品条数</td><td></td></tr><tr><td>pagenum</td><td>当前商品页数</td><td></td></tr><tr><td>goods_id</td><td>商品 ID</td><td></td></tr><tr><td>goods_name</td><td>商品名称</td><td></td></tr><tr><td>goods_price</td><td>价格</td><td></td></tr><tr><td>goods_number</td><td>数量</td><td></td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_state</td><td>商品状态</td><td>商品状态 0: 未通过 1: 审核中 2: 已审核</td></tr><tr><td>add_time</td><td>添加时间</td><td></td></tr><tr><td>upd_time</td><td>更新时间</td><td></td></tr><tr><td>hot_mumber</td><td>热销品数量</td><td></td></tr><tr><td>is_promote</td><td>是否是热销品</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;total&#34;</span><span class=p>:</span> <span class=mi>50</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pagenum&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>144</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;iphone&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1512954923</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512954923</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;获取成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=2-添加商品-2>2. 添加商品<a hidden class=anchor aria-hidden=true href=#2-添加商品-2>#</a></h3><ul><li><p>请求路径：goods</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>goods_name</td><td>商品名称</td><td>不能为空</td></tr><tr><td>goods_cat</td><td>以<code>,</code>逗号分割的分类列表</td><td>不能为空</td></tr><tr><td>goods_price</td><td>价格</td><td>不能为空</td></tr><tr><td>goods_number</td><td>数量</td><td>不能为空</td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_introduce</td><td>介绍</td><td>可以为空</td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>可以为空</td></tr><tr><td>attrs</td><td>商品的参数（数组），包含 <code>动态参数</code> 和 <code>静态属性</code></td><td>可以为空</td></tr></tbody></table><ul><li>请求数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span><span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_cat&#34;</span><span class=p>:</span> <span class=s2>&#34;1,2,3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span><span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span><span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span><span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span><span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;pics&#34;</span><span class=p>:[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;pic&#34;</span><span class=p>:</span><span class=s2>&#34;/tmp_uploads/30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;attrs&#34;</span><span class=p>:[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span><span class=s2>&#34;ddd&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span><span class=s2>&#34;eee&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>total</td><td>总共商品条数</td><td></td></tr><tr><td>pagenum</td><td>当前商品页数</td><td></td></tr><tr><td>goods_id</td><td>商品 ID</td><td></td></tr><tr><td>goods_cat</td><td>以为&rsquo;,&lsquo;分割的分类列表</td><td></td></tr><tr><td>goods_name</td><td>商品名称</td><td></td></tr><tr><td>goods_price</td><td>价格</td><td></td></tr><tr><td>goods_number</td><td>数量</td><td></td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_state</td><td>商品状态</td><td>商品状态 0: 未通过 1: 审核中 2: 已审核</td></tr><tr><td>add_time</td><td>添加时间</td><td></td></tr><tr><td>upd_time</td><td>更新时间</td><td></td></tr><tr><td>hot_mumber</td><td>热销品数量</td><td></td></tr><tr><td>is_promote</td><td>是否是热销品</td><td></td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图</td></tr><tr><td>attrs</td><td>商品的参数（数组）</td><td>goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;cat_id&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>397</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;创建商品成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>201</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=3-根据-id-查询商品-2>3. 根据 ID 查询商品<a hidden class=anchor aria-hidden=true href=#3-根据-id-查询商品-2>#</a></h3><ul><li><p>请求路径：goods/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>goods_id</td><td>商品 ID</td><td></td></tr><tr><td>goods_name</td><td>商品名称</td><td></td></tr><tr><td>goods_price</td><td>价格</td><td></td></tr><tr><td>goods_number</td><td>数量</td><td></td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_state</td><td>商品状态</td><td>商品状态 0: 未通过 1: 审核中 2: 已审核</td></tr><tr><td>goods_introduce</td><td>介绍</td><td></td></tr><tr><td>goods_cat</td><td>以为&rsquo;,&lsquo;分割的分类列表</td><td></td></tr><tr><td>add_time</td><td>添加时间</td><td></td></tr><tr><td>upd_time</td><td>更新时间</td><td></td></tr><tr><td>hot_mumber</td><td>热销品数量</td><td></td></tr><tr><td>is_promote</td><td>是否是热销品</td><td></td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图</td></tr><tr><td>attrs</td><td>商品的参数（数组）</td><td>goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>397</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;获取成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=4-编辑提交商品-2>4. 编辑提交商品<a hidden class=anchor aria-hidden=true href=#4-编辑提交商品-2>#</a></h3><ul><li><p>请求路径：goods/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>goods_name</td><td>商品名称</td><td>不能为空</td></tr><tr><td>goods_cat</td><td>以为&rsquo;,&lsquo;分割的分类列表</td><td>不能为空</td></tr><tr><td>goods_price</td><td>价格</td><td>不能为空</td></tr><tr><td>goods_number</td><td>数量</td><td>不能为空</td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_introduce</td><td>介绍</td><td>可以为空</td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>可以为空</td></tr><tr><td>attrs</td><td>商品的参数（数组）</td><td>可以为空</td></tr></tbody></table><ul><li>请求数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span><span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span><span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span><span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span><span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span><span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;pics&#34;</span><span class=p>:[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;pic&#34;</span><span class=p>:</span><span class=s2>&#34;/tmp_uploads/30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;attrs&#34;</span><span class=p>:[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span><span class=s2>&#34;ddd&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span><span class=s2>&#34;eee&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>total</td><td>总共商品条数</td><td></td></tr><tr><td>pagenum</td><td>当前商品页数</td><td></td></tr><tr><td>goods_id</td><td>商品 ID</td><td></td></tr><tr><td>goods_name</td><td>商品名称</td><td></td></tr><tr><td>goods_price</td><td>价格</td><td></td></tr><tr><td>goods_number</td><td>数量</td><td></td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_state</td><td>商品状态</td><td>商品状态 0: 未通过 1: 审核中 2: 已审核</td></tr><tr><td>add_time</td><td>添加时间</td><td></td></tr><tr><td>upd_time</td><td>更新时间</td><td></td></tr><tr><td>hot_mumber</td><td>热销品数量</td><td></td></tr><tr><td>is_promote</td><td>是否是热销品</td><td></td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图</td></tr><tr><td>attrs</td><td>商品的参数（数组）</td><td>goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选,</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>397</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;更新商品成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=5-删除商品-2>5. 删除商品<a hidden class=anchor aria-hidden=true href=#5-删除商品-2>#</a></h3><ul><li><p>请求路径：goods/:id</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>###同步商品图片</p><ul><li><p>请求路径：goods/:id/pics</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>pics</td><td>商品图片集合</td><td>如果有 pics_id 字段会保留该图片，如果没有 pics_id 但是有 pic 字段就会新生成图片数据</td></tr></tbody></table><ul><li>请求数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>;[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=n>pic</span><span class=p>:</span> <span class=s1>&#39;tmp_uploads/db28f6316835836e97653b5c75e418be.png&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>pics_id</span><span class=p>:</span> <span class=mi>397</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>goods_id</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>pics_big</span><span class=p>:</span> <span class=s1>&#39;uploads/goodspics/big_30f08d52c551ecb447277eae232304b8&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>pics_mid</span><span class=p>:</span> <span class=s1>&#39;uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>pics_sma</span><span class=p>:</span> <span class=s1>&#39;uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></div><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;iphoneXX&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;./uploads/goods/20201113/483a3b8e99e534ec3e4312dbbaee7c9d.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;./uploads/goods/20201113/small_483a3b8e99e534ec3e4312dbbaee7c9d.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_del&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1510045904</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512635159</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;delete_time&#34;</span><span class=p>:</span> <span class=mi>1512635159</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>383</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;更新成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>###同步商品属性</p><ul><li><p>请求路径：goods/:id/attributes</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>请求数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>;[
</span></span><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>    attr_id: 15,
</span></span><span class=line><span class=cl>    attr_value: &#39;ddd&#39;
</span></span><span class=line><span class=cl>  },
</span></span><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>    attr_id: 15,
</span></span><span class=line><span class=cl>    attr_value: &#39;eee&#39;
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>]
</span></span></code></pre></div><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;iphoneXX&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;./uploads/goods/20201113/483a3b8e99e534ec3e4312dbbaee7c9d.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;./uploads/goods/20201113/small_483a3b8e99e534ec3e4312dbbaee7c9d.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_del&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1510045904</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512635159</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;delete_time&#34;</span><span class=p>:</span> <span class=mi>1512635159</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>383</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;更新成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>###商品图片处理必须安装 GraphicsMagick</p><ul><li>linux</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>apt-get install GraphicsMagick
</span></span></code></pre></div><ul><li>Mac OS X</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>brew install GraphicsMagick
</span></span></code></pre></div><ul><li>Windows <a href=https://sourceforge.net/projects/graphicsmagick/files/graphicsmagick-binaries/1.3.27/GraphicsMagick-1.3.27-Q8-win64-dll.exe/download>点击下载</a></li></ul><h3 id=6-图片上传-2>6. 图片上传<a hidden class=anchor aria-hidden=true href=#6-图片上传-2>#</a></h3><ul><li><p>请求路径：upload</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>file</td><td>上传文件</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;tmp_path&#34;</span><span class=p>:</span> <span class=s2>&#34;tmp_uploads/ccfc5179a914e94506bcbb7377e8985f.png&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;http://127.0.0.1:8888tmp_uploads/ccfc5179a914e94506bcbb7377e8985f.png&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;上传成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=九订单管理-2>九、订单管理<a hidden class=anchor aria-hidden=true href=#九订单管理-2>#</a></h2><h3 id=1-订单数据列表-2>1. 订单数据列表<a hidden class=anchor aria-hidden=true href=#1-订单数据列表-2>#</a></h3><ul><li><p>请求路径：orders</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>query</td><td>查询参数</td><td>可以为空</td></tr><tr><td>pagenum</td><td>当前页码</td><td>可以为空，默认为1</td></tr><tr><td>pagesize</td><td>每页显示条数</td><td>可以为空，省略时返回所有订单</td></tr><tr><td>user_id</td><td>用户 ID</td><td>可以为空</td></tr><tr><td>pay_status</td><td>支付状态</td><td>可以为空</td></tr><tr><td>is_send</td><td>是否发货</td><td>可以为空</td></tr><tr><td>order_fapiao_title</td><td>[&lsquo;个人&rsquo;,&lsquo;公司&rsquo;]</td><td>可以为空</td></tr><tr><td>order_fapiao_company</td><td>公司名称</td><td>可以为空</td></tr><tr><td>order_fapiao_content</td><td>发票内容</td><td>可以为空</td></tr><tr><td>consignee_addr</td><td>收货地址</td><td>可以为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;total&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pagenum&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_id&#34;</span><span class=p>:</span> <span class=mi>47</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;user_id&#34;</span><span class=p>:</span> <span class=mi>133</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_number&#34;</span><span class=p>:</span> <span class=s2>&#34;59e7502d7993d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_price&#34;</span><span class=p>:</span> <span class=mi>322</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_pay&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;is_send&#34;</span><span class=p>:</span> <span class=s2>&#34;是&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;trade_no&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_fapiao_title&#34;</span><span class=p>:</span> <span class=s2>&#34;个人&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_fapiao_company&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_fapiao_content&#34;</span><span class=p>:</span> <span class=s2>&#34;办公用品&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;consignee_addr&#34;</span><span class=p>:</span> <span class=s2>&#34;江苏省南京市秦淮区龙蟠中路666号&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pay_status&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;create_time&#34;</span><span class=p>:</span> <span class=mi>1508331565</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;update_time&#34;</span><span class=p>:</span> <span class=mi>1508331565</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;获取成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=2-修改订单状态-2>2. 修改订单状态<a hidden class=anchor aria-hidden=true href=#2-修改订单状态-2>#</a></h3><ul><li><p>请求路径：orders/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>订单 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>is_send</td><td>订单是否发货</td><td>1:已经发货，0:未发货</td></tr><tr><td>order_pay</td><td>订单支付</td><td>支付方式 0 未支付 1 支付宝 2 微信 3 银行卡</td></tr><tr><td>order_price</td><td>订单价格</td><td></td></tr><tr><td>order_number</td><td>订单数量</td><td></td></tr><tr><td>pay_status</td><td>支付状态</td><td>订单状态： 0 未付款、1 已付款</td></tr></tbody></table><ul><li><p>请求数据说明</p><ul><li>所有请求数据都是增量更新，如果参数不填写，就不会更新该字段</li></ul></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>        &#34;user_id&#34;: 1,
</span></span><span class=line><span class=cl>        &#34;order_number&#34;: &#34;itany-g7kmck71vjaujfgoi&#34;,
</span></span><span class=line><span class=cl>        &#34;order_price&#34;: 20,
</span></span><span class=line><span class=cl>        &#34;order_pay&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>        &#34;is_send&#34;: &#34;否&#34;,
</span></span><span class=line><span class=cl>        &#34;trade_no&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_title&#34;: &#34;个人&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_company&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_content&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;consignee_addr&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;pay_status&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>        &#34;create_time&#34;: 1512533560,
</span></span><span class=line><span class=cl>        &#34;update_time&#34;: 1512533560,
</span></span><span class=line><span class=cl>        &#34;goods&#34;: [
</span></span><span class=line><span class=cl>            {
</span></span><span class=line><span class=cl>                &#34;id&#34;: 82,
</span></span><span class=line><span class=cl>                &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>                &#34;goods_id&#34;: 96,
</span></span><span class=line><span class=cl>                &#34;goods_price&#34;: 333,
</span></span><span class=line><span class=cl>                &#34;goods_number&#34;: 2,
</span></span><span class=line><span class=cl>                &#34;goods_total_price&#34;: 999
</span></span><span class=line><span class=cl>            },
</span></span><span class=line><span class=cl>            {
</span></span><span class=line><span class=cl>                &#34;id&#34;: 83,
</span></span><span class=line><span class=cl>                &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>                &#34;goods_id&#34;: 95,
</span></span><span class=line><span class=cl>                &#34;goods_price&#34;: 666,
</span></span><span class=line><span class=cl>                &#34;goods_number&#34;: 5,
</span></span><span class=line><span class=cl>                &#34;goods_total_price&#34;: 999
</span></span><span class=line><span class=cl>            }
</span></span><span class=line><span class=cl>        ]
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-查看订单详情-2>3. 查看订单详情<a hidden class=anchor aria-hidden=true href=#3-查看订单详情-2>#</a></h3><ul><li><p>请求路径：orders/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>订单 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>        &#34;user_id&#34;: 1,
</span></span><span class=line><span class=cl>        &#34;order_number&#34;: &#34;itany-g7kmck71vjaujfgoi&#34;,
</span></span><span class=line><span class=cl>        &#34;order_price&#34;: 20,
</span></span><span class=line><span class=cl>        &#34;order_pay&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>        &#34;is_send&#34;: &#34;否&#34;,
</span></span><span class=line><span class=cl>        &#34;trade_no&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_title&#34;: &#34;个人&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_company&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_content&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;consignee_addr&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;pay_status&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>        &#34;create_time&#34;: 1512533560,
</span></span><span class=line><span class=cl>        &#34;update_time&#34;: 1512533560,
</span></span><span class=line><span class=cl>        &#34;goods&#34;: [
</span></span><span class=line><span class=cl>            {
</span></span><span class=line><span class=cl>                &#34;id&#34;: 82,
</span></span><span class=line><span class=cl>                &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>                &#34;goods_id&#34;: 96,
</span></span><span class=line><span class=cl>                &#34;goods_price&#34;: 333,
</span></span><span class=line><span class=cl>                &#34;goods_number&#34;: 2,
</span></span><span class=line><span class=cl>                &#34;goods_total_price&#34;: 999
</span></span><span class=line><span class=cl>            },
</span></span><span class=line><span class=cl>            {
</span></span><span class=line><span class=cl>                &#34;id&#34;: 83,
</span></span><span class=line><span class=cl>                &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>                &#34;goods_id&#34;: 95,
</span></span><span class=line><span class=cl>                &#34;goods_price&#34;: 666,
</span></span><span class=line><span class=cl>                &#34;goods_number&#34;: 5,
</span></span><span class=line><span class=cl>                &#34;goods_total_price&#34;: 999
</span></span><span class=line><span class=cl>            }
</span></span><span class=line><span class=cl>        ]
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-修改地址-2>4. 修改地址<a hidden class=anchor aria-hidden=true href=#4-修改地址-2>#</a></h3><ul><li><p>请求路径：orders/:id/address</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>订单 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>consignee_addr</td><td>收货地址</td><td>可以为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {},
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;修改地址成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-查看物流信息-2>5. 查看物流信息<a hidden class=anchor aria-hidden=true href=#5-查看物流信息-2>#</a></h3><ul><li><p>请求路径：/kuaidi/:id</p></li><li><p>请求方法：get</p></li><li><p>物流单号：815294206237577</p></li><li><p>响应数据：</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>      &#34;meta&#34;:{
</span></span><span class=line><span class=cl>          &#34;status&#34;:200,
</span></span><span class=line><span class=cl>          &#34;message&#34;:&#34;获取物流信息成功！&#34;
</span></span><span class=line><span class=cl>      },
</span></span><span class=line><span class=cl>      &#34;data&#34;:[
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-15 12:39:56&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-15 12:39:56&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已签收,签收人是 汤小洋 先生/女士，如有疑问请联系派件员阿奇(13805148888)，如您未收到此快递，请拨打投诉电话：15294207777，感谢使用申通快递，期待再次为您服务&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-15 08:46:54&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-15 08:46:54&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;上海浦东寒亭营业厅-寒亭阿奇(13805148888)-派件中&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-15 08:38:57&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-15 08:38:57&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东寒亭营业厅&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-15 06:38:13&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-15 06:38:13&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东寒亭营业厅&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 20:56:45&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 20:56:45&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;上海浦东转运中心-已发往-上海浦东寒亭公司&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 20:52:44&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 20:52:44&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 17:43:48&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 17:43:48&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 10:53:46&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 10:53:46&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;上海浦东转运中心-已发往-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 10:43:31&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 10:43:31&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 02:43:20&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 02:43:20&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;江苏苏州转运中心-已发往-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 02:41:40&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 02:41:40&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-江苏苏州转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-13 16:28:13&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-13 16:28:13&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;江苏南京转运中心-已发往-江苏苏州转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-13 15:03:30&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-13 15:03:30&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;南京IT教育公司-已发往-江苏南京转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-13 14:47:56&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-13 14:47:56&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;南京IT教育公司-已发往-江苏南京转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-13 14:37:06&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-13 14:37:06&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;南京IT教育公司-城东汪小主宠物店-已收件&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          }
</span></span><span class=line><span class=cl>      ]
</span></span><span class=line><span class=cl>  }
</span></span></code></pre></div><h2 id=一api-v2-接口说明-3>一、API V2 接口说明<a hidden class=anchor aria-hidden=true href=#一api-v2-接口说明-3>#</a></h2><ul><li><p>接口基准地址：<code>http://www.tangxiaoyang.vip:8888/api/v2/</code></p></li><li><p>服务端已开启 CORS 跨域支持</p></li><li><p>API V2 认证统一使用 Token 认证</p></li><li><p>需要授权的 API ，必须在请求头中使用 <code>Authorization</code> 字段提供 <code>token</code> 令牌</p></li><li><p>使用 HTTP Status Code 标识状态</p></li><li><p>数据返回格式统一使用 JSON</p></li></ul><h3 id=1-支持的请求方法-3>1. 支持的请求方法<a hidden class=anchor aria-hidden=true href=#1-支持的请求方法-3>#</a></h3><ul><li><p>GET（SELECT）：从服务器取出资源（一项或多项）。</p></li><li><p>POST（CREATE）：在服务器新建一个资源。</p></li><li><p>PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。</p></li><li><p>PATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。</p></li><li><p>DELETE（DELETE）：从服务器删除资源。</p></li><li><p>HEAD：获取资源的元数据。</p></li><li><p>OPTIONS：获取信息，关于资源的哪些属性是客户端可以改变的。</p></li></ul><h3 id=2-通用返回状态说明-3>2. 通用返回状态说明<a hidden class=anchor aria-hidden=true href=#2-通用返回状态说明-3>#</a></h3><table><thead><tr><th>状态码</th><th>含义</th><th>说明</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td>请求成功</td></tr><tr><td>201</td><td>CREATED</td><td>创建成功</td></tr><tr><td>204</td><td>DELETED</td><td>删除成功</td></tr><tr><td>400</td><td>BAD REQUEST</td><td>请求的地址不存在或者包含不支持的参数</td></tr><tr><td>401</td><td>UNAUTHORIZED</td><td>未授权</td></tr><tr><td>403</td><td>FORBIDDEN</td><td>被禁止访问</td></tr><tr><td>404</td><td>NOT FOUND</td><td>请求的资源不存在</td></tr><tr><td>422</td><td>Unprocesable entity</td><td>[POST/PUT/PATCH] 当创建一个对象时，发生一个验证错误</td></tr><tr><td>500</td><td>INTERNAL SERVER ERROR</td><td>内部错误</td></tr></tbody></table><h2 id=二登录-3>二、登录<a hidden class=anchor aria-hidden=true href=#二登录-3>#</a></h2><h3 id=1-登录验证接口-3>1. 登录验证接口<a hidden class=anchor aria-hidden=true href=#1-登录验证接口-3>#</a></h3><ul><li><p>请求路径：login</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>username</td><td>用户名</td><td>不能为空</td></tr><tr><td>password</td><td>密码</td><td>不能为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>rid</td><td>用户角色 ID</td><td></td></tr><tr><td>username</td><td>用户名</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr><tr><td>token</td><td>令牌</td><td>基于 jwt 的令牌</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 500,
</span></span><span class=line><span class=cl>        &#34;rid&#34;: 0,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;admin&#34;,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;123&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;123@qq.com&#34;,
</span></span><span class=line><span class=cl>        &#34;token&#34;: &#34;Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOjUwMCwicmlkIjowLCJpYXQiOjE1MTI1NDQyOTksImV4cCI6MTUxMjYzMDY5OX0.eGrsrvwHm-tPsO9r_pxHIQ5i5L1kX9RX444uwnRGaIM&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;登录成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=三用户管理-3>三、用户管理<a hidden class=anchor aria-hidden=true href=#三用户管理-3>#</a></h2><h3 id=1-用户数据列表-3>1. 用户数据列表<a hidden class=anchor aria-hidden=true href=#1-用户数据列表-3>#</a></h3><ul><li><p>请求路径：users</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>query</td><td>查询参数</td><td>可以为空</td></tr><tr><td>pagenum</td><td>当前页码</td><td>不能为空</td></tr><tr><td>pagesize</td><td>每页显示条数</td><td>不能为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>total</td><td>总记录数</td><td></td></tr><tr><td>pagenum</td><td>当前页码</td><td></td></tr><tr><td>users</td><td>用户数据集合</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;total&#34;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pagenum&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;users&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;id&#34;</span><span class=p>:</span> <span class=mi>25</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;username&#34;</span><span class=p>:</span> <span class=s2>&#34;tom&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;mobile&#34;</span><span class=p>:</span> <span class=s2>&#34;13951783475&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;type&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;email&#34;</span><span class=p>:</span> <span class=s2>&#34;1049901079@qq.com&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;create_time&#34;</span><span class=p>:</span> <span class=s2>&#34;2020-11-09T20:36:26.000Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;mg_state&#34;</span><span class=p>:</span> <span class=bp>true</span><span class=p>,</span> <span class=o>//</span> <span class=err>当前用户的状态</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;role_name&#34;</span><span class=p>:</span> <span class=s2>&#34;超级管理员&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;获取成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=2-添加用户-3>2. 添加用户<a hidden class=anchor aria-hidden=true href=#2-添加用户-3>#</a></h3><ul><li><p>请求路径：users</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>username</td><td>用户名称</td><td>不能为空</td></tr><tr><td>password</td><td>用户密码</td><td>不能为空</td></tr><tr><td>email</td><td>邮箱</td><td>可以为空</td></tr><tr><td>mobile</td><td>手机号</td><td>可以为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>rid</td><td>用户角色 ID</td><td></td></tr><tr><td>username</td><td>用户名</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 28,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;tom&#34;,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;test&#34;,
</span></span><span class=line><span class=cl>        &#34;type&#34;: 1,
</span></span><span class=line><span class=cl>        &#34;openid&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;test@test.com&#34;,
</span></span><span class=line><span class=cl>        &#34;create_time&#34;: &#34;2020-11-10T03:47:13.533Z&#34;,
</span></span><span class=line><span class=cl>        &#34;modify_time&#34;: null,
</span></span><span class=line><span class=cl>        &#34;is_delete&#34;: false,
</span></span><span class=line><span class=cl>        &#34;is_active&#34;: false
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;用户创建成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 201
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-修改用户状态-3>3. 修改用户状态<a hidden class=anchor aria-hidden=true href=#3-修改用户状态-3>#</a></h3><ul><li><p>请求路径：users/:uId/state/:type</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>uId</td><td>用户 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>type</td><td>用户状态</td><td>不能为空<code>携带在url中</code>，值为 true 或者 false</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>  &#34;data&#34;: {
</span></span><span class=line><span class=cl>    &#34;id&#34;: 566,
</span></span><span class=line><span class=cl>    &#34;rid&#34;: 30,
</span></span><span class=line><span class=cl>    &#34;username&#34;: &#34;admin&#34;,
</span></span><span class=line><span class=cl>    &#34;mobile&#34;: &#34;123456&#34;,
</span></span><span class=line><span class=cl>    &#34;email&#34;: &#34;bb@itany.com&#34;,
</span></span><span class=line><span class=cl>    &#34;mg_state&#34;: 0
</span></span><span class=line><span class=cl>  },
</span></span><span class=line><span class=cl>  &#34;meta&#34;: {
</span></span><span class=line><span class=cl>    &#34;msg&#34;: &#34;设置状态成功&#34;,
</span></span><span class=line><span class=cl>    &#34;status&#34;: 200
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-根据-id-查询用户信息-3>4. 根据 ID 查询用户信息<a hidden class=anchor aria-hidden=true href=#4-根据-id-查询用户信息-3>#</a></h3><ul><li><p>请求路径：users/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>role_id</td><td>角色 ID</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 503,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;admin3&#34;,
</span></span><span class=line><span class=cl>        &#34;role_id&#34;: 0,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;00000&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;new@new.com&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;查询成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-编辑提交用户-3>5. 编辑提交用户<a hidden class=anchor aria-hidden=true href=#5-编辑提交用户-3>#</a></h3><ul><li><p>请求路径：users/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 id</td><td>不能为空 <code>参数是url参数:id</code></td></tr><tr><td>email</td><td>邮箱</td><td>可以为空</td></tr><tr><td>mobile</td><td>手机号</td><td>可以为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>role_id</td><td>角色 ID</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>/* 200表示成功，500表示失败 */
</span></span><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 503,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;admin3&#34;,
</span></span><span class=line><span class=cl>        &#34;role_id&#34;: 0,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;111&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;123@123.com&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;更新成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=6-删除单个用户-3>6. 删除单个用户<a hidden class=anchor aria-hidden=true href=#6-删除单个用户-3>#</a></h3><ul><li><p>请求路径：users/:id</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 id</td><td>不能为空<code>参数是url参数:id</code></td></tr></tbody></table><ul><li><p>响应参数</p></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=7-分配用户角色-3>7. 分配用户角色<a hidden class=anchor aria-hidden=true href=#7-分配用户角色-3>#</a></h3><ul><li><p>请求路径：users/:id/role</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td>不能为空<code>参数是url参数:id</code></td></tr><tr><td>rid</td><td>角色 id</td><td>不能为空<code>参数body参数</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>用户 ID</td><td></td></tr><tr><td>role_id</td><td>角色 ID</td><td></td></tr><tr><td>mobile</td><td>手机号</td><td></td></tr><tr><td>email</td><td>邮箱</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;id&#34;: 508,
</span></span><span class=line><span class=cl>        &#34;rid&#34;: &#34;30&#34;,
</span></span><span class=line><span class=cl>        &#34;username&#34;: &#34;asdf1&#34;,
</span></span><span class=line><span class=cl>        &#34;mobile&#34;: &#34;123123&#34;,
</span></span><span class=line><span class=cl>        &#34;email&#34;: &#34;adfsa@qq.com&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;设置角色成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=四权限管理-3>四、权限管理<a hidden class=anchor aria-hidden=true href=#四权限管理-3>#</a></h2><h3 id=1-所有权限列表-3>1. 所有权限列表<a hidden class=anchor aria-hidden=true href=#1-所有权限列表-3>#</a></h3><ul><li><p>请求路径：rights/:type</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>type</td><td>类型</td><td>值 list 或 tree , list 列表显示权限, tree 树状显示权限,<code>参数是url参数:type</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>权限 ID</td><td></td></tr><tr><td>authName</td><td>权限说明</td><td></td></tr><tr><td>level</td><td>权限层级</td><td></td></tr><tr><td>pid</td><td>权限父 ID</td><td></td></tr><tr><td>path</td><td>对应访问路径</td><td></td></tr></tbody></table><ul><li>响应数据 type=list</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>    &#34;data&#34;: [
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;id&#34;: 101,
</span></span><span class=line><span class=cl>            &#34;authName&#34;: &#34;商品管理&#34;,
</span></span><span class=line><span class=cl>            &#34;level&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>            &#34;pid&#34;: 0,
</span></span><span class=line><span class=cl>            &#34;path&#34;: null
</span></span><span class=line><span class=cl>        },
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;id&#34;: 102,
</span></span><span class=line><span class=cl>            &#34;authName&#34;: &#34;订单管理&#34;,
</span></span><span class=line><span class=cl>            &#34;level&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>            &#34;pid&#34;: 0,
</span></span><span class=line><span class=cl>            &#34;path&#34;: null
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取权限列表成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>type=tree</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>    data: [
</span></span><span class=line><span class=cl>      {
</span></span><span class=line><span class=cl>        id: 101,
</span></span><span class=line><span class=cl>        authName: &#39;商品管理&#39;,
</span></span><span class=line><span class=cl>        path: null,
</span></span><span class=line><span class=cl>        pid: 0,
</span></span><span class=line><span class=cl>        children: [
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>            id: 104,
</span></span><span class=line><span class=cl>            authName: &#39;商品列表&#39;,
</span></span><span class=line><span class=cl>            path: null,
</span></span><span class=line><span class=cl>            pid: 101,
</span></span><span class=line><span class=cl>            children: [
</span></span><span class=line><span class=cl>              {
</span></span><span class=line><span class=cl>                id: 105,
</span></span><span class=line><span class=cl>                authName: &#39;添加商品&#39;,
</span></span><span class=line><span class=cl>                path: null,
</span></span><span class=line><span class=cl>                pid: &#39;104,101&#39;
</span></span><span class=line><span class=cl>              }
</span></span><span class=line><span class=cl>            ]
</span></span><span class=line><span class=cl>          }
</span></span><span class=line><span class=cl>        ]
</span></span><span class=line><span class=cl>      }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    meta: {
</span></span><span class=line><span class=cl>      msg: &#39;获取权限列表成功&#39;,
</span></span><span class=line><span class=cl>      status: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>  }
</span></span></code></pre></div><h3 id=2-左侧菜单权限-3>2. 左侧菜单权限<a hidden class=anchor aria-hidden=true href=#2-左侧菜单权限-3>#</a></h3><ul><li><p>请求路径：menus</p></li><li><p>请求方法：get</p></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;:
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;id&#34;: 101,
</span></span><span class=line><span class=cl>            &#34;authName&#34;: &#34;商品管理&#34;,
</span></span><span class=line><span class=cl>            &#34;path&#34;: null,
</span></span><span class=line><span class=cl>            &#34;children&#34;: [
</span></span><span class=line><span class=cl>                {
</span></span><span class=line><span class=cl>                    &#34;id&#34;: 104,
</span></span><span class=line><span class=cl>                    &#34;authName&#34;: &#34;商品列表&#34;,
</span></span><span class=line><span class=cl>                    &#34;path&#34;: null,
</span></span><span class=line><span class=cl>                    &#34;children&#34;: []
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>            ]
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取菜单列表成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=五角色管理-3>五、角色管理<a hidden class=anchor aria-hidden=true href=#五角色管理-3>#</a></h2><h3 id=1-角色列表-3>1. 角色列表<a hidden class=anchor aria-hidden=true href=#1-角色列表-3>#</a></h3><ul><li><p>请求路径：roles</p></li><li><p>请求方法：get</p></li><li><p>响应数据说明</p><ul><li><p>第一层为角色信息</p></li><li><p>第二层开始为权限说明，权限一共有 3 层权限</p></li><li><p>最后一层权限，不包含 <code>children</code> 属性</p></li></ul></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: [
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;id&#34;: 30,
</span></span><span class=line><span class=cl>            &#34;roleName&#34;: &#34;主管&#34;,
</span></span><span class=line><span class=cl>            &#34;roleDesc&#34;: &#34;技术负责人&#34;,
</span></span><span class=line><span class=cl>            &#34;children&#34;: [
</span></span><span class=line><span class=cl>                {
</span></span><span class=line><span class=cl>                    &#34;id&#34;: 101,
</span></span><span class=line><span class=cl>                    &#34;authName&#34;: &#34;商品管理&#34;,
</span></span><span class=line><span class=cl>                    &#34;path&#34;: null,
</span></span><span class=line><span class=cl>                    &#34;children&#34;: [
</span></span><span class=line><span class=cl>                        {
</span></span><span class=line><span class=cl>                            &#34;id&#34;: 104,
</span></span><span class=line><span class=cl>                            &#34;authName&#34;: &#34;商品列表&#34;,
</span></span><span class=line><span class=cl>                            &#34;path&#34;: null,
</span></span><span class=line><span class=cl>                            &#34;children&#34;: [
</span></span><span class=line><span class=cl>                                {
</span></span><span class=line><span class=cl>                                    &#34;id&#34;: 105,
</span></span><span class=line><span class=cl>                                    &#34;authName&#34;: &#34;添加商品&#34;,
</span></span><span class=line><span class=cl>                                    &#34;path&#34;: null
</span></span><span class=line><span class=cl>                                }
</span></span><span class=line><span class=cl>                            ]
</span></span><span class=line><span class=cl>                        }
</span></span><span class=line><span class=cl>                    ]
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>            ]
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=2-添加角色-3>2. 添加角色<a hidden class=anchor aria-hidden=true href=#2-添加角色-3>#</a></h3><ul><li><p>请求路径：roles</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>roleName</td><td>角色名称</td><td>不能为空</td></tr><tr><td>roleDesc</td><td>角色描述</td><td>可以为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>roleId</td><td>角色 ID</td><td></td></tr><tr><td>roleName</td><td>角色名称</td><td></td></tr><tr><td>roleDesc</td><td>角色描述</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;roleId&#34;: 40,
</span></span><span class=line><span class=cl>        &#34;roleName&#34;: &#34;admin2&#34;,
</span></span><span class=line><span class=cl>        &#34;roleDesc&#34;: &#34;admin2Desc&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;创建成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 201
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-根据-id-查询角色-3>3. 根据 ID 查询角色<a hidden class=anchor aria-hidden=true href=#3-根据-id-查询角色-3>#</a></h3><ul><li><p>请求路径：roles/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>角色 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>roleId</td><td>角色 ID</td><td></td></tr><tr><td>roleName</td><td>角色名称</td><td></td></tr><tr><td>roleDesc</td><td>角色描述</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;roleId&#34;: 31,
</span></span><span class=line><span class=cl>        &#34;roleName&#34;: &#34;测试角色&#34;,
</span></span><span class=line><span class=cl>        &#34;roleDesc&#34;: &#34;测试负责人&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-编辑提交角色-3>4. 编辑提交角色<a hidden class=anchor aria-hidden=true href=#4-编辑提交角色-3>#</a></h3><ul><li><p>请求路径：roles/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>角色 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>roleName</td><td>角色名称</td><td>不能为空</td></tr><tr><td>roleDesc</td><td>角色描述</td><td>可以为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;roleId&#34;: 31,
</span></span><span class=line><span class=cl>        &#34;roleName&#34;: &#34;测试角色&#34;,
</span></span><span class=line><span class=cl>        &#34;roleDesc&#34;: &#34;测试角色描述&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-删除角色-3>5. 删除角色<a hidden class=anchor aria-hidden=true href=#5-删除角色-3>#</a></h3><ul><li><p>请求路径：roles/:id</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>角色 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=6-角色授权-3>6. 角色授权<a hidden class=anchor aria-hidden=true href=#6-角色授权-3>#</a></h3><ul><li><p>请求路径：roles/:roleId/rights</p></li><li><p>请求方法：post</p></li><li><p>请求参数：通过 <code>请求体</code> 发送给后端</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:roleId</td><td>角色 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>rids</td><td>权限 ID 列表（字符串）</td><td>以 <code>,</code> 分割的权限 ID 列表（获取所有被选中、叶子节点的key和半选中节点的key, 包括 1，2，3级节点）</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;更新成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=7-删除角色指定权限-3>7. 删除角色指定权限<a hidden class=anchor aria-hidden=true href=#7-删除角色指定权限-3>#</a></h3><ul><li><p>请求路径：roles/:roleId/rights/:rightId</p></li><li><p>请求方法：delete</p></li><li><p>请求参数 参数名 参数说明 备注 :roleId 角色 ID 不能为空<code>携带在url中</code> :rightId 权限 ID 不能为空<code>携带在url中</code></p></li><li><p>响应数据说明</p><ul><li>返回的data, 是当前角色下最新的权限数据</li></ul></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>      &#34;data&#34;: [
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;id&#34;: 101,
</span></span><span class=line><span class=cl>              &#34;authName&#34;: &#34;商品管理&#34;,
</span></span><span class=line><span class=cl>              &#34;path&#34;: null,
</span></span><span class=line><span class=cl>              &#34;children&#34;: [
</span></span><span class=line><span class=cl>                  {
</span></span><span class=line><span class=cl>                      &#34;id&#34;: 104,
</span></span><span class=line><span class=cl>                      &#34;authName&#34;: &#34;商品列表&#34;,
</span></span><span class=line><span class=cl>                      &#34;path&#34;: null,
</span></span><span class=line><span class=cl>                      &#34;children&#34;: [
</span></span><span class=line><span class=cl>                          {
</span></span><span class=line><span class=cl>                              &#34;id&#34;: 105,
</span></span><span class=line><span class=cl>                              &#34;authName&#34;: &#34;添加商品&#34;,
</span></span><span class=line><span class=cl>                              &#34;path&#34;: null
</span></span><span class=line><span class=cl>                          },
</span></span><span class=line><span class=cl>                          {
</span></span><span class=line><span class=cl>                              &#34;id&#34;: 116,
</span></span><span class=line><span class=cl>                              &#34;authName&#34;: &#34;修改&#34;,
</span></span><span class=line><span class=cl>                              &#34;path&#34;: null
</span></span><span class=line><span class=cl>                          }
</span></span><span class=line><span class=cl>                      ]
</span></span><span class=line><span class=cl>                  }
</span></span><span class=line><span class=cl>              ]
</span></span><span class=line><span class=cl>          }
</span></span><span class=line><span class=cl>      ],
</span></span><span class=line><span class=cl>      &#34;meta&#34;: {
</span></span><span class=line><span class=cl>          &#34;msg&#34;: &#34;取消权限成功&#34;,
</span></span><span class=line><span class=cl>          &#34;status&#34;: 200
</span></span><span class=line><span class=cl>      }
</span></span><span class=line><span class=cl>  }
</span></span></code></pre></div><h2 id=六商品分类管理-3>六、商品分类管理<a hidden class=anchor aria-hidden=true href=#六商品分类管理-3>#</a></h2><h3 id=1-商品分类数据列表-3>1. 商品分类数据列表<a hidden class=anchor aria-hidden=true href=#1-商品分类数据列表-3>#</a></h3><ul><li><p>请求路径：categories</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>type</td><td>[1,2,3]</td><td>值：1，2，3 分别表示显示一层二层三层分类列表</td></tr><tr><td>【可选参数】如果不传递，则默认获取所有级别的分类</td><td></td><td></td></tr><tr><td>pagenum</td><td>当前页码值</td><td>【可选参数】如果不传递，则默认获取所有分类</td></tr><tr><td>pagesize</td><td>每页显示多少条数据</td><td>【可选参数】如果不传递，则默认获取所有分类</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>cat_id</td><td>分类 ID</td><td></td></tr><tr><td>cat_name</td><td>分类名称</td><td></td></tr><tr><td>cat_pid</td><td>分类父 ID</td><td></td></tr><tr><td>cat_level</td><td>分类当前层级</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: [
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;cat_id&#34;: 1,
</span></span><span class=line><span class=cl>            &#34;cat_name&#34;: &#34;大家电&#34;,
</span></span><span class=line><span class=cl>            &#34;cat_pid&#34;: 0,
</span></span><span class=line><span class=cl>            &#34;cat_level&#34;: 0,
</span></span><span class=line><span class=cl>            &#34;cat_deleted&#34;: false,
</span></span><span class=line><span class=cl>            &#34;children&#34;: [
</span></span><span class=line><span class=cl>                {
</span></span><span class=line><span class=cl>                    &#34;cat_id&#34;: 3,
</span></span><span class=line><span class=cl>                    &#34;cat_name&#34;: &#34;电视&#34;,
</span></span><span class=line><span class=cl>                    &#34;cat_pid&#34;: 1,
</span></span><span class=line><span class=cl>                    &#34;cat_level&#34;: 1,
</span></span><span class=line><span class=cl>                    &#34;cat_deleted&#34;: false,
</span></span><span class=line><span class=cl>                    &#34;children&#34;: [
</span></span><span class=line><span class=cl>                        {
</span></span><span class=line><span class=cl>                            &#34;cat_id&#34;: 6,
</span></span><span class=line><span class=cl>                            &#34;cat_name&#34;: &#34;曲面电视&#34;,
</span></span><span class=line><span class=cl>                            &#34;cat_pid&#34;: 3,
</span></span><span class=line><span class=cl>                            &#34;cat_level&#34;: 2,
</span></span><span class=line><span class=cl>                            &#34;cat_deleted&#34;: false
</span></span><span class=line><span class=cl>                        },
</span></span><span class=line><span class=cl>                        {
</span></span><span class=line><span class=cl>                            &#34;cat_id&#34;: 7,
</span></span><span class=line><span class=cl>                            &#34;cat_name&#34;: &#34;海信&#34;,
</span></span><span class=line><span class=cl>                            &#34;cat_pid&#34;: 3,
</span></span><span class=line><span class=cl>                            &#34;cat_level&#34;: 2,
</span></span><span class=line><span class=cl>                            &#34;cat_deleted&#34;: false
</span></span><span class=line><span class=cl>                        }
</span></span><span class=line><span class=cl>                    ]
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>            ]
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=2-添加分类-3>2. 添加分类<a hidden class=anchor aria-hidden=true href=#2-添加分类-3>#</a></h3><ul><li><p>请求路径：categories</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>cat_pid</td><td>分类父 ID</td><td>不能为空，如果要添加一级分类，则父分类Id应该设置为 <code>0</code></td></tr><tr><td>cat_name</td><td>分类名称</td><td>不能为空</td></tr><tr><td>cat_level</td><td>分类层级</td><td>不能为空，<code>0</code>表示一级分类；<code>1</code>表示二级分类；<code>2</code>表示三级分类</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: 62,
</span></span><span class=line><span class=cl>        &#34;cat_name&#34;: &#34;相框&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_pid&#34;: &#34;1&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_level&#34;: &#34;1&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;创建成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 201
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-根据-id-查询分类-3>3. 根据 id 查询分类<a hidden class=anchor aria-hidden=true href=#3-根据-id-查询分类-3>#</a></h3><ul><li><p>请求路径：categories/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: 3,
</span></span><span class=line><span class=cl>        &#34;cat_name&#34;: &#34;厨卫电器&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_pid&#34;: 0,
</span></span><span class=line><span class=cl>        &#34;cat_level&#34;: 0
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-编辑提交分类-3>4. 编辑提交分类<a hidden class=anchor aria-hidden=true href=#4-编辑提交分类-3>#</a></h3><ul><li><p>请求路径：categories/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>cat_name</td><td>分类名称</td><td>不能为空【此参数，放到请求体中】</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: 22,
</span></span><span class=line><span class=cl>        &#34;cat_name&#34;: &#34;自拍杆&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_pid&#34;: 7,
</span></span><span class=line><span class=cl>        &#34;cat_level&#34;: 2
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;更新成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-删除分类-3>5. 删除分类<a hidden class=anchor aria-hidden=true href=#5-删除分类-3>#</a></h3><ul><li><p>请求路径：categories/:id</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=七分类参数管理-3>七、分类参数管理<a hidden class=anchor aria-hidden=true href=#七分类参数管理-3>#</a></h2><h3 id=1-参数列表-3>1. 参数列表<a hidden class=anchor aria-hidden=true href=#1-参数列表-3>#</a></h3><ul><li><p>请求路径：categories/:id/attributes</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>sel</td><td>many或only</td><td>不能为空，many表示动态参数，only表示静态参数（也称为静态属性）</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>attr_id</td><td>分类参数 ID</td><td></td></tr><tr><td>attr_name</td><td>分类参数名称</td><td></td></tr><tr><td>cat_id</td><td>分类参数所属分类</td><td></td></tr><tr><td>attr_sel</td><td>分类参数的类型，many表示动态参数，only表示静态属性</td><td></td></tr><tr><td>attr_write</td><td>list表示从列表选择（动态参数），manual表示手工录入（静态属性）</td><td></td></tr><tr><td>attr_vals</td><td>分类参数的明细，如果是动态参数，则该值是以<code>空格</code>分隔的字符串</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: [
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;attr_id&#34;: 1,
</span></span><span class=line><span class=cl>            &#34;attr_name&#34;: &#34;cpu&#34;,
</span></span><span class=line><span class=cl>            &#34;cat_id&#34;: 22,
</span></span><span class=line><span class=cl>            &#34;attr_sel&#34;: &#34;many&#34;,
</span></span><span class=line><span class=cl>            &#34;attr_write&#34;: &#34;list&#34;,
</span></span><span class=line><span class=cl>            &#34;attr_vals&#34;: &#34;4K高清 5K高清 6K高清&#34;
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>    ],
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=2-添加动态参数或静态属性-3>2. 添加动态参数或静态属性<a hidden class=anchor aria-hidden=true href=#2-添加动态参数或静态属性-3>#</a></h3><ul><li><p>请求路径：categories/:id/attributes</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>attr_name</td><td>参数名称</td><td>不能为空</td></tr><tr><td>attr_sel</td><td>many或only</td><td>不能为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;attr_id&#34;: 44,
</span></span><span class=line><span class=cl>        &#34;attr_name&#34;: &#34;测试参数&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: &#34;1&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_sel&#34;: &#34;many&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_write&#34;: &#34;list&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_vals&#34;: &#34;a,b,c&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;创建成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 201
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-根据-id-查询参数-3>3. 根据 ID 查询参数<a hidden class=anchor aria-hidden=true href=#3-根据-id-查询参数-3>#</a></h3><ul><li><p>请求路径：categories/:id/attributes/:attrId</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>:attrId</td><td>属性 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>attr_sel</td><td>many或only</td><td>不能为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;attr_id&#34;: 1,
</span></span><span class=line><span class=cl>        &#34;attr_name&#34;: &#34;cpu&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: 22,
</span></span><span class=line><span class=cl>        &#34;attr_sel&#34;: &#34;only&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_write&#34;: &#34;manual&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_vals&#34;: &#34;ffff&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-更新参数及明细-3>4. 更新参数及明细<a hidden class=anchor aria-hidden=true href=#4-更新参数及明细-3>#</a></h3><ul><li><p>请求路径：categories/:id/attributes/:attrId</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>:attrId</td><td>参数 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>attr_name</td><td>参数名称</td><td>不能为空，携带在<code>请求体</code>中</td></tr><tr><td>attr_sel</td><td>many或only</td><td>不能为空，携带在<code>请求体</code>中</td></tr><tr><td>attr_vals</td><td>参数的明细</td><td>可选参数，携带在<code>请求体</code>中</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;attr_id&#34;: 9,
</span></span><span class=line><span class=cl>        &#34;attr_name&#34;: &#34;测试更新&#34;,
</span></span><span class=line><span class=cl>        &#34;cat_id&#34;: &#34;43&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_sel&#34;: &#34;only&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_write&#34;: &#34;manual&#34;,
</span></span><span class=line><span class=cl>        &#34;attr_vals&#34;: &#34;abc&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;更新成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-删除参数-3>5. 删除参数<a hidden class=anchor aria-hidden=true href=#5-删除参数-3>#</a></h3><ul><li><p>请求路径： categories/:id/attributes/:attrid</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>:id</td><td>分类 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>:attrid</td><td>参数 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h2 id=八商品管理-3>八、商品管理<a hidden class=anchor aria-hidden=true href=#八商品管理-3>#</a></h2><h3 id=1-商品列表数据-3>1. 商品列表数据<a hidden class=anchor aria-hidden=true href=#1-商品列表数据-3>#</a></h3><ul><li><p>请求路径：goods</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>query</td><td>查询参数</td><td>可以为空</td></tr><tr><td>pagenum</td><td>当前页码</td><td>不能为空</td></tr><tr><td>pagesize</td><td>每页显示条数</td><td>不能为空</td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>total</td><td>总共商品条数</td><td></td></tr><tr><td>pagenum</td><td>当前商品页数</td><td></td></tr><tr><td>goods_id</td><td>商品 ID</td><td></td></tr><tr><td>goods_name</td><td>商品名称</td><td></td></tr><tr><td>goods_price</td><td>价格</td><td></td></tr><tr><td>goods_number</td><td>数量</td><td></td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_state</td><td>商品状态</td><td>商品状态 0: 未通过 1: 审核中 2: 已审核</td></tr><tr><td>add_time</td><td>添加时间</td><td></td></tr><tr><td>upd_time</td><td>更新时间</td><td></td></tr><tr><td>hot_mumber</td><td>热销品数量</td><td></td></tr><tr><td>is_promote</td><td>是否是热销品</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;total&#34;</span><span class=p>:</span> <span class=mi>50</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pagenum&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>144</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;iphone&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1512954923</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512954923</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;获取成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=2-添加商品-3>2. 添加商品<a hidden class=anchor aria-hidden=true href=#2-添加商品-3>#</a></h3><ul><li><p>请求路径：goods</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>goods_name</td><td>商品名称</td><td>不能为空</td></tr><tr><td>goods_cat</td><td>以<code>,</code>逗号分割的分类列表</td><td>不能为空</td></tr><tr><td>goods_price</td><td>价格</td><td>不能为空</td></tr><tr><td>goods_number</td><td>数量</td><td>不能为空</td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_introduce</td><td>介绍</td><td>可以为空</td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>可以为空</td></tr><tr><td>attrs</td><td>商品的参数（数组），包含 <code>动态参数</code> 和 <code>静态属性</code></td><td>可以为空</td></tr></tbody></table><ul><li>请求数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span><span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_cat&#34;</span><span class=p>:</span> <span class=s2>&#34;1,2,3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span><span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span><span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span><span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span><span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;pics&#34;</span><span class=p>:[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;pic&#34;</span><span class=p>:</span><span class=s2>&#34;/tmp_uploads/30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;attrs&#34;</span><span class=p>:[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span><span class=s2>&#34;ddd&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span><span class=s2>&#34;eee&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>total</td><td>总共商品条数</td><td></td></tr><tr><td>pagenum</td><td>当前商品页数</td><td></td></tr><tr><td>goods_id</td><td>商品 ID</td><td></td></tr><tr><td>goods_cat</td><td>以为&rsquo;,&lsquo;分割的分类列表</td><td></td></tr><tr><td>goods_name</td><td>商品名称</td><td></td></tr><tr><td>goods_price</td><td>价格</td><td></td></tr><tr><td>goods_number</td><td>数量</td><td></td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_state</td><td>商品状态</td><td>商品状态 0: 未通过 1: 审核中 2: 已审核</td></tr><tr><td>add_time</td><td>添加时间</td><td></td></tr><tr><td>upd_time</td><td>更新时间</td><td></td></tr><tr><td>hot_mumber</td><td>热销品数量</td><td></td></tr><tr><td>is_promote</td><td>是否是热销品</td><td></td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图</td></tr><tr><td>attrs</td><td>商品的参数（数组）</td><td>goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;cat_id&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>397</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;创建商品成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>201</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=3-根据-id-查询商品-3>3. 根据 ID 查询商品<a hidden class=anchor aria-hidden=true href=#3-根据-id-查询商品-3>#</a></h3><ul><li><p>请求路径：goods/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>goods_id</td><td>商品 ID</td><td></td></tr><tr><td>goods_name</td><td>商品名称</td><td></td></tr><tr><td>goods_price</td><td>价格</td><td></td></tr><tr><td>goods_number</td><td>数量</td><td></td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_state</td><td>商品状态</td><td>商品状态 0: 未通过 1: 审核中 2: 已审核</td></tr><tr><td>goods_introduce</td><td>介绍</td><td></td></tr><tr><td>goods_cat</td><td>以为&rsquo;,&lsquo;分割的分类列表</td><td></td></tr><tr><td>add_time</td><td>添加时间</td><td></td></tr><tr><td>upd_time</td><td>更新时间</td><td></td></tr><tr><td>hot_mumber</td><td>热销品数量</td><td></td></tr><tr><td>is_promote</td><td>是否是热销品</td><td></td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图</td></tr><tr><td>attrs</td><td>商品的参数（数组）</td><td>goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>397</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;获取成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=4-编辑提交商品-3>4. 编辑提交商品<a hidden class=anchor aria-hidden=true href=#4-编辑提交商品-3>#</a></h3><ul><li><p>请求路径：goods/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>goods_name</td><td>商品名称</td><td>不能为空</td></tr><tr><td>goods_cat</td><td>以为&rsquo;,&lsquo;分割的分类列表</td><td>不能为空</td></tr><tr><td>goods_price</td><td>价格</td><td>不能为空</td></tr><tr><td>goods_number</td><td>数量</td><td>不能为空</td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_introduce</td><td>介绍</td><td>可以为空</td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>可以为空</td></tr><tr><td>attrs</td><td>商品的参数（数组）</td><td>可以为空</td></tr></tbody></table><ul><li>请求数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span><span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span><span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span><span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span><span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span><span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;pics&#34;</span><span class=p>:[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;pic&#34;</span><span class=p>:</span><span class=s2>&#34;/tmp_uploads/30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;attrs&#34;</span><span class=p>:[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span><span class=s2>&#34;ddd&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span><span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span><span class=s2>&#34;eee&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li>响应参数</li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>total</td><td>总共商品条数</td><td></td></tr><tr><td>pagenum</td><td>当前商品页数</td><td></td></tr><tr><td>goods_id</td><td>商品 ID</td><td></td></tr><tr><td>goods_name</td><td>商品名称</td><td></td></tr><tr><td>goods_price</td><td>价格</td><td></td></tr><tr><td>goods_number</td><td>数量</td><td></td></tr><tr><td>goods_weight</td><td>重量</td><td>不能为空</td></tr><tr><td>goods_state</td><td>商品状态</td><td>商品状态 0: 未通过 1: 审核中 2: 已审核</td></tr><tr><td>add_time</td><td>添加时间</td><td></td></tr><tr><td>upd_time</td><td>更新时间</td><td></td></tr><tr><td>hot_mumber</td><td>热销品数量</td><td></td></tr><tr><td>is_promote</td><td>是否是热销品</td><td></td></tr><tr><td>pics</td><td>上传的图片临时路径（对象）</td><td>pics_id:图片 ID,goods_id:商品 ID,pics_big:大图,pics_mid:中图,pics_sma:小图</td></tr><tr><td>attrs</td><td>商品的参数（数组）</td><td>goods_id:商品 ID,attr_value:当前商品的参数值,add_price:浮动价格,attr_vals:预定义的参数值,attr_sel:手动输入，还是单选,</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;test_goods_name2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>40</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512962370</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>397</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;更新商品成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=5-删除商品-3>5. 删除商品<a hidden class=anchor aria-hidden=true href=#5-删除商品-3>#</a></h3><ul><li><p>请求路径：goods/:id</p></li><li><p>请求方法：delete</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: null,
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;删除成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>###同步商品图片</p><ul><li><p>请求路径：goods/:id/pics</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>pics</td><td>商品图片集合</td><td>如果有 pics_id 字段会保留该图片，如果没有 pics_id 但是有 pic 字段就会新生成图片数据</td></tr></tbody></table><ul><li>请求数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>;[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=n>pic</span><span class=p>:</span> <span class=s1>&#39;tmp_uploads/db28f6316835836e97653b5c75e418be.png&#39;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>pics_id</span><span class=p>:</span> <span class=mi>397</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>goods_id</span><span class=p>:</span> <span class=mi>145</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>pics_big</span><span class=p>:</span> <span class=s1>&#39;uploads/goodspics/big_30f08d52c551ecb447277eae232304b8&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>pics_mid</span><span class=p>:</span> <span class=s1>&#39;uploads/goodspics/mid_30f08d52c551ecb447277eae232304b8&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>pics_sma</span><span class=p>:</span> <span class=s1>&#39;uploads/goodspics/sma_30f08d52c551ecb447277eae232304b8&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></div><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;iphoneXX&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;./uploads/goods/20201113/483a3b8e99e534ec3e4312dbbaee7c9d.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;./uploads/goods/20201113/small_483a3b8e99e534ec3e4312dbbaee7c9d.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_del&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1510045904</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512635159</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;delete_time&#34;</span><span class=p>:</span> <span class=mi>1512635159</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>383</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;更新成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>###同步商品属性</p><ul><li><p>请求路径：goods/:id/attributes</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>商品 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>请求数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>;[
</span></span><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>    attr_id: 15,
</span></span><span class=line><span class=cl>    attr_value: &#39;ddd&#39;
</span></span><span class=line><span class=cl>  },
</span></span><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>    attr_id: 15,
</span></span><span class=line><span class=cl>    attr_value: &#39;eee&#39;
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>]
</span></span></code></pre></div><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_name&#34;</span><span class=p>:</span> <span class=s2>&#34;iphoneXX&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_price&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_number&#34;</span><span class=p>:</span> <span class=mi>22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_weight&#34;</span><span class=p>:</span> <span class=mi>22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_introduce&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_big_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;./uploads/goods/20201113/483a3b8e99e534ec3e4312dbbaee7c9d.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_small_logo&#34;</span><span class=p>:</span> <span class=s2>&#34;./uploads/goods/20201113/small_483a3b8e99e534ec3e4312dbbaee7c9d.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods_state&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_del&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;add_time&#34;</span><span class=p>:</span> <span class=mi>1510045904</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;upd_time&#34;</span><span class=p>:</span> <span class=mi>1512635159</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;delete_time&#34;</span><span class=p>:</span> <span class=mi>1512635159</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hot_mumber&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;is_promote&#34;</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pics&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_id&#34;</span><span class=p>:</span> <span class=mi>383</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_big&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/big_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_mid&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/mid_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pics_sma&#34;</span><span class=p>:</span> <span class=s2>&#34;uploads/goodspics/sma_6f5750132abd3f5b2b93dd722fcde653.jpg&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;attrs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;eee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;goods_id&#34;</span><span class=p>:</span> <span class=mi>96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_id&#34;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_value&#34;</span><span class=p>:</span> <span class=s2>&#34;ddd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;add_price&#34;</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_name&#34;</span><span class=p>:</span> <span class=s2>&#34;fffffff&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_sel&#34;</span><span class=p>:</span> <span class=s2>&#34;many&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_write&#34;</span><span class=p>:</span> <span class=s2>&#34;list&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;attr_vals&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;更新成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>###商品图片处理必须安装 GraphicsMagick</p><ul><li>linux</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>apt-get install GraphicsMagick
</span></span></code></pre></div><ul><li>Mac OS X</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>brew install GraphicsMagick
</span></span></code></pre></div><ul><li>Windows <a href=https://sourceforge.net/projects/graphicsmagick/files/graphicsmagick-binaries/1.3.27/GraphicsMagick-1.3.27-Q8-win64-dll.exe/download>点击下载</a></li></ul><h3 id=6-图片上传-3>6. 图片上传<a hidden class=anchor aria-hidden=true href=#6-图片上传-3>#</a></h3><ul><li><p>请求路径：upload</p></li><li><p>请求方法：post</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>file</td><td>上传文件</td><td></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;tmp_path&#34;</span><span class=p>:</span> <span class=s2>&#34;tmp_uploads/ccfc5179a914e94506bcbb7377e8985f.png&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;http://127.0.0.1:8888tmp_uploads/ccfc5179a914e94506bcbb7377e8985f.png&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;上传成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=九订单管理-3>九、订单管理<a hidden class=anchor aria-hidden=true href=#九订单管理-3>#</a></h2><h3 id=1-订单数据列表-3>1. 订单数据列表<a hidden class=anchor aria-hidden=true href=#1-订单数据列表-3>#</a></h3><ul><li><p>请求路径：orders</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>query</td><td>查询参数</td><td>可以为空</td></tr><tr><td>pagenum</td><td>当前页码</td><td>可以为空，默认为1</td></tr><tr><td>pagesize</td><td>每页显示条数</td><td>可以为空，省略时返回所有订单</td></tr><tr><td>user_id</td><td>用户 ID</td><td>可以为空</td></tr><tr><td>pay_status</td><td>支付状态</td><td>可以为空</td></tr><tr><td>is_send</td><td>是否发货</td><td>可以为空</td></tr><tr><td>order_fapiao_title</td><td>[&lsquo;个人&rsquo;,&lsquo;公司&rsquo;]</td><td>可以为空</td></tr><tr><td>order_fapiao_company</td><td>公司名称</td><td>可以为空</td></tr><tr><td>order_fapiao_content</td><td>发票内容</td><td>可以为空</td></tr><tr><td>consignee_addr</td><td>收货地址</td><td>可以为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;data&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;total&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;pagenum&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;goods&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_id&#34;</span><span class=p>:</span> <span class=mi>47</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;user_id&#34;</span><span class=p>:</span> <span class=mi>133</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_number&#34;</span><span class=p>:</span> <span class=s2>&#34;59e7502d7993d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_price&#34;</span><span class=p>:</span> <span class=mi>322</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_pay&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;is_send&#34;</span><span class=p>:</span> <span class=s2>&#34;是&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;trade_no&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_fapiao_title&#34;</span><span class=p>:</span> <span class=s2>&#34;个人&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_fapiao_company&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;order_fapiao_content&#34;</span><span class=p>:</span> <span class=s2>&#34;办公用品&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;consignee_addr&#34;</span><span class=p>:</span> <span class=s2>&#34;江苏省南京市秦淮区龙蟠中路666号&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;pay_status&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;create_time&#34;</span><span class=p>:</span> <span class=mi>1508331565</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;update_time&#34;</span><span class=p>:</span> <span class=mi>1508331565</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;meta&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;msg&#34;</span><span class=p>:</span> <span class=s2>&#34;获取成功&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=mi>200</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=2-修改订单状态-3>2. 修改订单状态<a hidden class=anchor aria-hidden=true href=#2-修改订单状态-3>#</a></h3><ul><li><p>请求路径：orders/:id</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>订单 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>is_send</td><td>订单是否发货</td><td>1:已经发货，0:未发货</td></tr><tr><td>order_pay</td><td>订单支付</td><td>支付方式 0 未支付 1 支付宝 2 微信 3 银行卡</td></tr><tr><td>order_price</td><td>订单价格</td><td></td></tr><tr><td>order_number</td><td>订单数量</td><td></td></tr><tr><td>pay_status</td><td>支付状态</td><td>订单状态： 0 未付款、1 已付款</td></tr></tbody></table><ul><li><p>请求数据说明</p><ul><li>所有请求数据都是增量更新，如果参数不填写，就不会更新该字段</li></ul></li><li><p>响应数据</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>        &#34;user_id&#34;: 1,
</span></span><span class=line><span class=cl>        &#34;order_number&#34;: &#34;itany-g7kmck71vjaujfgoi&#34;,
</span></span><span class=line><span class=cl>        &#34;order_price&#34;: 20,
</span></span><span class=line><span class=cl>        &#34;order_pay&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>        &#34;is_send&#34;: &#34;否&#34;,
</span></span><span class=line><span class=cl>        &#34;trade_no&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_title&#34;: &#34;个人&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_company&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_content&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;consignee_addr&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;pay_status&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>        &#34;create_time&#34;: 1512533560,
</span></span><span class=line><span class=cl>        &#34;update_time&#34;: 1512533560,
</span></span><span class=line><span class=cl>        &#34;goods&#34;: [
</span></span><span class=line><span class=cl>            {
</span></span><span class=line><span class=cl>                &#34;id&#34;: 82,
</span></span><span class=line><span class=cl>                &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>                &#34;goods_id&#34;: 96,
</span></span><span class=line><span class=cl>                &#34;goods_price&#34;: 333,
</span></span><span class=line><span class=cl>                &#34;goods_number&#34;: 2,
</span></span><span class=line><span class=cl>                &#34;goods_total_price&#34;: 999
</span></span><span class=line><span class=cl>            },
</span></span><span class=line><span class=cl>            {
</span></span><span class=line><span class=cl>                &#34;id&#34;: 83,
</span></span><span class=line><span class=cl>                &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>                &#34;goods_id&#34;: 95,
</span></span><span class=line><span class=cl>                &#34;goods_price&#34;: 666,
</span></span><span class=line><span class=cl>                &#34;goods_number&#34;: 5,
</span></span><span class=line><span class=cl>                &#34;goods_total_price&#34;: 999
</span></span><span class=line><span class=cl>            }
</span></span><span class=line><span class=cl>        ]
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=3-查看订单详情-3>3. 查看订单详情<a hidden class=anchor aria-hidden=true href=#3-查看订单详情-3>#</a></h3><ul><li><p>请求路径：orders/:id</p></li><li><p>请求方法：get</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>订单 ID</td><td>不能为空<code>携带在url中</code></td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {
</span></span><span class=line><span class=cl>        &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>        &#34;user_id&#34;: 1,
</span></span><span class=line><span class=cl>        &#34;order_number&#34;: &#34;itany-g7kmck71vjaujfgoi&#34;,
</span></span><span class=line><span class=cl>        &#34;order_price&#34;: 20,
</span></span><span class=line><span class=cl>        &#34;order_pay&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>        &#34;is_send&#34;: &#34;否&#34;,
</span></span><span class=line><span class=cl>        &#34;trade_no&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_title&#34;: &#34;个人&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_company&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;order_fapiao_content&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;consignee_addr&#34;: &#34;&#34;,
</span></span><span class=line><span class=cl>        &#34;pay_status&#34;: &#34;0&#34;,
</span></span><span class=line><span class=cl>        &#34;create_time&#34;: 1512533560,
</span></span><span class=line><span class=cl>        &#34;update_time&#34;: 1512533560,
</span></span><span class=line><span class=cl>        &#34;goods&#34;: [
</span></span><span class=line><span class=cl>            {
</span></span><span class=line><span class=cl>                &#34;id&#34;: 82,
</span></span><span class=line><span class=cl>                &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>                &#34;goods_id&#34;: 96,
</span></span><span class=line><span class=cl>                &#34;goods_price&#34;: 333,
</span></span><span class=line><span class=cl>                &#34;goods_number&#34;: 2,
</span></span><span class=line><span class=cl>                &#34;goods_total_price&#34;: 999
</span></span><span class=line><span class=cl>            },
</span></span><span class=line><span class=cl>            {
</span></span><span class=line><span class=cl>                &#34;id&#34;: 83,
</span></span><span class=line><span class=cl>                &#34;order_id&#34;: 67,
</span></span><span class=line><span class=cl>                &#34;goods_id&#34;: 95,
</span></span><span class=line><span class=cl>                &#34;goods_price&#34;: 666,
</span></span><span class=line><span class=cl>                &#34;goods_number&#34;: 5,
</span></span><span class=line><span class=cl>                &#34;goods_total_price&#34;: 999
</span></span><span class=line><span class=cl>            }
</span></span><span class=line><span class=cl>        ]
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;获取成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=4-修改地址-3>4. 修改地址<a hidden class=anchor aria-hidden=true href=#4-修改地址-3>#</a></h3><ul><li><p>请求路径：orders/:id/address</p></li><li><p>请求方法：put</p></li><li><p>请求参数</p></li></ul><table><thead><tr><th>参数名</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>订单 ID</td><td>不能为空<code>携带在url中</code></td></tr><tr><td>consignee_addr</td><td>收货地址</td><td>可以为空</td></tr></tbody></table><ul><li>响应数据</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;data&#34;: {},
</span></span><span class=line><span class=cl>    &#34;meta&#34;: {
</span></span><span class=line><span class=cl>        &#34;msg&#34;: &#34;修改地址成功&#34;,
</span></span><span class=line><span class=cl>        &#34;status&#34;: 200
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=5-查看物流信息-3>5. 查看物流信息<a hidden class=anchor aria-hidden=true href=#5-查看物流信息-3>#</a></h3><ul><li><p>请求路径：/kuaidi/:id</p></li><li><p>请求方法：get</p></li><li><p>物流单号：815294206237577</p></li><li><p>响应数据：</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  {
</span></span><span class=line><span class=cl>      &#34;meta&#34;:{
</span></span><span class=line><span class=cl>          &#34;status&#34;:200,
</span></span><span class=line><span class=cl>          &#34;message&#34;:&#34;获取物流信息成功！&#34;
</span></span><span class=line><span class=cl>      },
</span></span><span class=line><span class=cl>      &#34;data&#34;:[
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-15 12:39:56&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-15 12:39:56&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已签收,签收人是 汤小洋 先生/女士，如有疑问请联系派件员阿奇(13805148888)，如您未收到此快递，请拨打投诉电话：15294207777，感谢使用申通快递，期待再次为您服务&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-15 08:46:54&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-15 08:46:54&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;上海浦东寒亭营业厅-寒亭阿奇(13805148888)-派件中&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-15 08:38:57&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-15 08:38:57&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东寒亭营业厅&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-15 06:38:13&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-15 06:38:13&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东寒亭营业厅&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 20:56:45&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 20:56:45&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;上海浦东转运中心-已发往-上海浦东寒亭公司&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 20:52:44&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 20:52:44&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 17:43:48&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 17:43:48&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 10:53:46&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 10:53:46&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;上海浦东转运中心-已发往-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 10:43:31&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 10:43:31&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 02:43:20&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 02:43:20&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;江苏苏州转运中心-已发往-上海浦东转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-14 02:41:40&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-14 02:41:40&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;已到达-江苏苏州转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-13 16:28:13&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-13 16:28:13&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;江苏南京转运中心-已发往-江苏苏州转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-13 15:03:30&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-13 15:03:30&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;南京IT教育公司-已发往-江苏南京转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-13 14:47:56&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-13 14:47:56&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;南京IT教育公司-已发往-江苏南京转运中心&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          },
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>              &#34;time&#34;:&#34;2020-11-13 14:37:06&#34;,
</span></span><span class=line><span class=cl>              &#34;ftime&#34;:&#34;2020-11-13 14:37:06&#34;,
</span></span><span class=line><span class=cl>              &#34;context&#34;:&#34;南京IT教育公司-城东汪小主宠物店-已收件&#34;,
</span></span><span class=line><span class=cl>              &#34;location&#34;:null
</span></span><span class=line><span class=cl>          }
</span></span><span class=line><span class=cl>      ]
</span></span><span class=line><span class=cl>  }
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://waite.wang/tags/project/>Project</a></li></ul><nav class=paginav><a class=prev href=https://waite.wang/posts/project/vite-shopmall-project-begin/><span class=title>«</span><br><span>Vite B端后台管理起始项</span>
</a><a class=next href=https://waite.wang/posts/jsp/idea-create-project-of-servlet/><span class=title>»</span><br><span>Idea2023.2 创建 Servlet 项目</span></a></nav></footer><script src=https://utteranc.es/client.js repo=Waite0603/HugoBlog issue-term=pathname theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span><a href=https://beian.miit.gov.cn/ target=_blank rel="noopener noreferrer">粤 ICP 备 2022028437 号</a></span><br><span>Copyright &copy; 2018 - 2024 By <a href=https://waite.wang/>Waite</a>, All Rights
Reserved.</span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script src=/js/jquery.min.js></script><link rel=stylesheet href=/css/jquery.fancybox.min.css><script src=/js/jquery.fancybox.min.js></script></body></html>