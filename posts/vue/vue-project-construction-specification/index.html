<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>vue 项目规范设置 | 隶笔难书</title>
<meta name=keywords content="Vue3"><meta name=description content="集成editorconfig配置
EditorConfig 有助于为不同 IDE 编辑器上处理同一项目的多个开发人员维护一致的编码风格。
# http://editorconfig.org

root = true

[*] # 表示所有文件适用
charset = utf-8 # 设置文件字符集为 utf-8
indent_style = space # 缩进风格（tab | space）
indent_size = 2 # 缩进大小
end_of_line = lf # 控制换行类型(lf | cr | crlf)
trim_trailing_whitespace = true # 去除行首的任意空白字符
insert_final_newline = true # 始终在文件末尾插入一个新行

[*.md] # 表示仅 md 文件适用以下规则
max_line_length = off
trim_trailing_whitespace = false
VSCode需要安装一个插件：EditorConfig for VS Code"><meta name=author content><link rel=canonical href=https://waite.wang/posts/vue/vue-project-construction-specification/><link crossorigin=anonymous href=/assets/css/stylesheet.1f25c954b6964bfd120383618e0c76f5d98627118274109d51919206cab78c1e.css integrity="sha256-HyXJVLaWS/0SA4Nhjgx29dmGJxGCdBCdUZGSBsq3jB4=" rel="preload stylesheet" as=style><link rel=icon href=https://waite.wang/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://waite.wang/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://waite.wang/favicon-32x32.png><link rel=apple-touch-icon href=https://waite.wang/apple-touch-icon.png><link rel=mask-icon href=https://waite.wang/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-cn href=https://waite.wang/posts/vue/vue-project-construction-specification/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://waite.wang/posts/vue/vue-project-construction-specification/"><meta property="og:site_name" content="隶笔难书"><meta property="og:title" content="vue 项目规范设置"><meta property="og:description" content="集成editorconfig配置 EditorConfig 有助于为不同 IDE 编辑器上处理同一项目的多个开发人员维护一致的编码风格。
# http://editorconfig.org root = true [*] # 表示所有文件适用 charset = utf-8 # 设置文件字符集为 utf-8 indent_style = space # 缩进风格（tab | space） indent_size = 2 # 缩进大小 end_of_line = lf # 控制换行类型(lf | cr | crlf) trim_trailing_whitespace = true # 去除行首的任意空白字符 insert_final_newline = true # 始终在文件末尾插入一个新行 [*.md] # 表示仅 md 文件适用以下规则 max_line_length = off trim_trailing_whitespace = false VSCode需要安装一个插件：EditorConfig for VS Code"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-01-22T16:04:23+08:00"><meta property="article:modified_time" content="2024-01-22T16:04:23+08:00"><meta property="article:tag" content="Vue3"><meta name=twitter:card content="summary"><meta name=twitter:title content="vue 项目规范设置"><meta name=twitter:description content="集成editorconfig配置
EditorConfig 有助于为不同 IDE 编辑器上处理同一项目的多个开发人员维护一致的编码风格。
# http://editorconfig.org

root = true

[*] # 表示所有文件适用
charset = utf-8 # 设置文件字符集为 utf-8
indent_style = space # 缩进风格（tab | space）
indent_size = 2 # 缩进大小
end_of_line = lf # 控制换行类型(lf | cr | crlf)
trim_trailing_whitespace = true # 去除行首的任意空白字符
insert_final_newline = true # 始终在文件末尾插入一个新行

[*.md] # 表示仅 md 文件适用以下规则
max_line_length = off
trim_trailing_whitespace = false
VSCode需要安装一个插件：EditorConfig for VS Code"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://waite.wang/posts/"},{"@type":"ListItem","position":2,"name":"vue 项目规范设置","item":"https://waite.wang/posts/vue/vue-project-construction-specification/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"vue 项目规范设置","name":"vue 项目规范设置","description":"集成editorconfig配置 EditorConfig 有助于为不同 IDE 编辑器上处理同一项目的多个开发人员维护一致的编码风格。\n# http://editorconfig.org root = true [*] # 表示所有文件适用 charset = utf-8 # 设置文件字符集为 utf-8 indent_style = space # 缩进风格（tab | space） indent_size = 2 # 缩进大小 end_of_line = lf # 控制换行类型(lf | cr | crlf) trim_trailing_whitespace = true # 去除行首的任意空白字符 insert_final_newline = true # 始终在文件末尾插入一个新行 [*.md] # 表示仅 md 文件适用以下规则 max_line_length = off trim_trailing_whitespace = false VSCode需要安装一个插件：EditorConfig for VS Code\n","keywords":["Vue3"],"articleBody":"集成editorconfig配置 EditorConfig 有助于为不同 IDE 编辑器上处理同一项目的多个开发人员维护一致的编码风格。\n# http://editorconfig.org root = true [*] # 表示所有文件适用 charset = utf-8 # 设置文件字符集为 utf-8 indent_style = space # 缩进风格（tab | space） indent_size = 2 # 缩进大小 end_of_line = lf # 控制换行类型(lf | cr | crlf) trim_trailing_whitespace = true # 去除行首的任意空白字符 insert_final_newline = true # 始终在文件末尾插入一个新行 [*.md] # 表示仅 md 文件适用以下规则 max_line_length = off trim_trailing_whitespace = false VSCode需要安装一个插件：EditorConfig for VS Code\n语法检查 / 代码格式化 使用prettier工具 Prettier 是一款强大的代码格式化工具，支持 JavaScript、TypeScript、CSS、SCSS、Less、JSX、Angular、Vue、GraphQL、JSON、Markdown 等语言，基本上前端能用到的文件格式它都可以搞定，是当下最流行的代码格式化工具。\n1.安装prettier\nnpm install prettier -D 2.配置.prettierrc文件：\nuseTabs：使用tab缩进还是空格缩进，选择false； tabWidth：tab是空格的情况下，是几个空格，选择2个； printWidth：当行字符的长度，推荐80，也有人喜欢100或者120； singleQuote：使用单引号还是双引号，选择true，使用单引号； trailingComma：在多行输入的尾逗号是否添加，设置为 none； semi：语句末尾是否要加分号，默认值true，选择false表示不加； { \"useTabs\": false, \"tabWidth\": 2, \"printWidth\": 80, \"singleQuote\": true, \"trailingComma\": \"none\", \"semi\": false } 3.创建.prettierignore忽略文件\n/dist/* .local .output.js /node_modules/** **/*.svg **/*.sh /public/* 4.VSCode需要安装prettier的插件\n5.测试prettier是否生效\n测试一：在代码中保存代码； 测试二：配置一次性修改的命令； 在package.json中配置一个scripts：\n\"prettier\": \"prettier --write .\" 运行 npm run prettier 使用ESLint检测 vue-cli 创建项目，选择 eslint+prettier, 前面创建项目的时候，我们就选择了ESLint，所以Vue会默认帮助我们配置需要的ESLint环境。 前面创建项目的时候，我们就选择了ESLint，所以Vue会默认帮助我们配置需要的ESLint环境。 解决eslint和prettier冲突的问题 安装插件：（vue在创建项目时，如果选择prettier，那么这两个插件会自动安装）\nnpm i eslint-plugin-prettier eslint-config-prettier -D 添加prettier插件(最后一行)：\nextends: [ \"plugin:vue/vue3-essential\", \"eslint:recommended\", \"@vue/typescript/recommended\", \"@vue/prettier\", \"@vue/prettier/@typescript-eslint\", 'plugin:prettier/recommended' ], git Husky和eslint 虽然我们已经要求项目使用eslint了，但是不能保证组员提交代码之前都将eslint中的问题解决掉了：\n也就是我们希望保证代码仓库中的代码都是符合eslint规范的；\n那么我们需要在组员执行 git commit 命令的时候对其进行校验，如果不符合eslint规范，那么自动通过规范进行修复；\n那么如何做到这一点呢？可以通过Husky工具：\nhusky是一个git hook工具，可以帮助我们触发git提交的各个阶段：pre-commit、commit-msg、pre-push 如何使用husky呢？\n这里我们可以使用自动配置命令：\nnpx husky-init \u0026\u0026 npm install 接下来，我们需要去完成一个操作：在进行commit时，执行lint脚本：\n这个时候我们执行git commit的时候会自动对代码进行lint校验。\ngit commit规范 代码提交风格 通常我们的git commit会按照统一的风格来提交，这样可以快速定位每次提交的内容，方便之后对版本进行控制。\n但是如果每次手动来编写这些是比较麻烦的事情，我们可以使用一个工具：Commitizen\nCommitizen 是一个帮助我们编写规范 commit message 的工具； 1.安装Commitizen\nnpm install commitizen -D 2.安装cz-conventional-changelog，并且初始化cz-conventional-changelog：\nnpx commitizen init cz-conventional-changelog --save-dev --save-exact 这个命令会帮助我们安装cz-conventional-changelog 并且在package.json中进行配置\n这个时候我们提交代码需要使用 npx cz/ git cz：\nType 作用 feat 新增特性 (feature) fix 修复 Bug(bug fix) docs 修改文档 (documentation) style 代码格式修改(white-space, formatting, missing semi colons, etc) refactor 代码重构(refactor) perf 改善性能(A code change that improves performance) test 测试(when adding missing tests) build 变更项目构建或外部依赖（例如 scopes: webpack、gulp、npm 等） ci 更改持续集成软件的配置文件和 package 中的 scripts 命令，例如 scopes: Travis, Circle 等 chore 变更构建流程或辅助工具(比如更改测试环境) revert 代码回退 代码提交验证 如果我们按照cz来规范了提交风格，但是依然有同事通过 git commit 按照不规范的格式提交应该怎么办呢？\n我们可以通过commitlint来限制提交； 1.安装 @commitlint/config-conventional 和 @commitlint/cli\nnpm i @commitlint/config-conventional @commitlint/cli -D 2.在根目录创建commitlint.config.js文件，配置commitlint\nmodule.exports = { extends: ['@commitlint/config-conventional'] } 3.使用husky生成commit-msg文件，验证提交信息：\nnpx husky add .husky/commit-msg \"npx --no-install commitlint --edit $1\" ","wordCount":"1933","inLanguage":"zh-cn","datePublished":"2024-01-22T16:04:23+08:00","dateModified":"2024-01-22T16:04:23+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://waite.wang/posts/vue/vue-project-construction-specification/"},"publisher":{"@type":"Organization","name":"隶笔难书","logo":{"@type":"ImageObject","url":"https://waite.wang/images/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://waite.wang/ accesskey=h title="隶笔难书 (Alt + H)">隶笔难书</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://waite.wang/ title=首页><span>首页</span></a></li><li><a href=https://waite.wang/search title=搜索><span>搜索</span></a></li><li><a href=https://waite.wang/categories title=分类><span>分类</span></a></li><li><a href=https://waite.wang/tags title=标签><span>标签</span></a></li><li><a href=https://waite.wang/archives title=归档><span>归档</span></a></li><li><a href=https://waite.wang/links title=友链><span>友链</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">vue 项目规范设置</h1><div class=post-meta>Created: &nbsp;<span title='2024-01-22 16:04:23 +0800 +0800'>2024-01-22</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;1933 words&nbsp;|&nbsp;<a href=https://github.com/Waite0603/HugoBlog/edit/main/content/posts/vue/vue-project-construction-specification.md rel="noopener noreferrer" target=_blank>在 GitHub 编辑</a></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e9%9b%86%e6%88%90editorconfig%e9%85%8d%e7%bd%ae aria-label=集成editorconfig配置>集成editorconfig配置</a></li><li><a href=#%e8%af%ad%e6%b3%95%e6%a3%80%e6%9f%a5--%e4%bb%a3%e7%a0%81%e6%a0%bc%e5%bc%8f%e5%8c%96 aria-label="语法检查 / 代码格式化">语法检查 / 代码格式化</a><ul><li><a href=#%e4%bd%bf%e7%94%a8prettier%e5%b7%a5%e5%85%b7 aria-label=使用prettier工具>使用prettier工具</a></li><li><a href=#%e4%bd%bf%e7%94%a8eslint%e6%a3%80%e6%b5%8b aria-label=使用ESLint检测>使用ESLint检测</a></li><li><a href=#%e8%a7%a3%e5%86%b3eslint%e5%92%8cprettier%e5%86%b2%e7%aa%81%e7%9a%84%e9%97%ae%e9%a2%98 aria-label=解决eslint和prettier冲突的问题>解决eslint和prettier冲突的问题</a></li></ul></li><li><a href=#git-husky%e5%92%8ceslint aria-label="git Husky和eslint">git Husky和eslint</a></li><li><a href=#git-commit%e8%a7%84%e8%8c%83 aria-label="git commit规范">git commit规范</a><ul><li><a href=#%e4%bb%a3%e7%a0%81%e6%8f%90%e4%ba%a4%e9%a3%8e%e6%a0%bc aria-label=代码提交风格>代码提交风格</a></li><li><a href=#%e4%bb%a3%e7%a0%81%e6%8f%90%e4%ba%a4%e9%aa%8c%e8%af%81 aria-label=代码提交验证>代码提交验证</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=集成editorconfig配置>集成editorconfig配置<a hidden class=anchor aria-hidden=true href=#集成editorconfig配置>#</a></h2><p>EditorConfig 有助于为不同 IDE 编辑器上处理同一项目的多个开发人员维护一致的编码风格。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># http://editorconfig.org</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>root = true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=cp>*]</span><span class=w> </span><span class=c># 表示所有文件适用</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>charset = utf-8</span><span class=w> </span><span class=c># 设置文件字符集为 utf-8</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>indent_style = space</span><span class=w> </span><span class=c># 缩进风格（tab | space）</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>indent_size = 2</span><span class=w> </span><span class=c># 缩进大小</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>end_of_line = lf</span><span class=w> </span><span class=c># 控制换行类型(lf | cr | crlf)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>trim_trailing_whitespace = true</span><span class=w> </span><span class=c># 去除行首的任意空白字符</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>insert_final_newline = true</span><span class=w> </span><span class=c># 始终在文件末尾插入一个新行</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=cp>*.md]</span><span class=w> </span><span class=c># 表示仅 md 文件适用以下规则</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>max_line_length = off</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>trim_trailing_whitespace = false</span><span class=w>
</span></span></span></code></pre></div><p>VSCode需要安装一个插件：EditorConfig for VS Code</p><h2 id=语法检查--代码格式化>语法检查 / 代码格式化<a hidden class=anchor aria-hidden=true href=#语法检查--代码格式化>#</a></h2><h3 id=使用prettier工具>使用prettier工具<a hidden class=anchor aria-hidden=true href=#使用prettier工具>#</a></h3><p>Prettier 是一款强大的代码格式化工具，支持 JavaScript、TypeScript、CSS、SCSS、Less、JSX、Angular、Vue、GraphQL、JSON、Markdown 等语言，基本上前端能用到的文件格式它都可以搞定，是当下最流行的代码格式化工具。</p><p>1.安装prettier</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>npm install prettier -D
</span></span></code></pre></div><p>2.配置.prettierrc文件：</p><ul><li>useTabs：使用tab缩进还是空格缩进，选择false；</li><li>tabWidth：tab是空格的情况下，是几个空格，选择2个；</li><li>printWidth：当行字符的长度，推荐80，也有人喜欢100或者120；</li><li>singleQuote：使用单引号还是双引号，选择true，使用单引号；</li><li>trailingComma：在多行输入的尾逗号是否添加，设置为 <code>none</code>；</li><li>semi：语句末尾是否要加分号，默认值true，选择false表示不加；</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;useTabs&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;tabWidth&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;printWidth&#34;</span><span class=p>:</span> <span class=mi>80</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;singleQuote&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;trailingComma&#34;</span><span class=p>:</span> <span class=s2>&#34;none&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;semi&#34;</span><span class=p>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>3.创建.prettierignore忽略文件</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>/dist/*
</span></span><span class=line><span class=cl>.local
</span></span><span class=line><span class=cl>.output.js
</span></span><span class=line><span class=cl>/node_modules/**
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>**/*.svg
</span></span><span class=line><span class=cl>**/*.sh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>/public/*
</span></span></code></pre></div><p>4.VSCode需要安装prettier的插件</p><p>5.测试prettier是否生效</p><ul><li>测试一：在代码中保存代码；</li><li>测试二：配置一次性修改的命令；</li></ul><p>在package.json中配置一个scripts：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=s2>&#34;prettier&#34;</span><span class=err>:</span> <span class=s2>&#34;prettier --write .&#34;</span>
</span></span></code></pre></div><ol start=6><li>运行 <code>npm run prettier</code></li></ol><h3 id=使用eslint检测>使用ESLint检测<a hidden class=anchor aria-hidden=true href=#使用eslint检测>#</a></h3><ol><li>vue-cli 创建项目，选择 eslint+prettier, 前面创建项目的时候，我们就选择了ESLint，所以Vue会默认帮助我们配置需要的ESLint环境。</li><li>前面创建项目的时候，我们就选择了ESLint，所以Vue会默认帮助我们配置需要的ESLint环境。</li></ol><h3 id=解决eslint和prettier冲突的问题>解决eslint和prettier冲突的问题<a hidden class=anchor aria-hidden=true href=#解决eslint和prettier冲突的问题>#</a></h3><p>安装插件：（vue在创建项目时，如果选择prettier，那么这两个插件会自动安装）</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>npm i eslint-plugin-prettier eslint-config-prettier -D
</span></span></code></pre></div><p>添加prettier插件(最后一行)：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>  extends: [
</span></span><span class=line><span class=cl>    &#34;plugin:vue/vue3-essential&#34;,
</span></span><span class=line><span class=cl>    &#34;eslint:recommended&#34;,
</span></span><span class=line><span class=cl>    &#34;@vue/typescript/recommended&#34;,
</span></span><span class=line><span class=cl>    &#34;@vue/prettier&#34;,
</span></span><span class=line><span class=cl>    &#34;@vue/prettier/@typescript-eslint&#34;,
</span></span><span class=line><span class=cl>    &#39;plugin:prettier/recommended&#39;
</span></span><span class=line><span class=cl>  ],
</span></span></code></pre></div><h2 id=git-husky和eslint>git Husky和eslint<a hidden class=anchor aria-hidden=true href=#git-husky和eslint>#</a></h2><p>虽然我们已经要求项目使用eslint了，但是不能保证组员提交代码之前都将eslint中的问题解决掉了：</p><ul><li><p>也就是我们希望保证代码仓库中的代码都是符合eslint规范的；</p></li><li><p>那么我们需要在组员执行 <code>git commit </code>命令的时候对其进行校验，如果不符合eslint规范，那么自动通过规范进行修复；</p></li></ul><p>那么如何做到这一点呢？可以通过Husky工具：</p><ul><li>husky是一个git hook工具，可以帮助我们触发git提交的各个阶段：pre-commit、commit-msg、pre-push</li></ul><p>如何使用husky呢？</p><p>这里我们可以使用自动配置命令：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>npx husky-init <span class=o>&amp;&amp;</span> npm install
</span></span></code></pre></div><p>接下来，我们需要去完成一个操作：在进行commit时，执行lint脚本：</p><p><img alt=image-20231231233724827 loading=lazy src=https://qiniu.waite.wang/202312312337786.png></p><p>这个时候我们执行git commit的时候会自动对代码进行lint校验。</p><h2 id=git-commit规范>git commit规范<a hidden class=anchor aria-hidden=true href=#git-commit规范>#</a></h2><h3 id=代码提交风格>代码提交风格<a hidden class=anchor aria-hidden=true href=#代码提交风格>#</a></h3><p>通常我们的git commit会按照统一的风格来提交，这样可以快速定位每次提交的内容，方便之后对版本进行控制。</p><p>但是如果每次手动来编写这些是比较麻烦的事情，我们可以使用一个工具：Commitizen</p><ul><li>Commitizen 是一个帮助我们编写规范 commit message 的工具；</li></ul><p>1.安装Commitizen</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>npm install commitizen -D
</span></span></code></pre></div><p>2.安装cz-conventional-changelog，并且初始化cz-conventional-changelog：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>npx commitizen init cz-conventional-changelog --save-dev --save-exact
</span></span></code></pre></div><p>这个命令会帮助我们安装cz-conventional-changelog 并且在package.json中进行配置</p><p>这个时候我们提交代码需要使用 <code>npx cz</code>/ <code>git cz</code>：</p><table><thead><tr><th>Type</th><th>作用</th></tr></thead><tbody><tr><td>feat</td><td>新增特性 (feature)</td></tr><tr><td>fix</td><td>修复 Bug(bug fix)</td></tr><tr><td>docs</td><td>修改文档 (documentation)</td></tr><tr><td>style</td><td>代码格式修改(white-space, formatting, missing semi colons, etc)</td></tr><tr><td>refactor</td><td>代码重构(refactor)</td></tr><tr><td>perf</td><td>改善性能(A code change that improves performance)</td></tr><tr><td>test</td><td>测试(when adding missing tests)</td></tr><tr><td>build</td><td>变更项目构建或外部依赖（例如 scopes: webpack、gulp、npm 等）</td></tr><tr><td>ci</td><td>更改持续集成软件的配置文件和 package 中的 scripts 命令，例如 scopes: Travis, Circle 等</td></tr><tr><td>chore</td><td>变更构建流程或辅助工具(比如更改测试环境)</td></tr><tr><td>revert</td><td>代码回退</td></tr></tbody></table><h3 id=代码提交验证>代码提交验证<a hidden class=anchor aria-hidden=true href=#代码提交验证>#</a></h3><p>如果我们按照cz来规范了提交风格，但是依然有同事通过 <code>git commit</code> 按照不规范的格式提交应该怎么办呢？</p><ul><li>我们可以通过commitlint来限制提交；</li></ul><p>1.安装 @commitlint/config-conventional 和 @commitlint/cli</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>npm i @commitlint/config-conventional @commitlint/cli -D
</span></span></code></pre></div><p>2.在根目录创建commitlint.config.js文件，配置commitlint</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>extends</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;@commitlint/config-conventional&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>3.使用husky生成commit-msg文件，验证提交信息：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>npx husky add .husky/commit-msg <span class=s2>&#34;npx --no-install commitlint --edit </span><span class=nv>$1</span><span class=s2>&#34;</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://waite.wang/tags/vue3/>Vue3</a></li></ul><nav class=paginav><a class=prev href=https://waite.wang/posts/mini-program/learn-uniapp-1/><span class=title>« 上一页</span><br><span>UniApp 入门</span>
</a><a class=next href=https://waite.wang/posts/vue/vue3-compositionapi/><span class=title>下一页 »</span><br><span>Vue3 CompositionAPI</span></a></nav></footer><script src=https://utteranc.es/client.js repo=Waite0603/HugoBlog issue-term=pathname theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span><a href=https://beian.miit.gov.cn/ target=_blank rel="noopener noreferrer">粤ICP备2022028437号-1</a></span><br><span>Copyright &copy; 2018 - 2025 By <a href=https://waite.wang/>Waite</a>, All Rights
Reserved.</span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script src=/js/jquery-3.5.1.min.js></script><link rel=stylesheet href=/css/jquery.fancybox.min.css><script src=/js/jquery.fancybox.min.js></script></body></html>