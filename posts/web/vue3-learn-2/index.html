<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Vue3 基本指令(二) | 隶笔难书</title>
<meta name=keywords content="Vue3"><meta name=description content="
本文章来源于王红元老师（coderwhy）的 Vue3 + Ts 课程第二章节 - Vue3 基本指令附上链接：https//ke.qq.com/course/3453141
permalink: /archives/vue3-ji-ben-zhi-ling-er"><meta name=author content><link rel=canonical href=https://waite.wang/posts/web/vue3-learn-2/><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://waite.wang/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://waite.wang/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://waite.wang/favicon-32x32.png><link rel=apple-touch-icon href=https://waite.wang/apple-touch-icon.png><link rel=mask-icon href=https://waite.wang/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://waite.wang/posts/web/vue3-learn-2/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://waite.wang/posts/web/vue3-learn-2/"><meta property="og:site_name" content="隶笔难书"><meta property="og:title" content="Vue3 基本指令(二)"><meta property="og:description" content=" 本文章来源于王红元老师（coderwhy）的 Vue3 + Ts 课程第二章节 - Vue3 基本指令附上链接：https//ke.qq.com/course/3453141 permalink: /archives/vue3-ji-ben-zhi-ling-er"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-10-22T16:04:23+08:00"><meta property="article:modified_time" content="2023-10-22T16:04:23+08:00"><meta property="article:tag" content="Vue3"><meta name=twitter:card content="summary"><meta name=twitter:title content="Vue3 基本指令(二)"><meta name=twitter:description content="
本文章来源于王红元老师（coderwhy）的 Vue3 + Ts 课程第二章节 - Vue3 基本指令附上链接：https//ke.qq.com/course/3453141
permalink: /archives/vue3-ji-ben-zhi-ling-er"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://waite.wang/posts/"},{"@type":"ListItem","position":2,"name":"Vue3 基本指令(二)","item":"https://waite.wang/posts/web/vue3-learn-2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Vue3 基本指令(二)","name":"Vue3 基本指令(二)","description":" 本文章来源于王红元老师（coderwhy）的 Vue3 + Ts 课程第二章节 - Vue3 基本指令附上链接：https//ke.qq.com/course/3453141 permalink: /archives/vue3-ji-ben-zhi-ling-er\n","keywords":["Vue3"],"articleBody":" 本文章来源于王红元老师（coderwhy）的 Vue3 + Ts 课程第二章节 - Vue3 基本指令附上链接：https//ke.qq.com/course/3453141 permalink: /archives/vue3-ji-ben-zhi-ling-er\nVue3 基本指令 VSCode 代码片段 我们在前面练习Vue的过程中，有些代码片段是需要经常写的，我们再VSCode中我们可以生成一个代码片段，方 便我们快速生成。 VSCode中的代码片段有固定的格式，所以我们一般会借助于一个在线工具来完成。 具体的步骤如下： 第一步，复制自己需要生成代码片段的代码； 第二步，https://snippet-generator.app/在该网站中生成代码片段； 第三步，在VSCode中配置代码片段； 直接 Tab trigger 即可自动填充 模板语法 React的开发模式[了解] React使用的jsx,所以对应的代码都是编写的类似于js的一种语法 之后通过Babe将js编译成 React. create Element函数调用 function () { return \u003cdiv\u003e\u003c/div\u003e } vue也支持 jsx 的开发模式: 但是大多数情况下,使用基于HTML的模板语法 在模板中,允许开发者以声明式的方式将 DOM 和底层组件实例的数据绑定在-起;口在底层的实现中,vue将模板编译成虚拟DOM渲染函数 \u003ctemplate\u003e \u003cdiv @click v-bind v-once\u003e {{}} \u003c/div\u003e \u003c/template\u003e Mustache 语法 双大括号语法 如果我们希望把数据显示到模板（template）中，使用最多的语法是 “Mustache”语法 (双大括号) 的文本插值。 并且我们前端提到过，data返回的对象是有添加到Vue的响应式系统中； 当data中的数据发生改变时，对应的内容也会发生更新。 当然，Mustache中不仅仅可以是data中的属性，也可以是一个JavaScript的表达式。 mustache的使用 1. 基本使用 2. 表达式 3. 函数 4. 三元运算符 \u003ctemplate id=\"my-app\"\u003e \u003ch2\u003e{{message}} - {{message}}\u003c/h2\u003e \u003ch2\u003e{{counter * 10}}\u003c/h2\u003e \u003ch2\u003e{{ message.split(\" \").reverse().join(\" \") }}\u003c/h2\u003e \u003ch2\u003e{{getReverseMessage()}}\u003c/h2\u003e \u003ch2\u003e{{ isShow ? \"哈哈哈\": \"\" }}\u003c/h2\u003e \u003cbutton @click=\"toggle\"\u003e切换\u003c/button\u003e \u003c/template\u003e \u003cscript src=\"../js/vue.js\"\u003e\u003c/script\u003e \u003cscript\u003e const App = { template: '#my-app', data() { return { message: \"Hello World\", counter: 100, isShow: true } }, methods: { getReverseMessage() { return this.message.split(\" \").reverse().join(\" \"); }, toggle() { this.isShow = !this.isShow; } } } Vue.createApp(App).mount('#app'); \u003c/script\u003e 以下为错误写法\nvar name = \"abc\" ; \u003ch2\u003e{{var name = \"abc\"}}\u003c/h2\u003e \u003ch2\u003e{{ if(isShow) { return \"哈哈哈\" } }}\u003c/h2\u003e 不常用指令 v-once指令 v-once用于指定元素或者组件只渲染一次\n当数据发生变化时,元素或者组件以及其所有的子元素将视为静态内容并且跳过;\n该指令可以用于性能优化;\n\u003ch2 v-once\u003e{{counter}}\u003c/h2\u003e \u003cbutton @click=\"increment\"\u003e+1\u003c/button\u003e 如果是子节点的化，也只能渲染一次\n\u003cdiv v-once\u003e \u003ch2\u003e{{counter}}\u003c/h2\u003e \u003ch2\u003e{{message}}\u003c/h2\u003e \u003c/div\u003e \u003cbutton @click=\"increment\"\u003e+1\u003c/button\u003e 完整代码\n\u003cdiv id=\"app\"\u003e\u003c/div\u003e \u003ctemplate id=\"my-app\"\u003e \u003ch2\u003e{{counter}}\u003c/h2\u003e \u003cdiv v-once\u003e \u003ch2\u003e{{counter}}\u003c/h2\u003e \u003ch2\u003e{{message}}\u003c/h2\u003e \u003c/div\u003e \u003cbutton @click=\"increment\"\u003e+1\u003c/button\u003e \u003c/template\u003e \u003cscript src=\"../js/vue.js\"\u003e\u003c/script\u003e \u003cscript\u003e const App = { template: '#my-app', data() { return { counter: 100, message: \"abc\" } }, methods: { increment() { this.counter++; } } } Vue.createApp(App).mount('#app'); \u003c/script\u003e v-html 默认情况下，如果我们展示的内容本身是 html 的，那么vue并不会对其进行特殊的解析。 如果我们希望这个内容被Vue可以解析出来，那么可以使用 v-html 来展示 \u003ctemplate id=\"my-app\"\u003e \u003cdiv\u003e{{msg}}\u003c/div\u003e \u003cdiv v-html=\"msg\"\u003e\u003c/div\u003e \u003c/template\u003e \u003cscript src=\"../js/vue.js\"\u003e\u003c/script\u003e \u003cscript\u003e const App = { template: '#my-app', data() { return { msg: '哈哈哈' } } } Vue.createApp(App).mount('#app'); \u003c/script\u003e v-text 用于更新元素的 textContent \u003ch2 v-text=\"message\"\u003e\u003c/h2\u003e \u003ch2\u003e{{message}}\u003c/h2\u003e v-pre v-pre用于跳过元素和它的子元素的编译过程，显示原始的Mustache标签： 跳过不需要编译的节点，加快编译的速度 \u003ctemplate id=\"my-app\"\u003e \u003ch2 v-pre\u003e{{message}}\u003c/h2\u003e \u003c/template\u003e v-cloak 用于隐藏尚未完成编译的 DOM 模板。 无需传入 详细信息 该指令只在没有构建步骤的环境下需要使用。 当使用直接在 DOM 中书写的模板时，可能会出现一种叫做“未编译模板闪现”的情况：用户可能先看到的是还没编译完成的双大括号标签，直到挂载的组件将它们替换为实际渲染的内容。 v-cloak 会保留在所绑定的元素上，直到相关组件实例被挂载后才移除。配合像 [v-cloak] { display: none } 这样的 CSS 规则，它可以在组件编译完毕前隐藏原始模板。 [v-cloak] { display: none; } \u003cdiv v-cloak\u003e {{ message }} \u003c/div\u003e 直到编译完成前， 将不可见。\nv-bind 动态的绑定一个或多个 attribute，也可以是组件的 prop。\n缩写：: 或者 . (当使用 .prop 修饰符)\n期望：any (带参数) | Object (不带参数)\n参数：attrOrProp (可选的)\n修饰符\n.camel - 将短横线命名的 attribute 转变为驼峰式命名。 .prop - 强制绑定为 DOM property。3.2+ .attr - 强制绑定为 DOM attribute。3.2+ 用途\n当用于绑定 class 或 style attribute，v-bind 支持额外的值类型如数组或对象。详见下方的指南链接。\n在处理绑定时，Vue 默认会利用 in 操作符来检查该元素上是否定义了和绑定的 key 同名的 DOM property。如果存在同名的 property，则 Vue 会将它作为 DOM property 赋值，而不是作为 attribute 设置。这个行为在大多数情况都符合期望的绑定值类型，但是你也可以显式用 .prop 和 .attr 修饰符来强制绑定方式。有时这是必要的，特别是在和自定义元素打交道时。\n当用于组件 props 绑定时，所绑定的 props 必须在子组件中已被正确声明。\n当不带参数使用时，可以用于绑定一个包含了多个 attribute 名称-绑定值对的对象。\n用法\n动态地绑定一个或多个 attribute，或一个组件 prop 到表达式。 小知识: vue3 是允许template中有多个根元素\n\u003ctemplate id=\"my-app\"\u003e \u003cimg v-bind:src=\"imgUrl\" alt=\"\"\u003e \u003ca v-bind:href=\"link\"\u003e百度一下\u003c/a\u003e \u003cimg :src=\"imgUrl\" alt=\"\"\u003e \u003cimg src=\"imgUrl\" alt=\"\"\u003e \u003c/template\u003e 基本使用 \u003ctemplate id=\"my-app\"\u003e \u003cimg v-bind:src=\"imgUrl\" alt=\"\"\u003e \u003ca v-bind:href=\"link\"\u003e百度一下\u003c/a\u003e \u003cimg :src=\"imgUrl\" alt=\"\"\u003e \u003cimg src=\"imgUrl\" alt=\"\"\u003e \u003c/template\u003e \u003cscript\u003e const App = { template: '#my-app', data() { return { imgUrl: \"https://avatars.githubusercontent.com/u/10335230?s=60\u0026v=4\", link: \"https://www.baidu.com\" } } } Vue.createApp(App).mount('#app'); \u003c/script\u003e 绑定 class 在开发中,有时候我们的元素 class也是动态的,比如 当数据为某个状态时,字体显示红色。 当数据另一个状态时,字体显示黑色 绑定class有两种方式： 对象语法 数组语法 对象语法 对象语法：我们可以传给 :class (v-bind:class 的简写) 一个对象，以动态地切换 class \u003cbody\u003e \u003cdiv id=\"app\"\u003e\u003c/div\u003e \u003ctemplate id=\"my-app\"\u003e \u003cdiv :class=\"className\"\u003e哈哈哈哈\u003c/div\u003e \u003cdiv :class=\"{'active': isActive}\"\u003e呵呵呵呵\u003c/div\u003e \u003cbutton @click=\"toggle\"\u003e切换\u003c/button\u003e \u003cdiv :class=\"{active: isActive, title: true}\"\u003e呵呵呵呵\u003c/div\u003e \u003cdiv class=\"abc cba\" :class=\"{active: isActive, title: true}\"\u003e 呵呵呵呵 \u003c/div\u003e \u003cdiv class=\"abc cba\" :class=\"classObj\"\u003e呵呵呵呵\u003c/div\u003e \u003cdiv class=\"abc cba\" :class=\"getClassObj()\"\u003e呵呵呵呵\u003c/div\u003e \u003c/template\u003e \u003cscript src=\"../js/vue.js\"\u003e\u003c/script\u003e \u003cscript\u003e const App = { template: \"#my-app\", data() { return { className: \"why\", isActive: true, title: \"abc\", classObj: { active: true, title: true }, }; }, methods: { toggle() { this.isActive = !this.isActive; this.classObj.active = !this.classObj.active; }, getClassObj() { return this.classObj; } }, }; Vue.createApp(App).mount(\"#app\"); \u003c/script\u003e \u003cstyle\u003e .active { color: red; } \u003c/style\u003e \u003c/body\u003e 数组语法 绑定class – 数组语法 数组语法：我们可以把一个数组传给 :class，以应用一个 class 列表 \u003cbody\u003e \u003cdiv id=\"app\"\u003e\u003c/div\u003e \u003ctemplate id=\"my-app\"\u003e \u003cdiv :class=\"['abc', title]\"\u003e哈哈哈哈\u003c/div\u003e \u003cdiv :class=\"['abc', title, isActive ? 'active': '']\"\u003e哈哈哈哈\u003c/div\u003e \u003cdiv :class=\"['abc', title, {active: isActive}]\"\u003e哈哈哈哈\u003c/div\u003e \u003c/template\u003e \u003cscript src=\"../js/vue.js\"\u003e\u003c/script\u003e \u003cscript\u003e const App = { template: '#my-app', data() { return { message: \"Hello World\", title: \"cba\", isActive: true } } } Vue.createApp(App).mount('#app'); \u003c/script\u003e \u003c/body\u003e 绑定 style 我们可以利用 v-bind:style 来绑定一些CSS内联样式 这次因为某些样式我们需要根据数据动态来决定 比如某段文字的颜色，大小等等 CSS property 名可以用驼峰式 (camelCase) 或短横线分隔 (kebab-case，记得用引号括起来) 来命名 绑定class有两种方式 对象语法 数组语法 CSS property 名短横线分隔 (kebab-case，记得用引号括起来)\n对象语法 \u003cbody\u003e \u003cdiv id=\"app\"\u003e\u003c/div\u003e \u003ctemplate id=\"my-app\"\u003e \u003cdiv :style=\"{color: finalColor, 'font-size': '30px'}\"\u003e哈哈哈哈\u003c/div\u003e \u003cdiv :style=\"{color: finalColor, fontSize: '30px'}\"\u003e哈哈哈哈\u003c/div\u003e \u003cdiv :style=\"{color: finalColor, fontSize: finalFontSize + 'px'}\"\u003e哈哈哈哈\u003c/div\u003e \u003cdiv :style=\"finalStyleObj\"\u003e呵呵呵呵\u003c/div\u003e \u003cdiv :style=\"getFinalStyleObj()\"\u003e呵呵呵呵\u003c/div\u003e \u003c/template\u003e \u003cscript src=\"../js/vue.js\"\u003e\u003c/script\u003e \u003cscript\u003e const App = { template: '#my-app', data() { return { message: \"Hello World\", finalColor: 'red', finalFontSize: 50, finalStyleObj: { 'font-size': '50px', fontWeight: 700, backgroundColor: 'red' } } }, methods: { getFinalStyleObj() { return { 'font-size': '50px', fontWeight: 700, backgroundColor: 'red' } } } } Vue.createApp(App).mount('#app'); \u003c/script\u003e \u003c/body\u003e 数组语法 \u003cbody\u003e \u003cdiv id=\"app\"\u003e\u003c/div\u003e \u003ctemplate id=\"my-app\"\u003e \u003cdiv :style=\"[style1Obj, style2Obj]\"\u003e哈哈哈\u003c/div\u003e \u003c/template\u003e \u003cscript src=\"../js/vue.js\"\u003e\u003c/script\u003e \u003cscript\u003e const App = { template: '#my-app', data() { return { message: \"Hello World\", style1Obj: { color: 'red', fontSize: '30px' }, style2Obj: { textDecoration: \"underline\" } } } } Vue.createApp(App).mount('#app'); \u003c/script\u003e \u003c/body 动态绑定属性 在某些情况下，我们属性的名称可能也不是固定的 前端我们无论绑定src、href、class、style，属性名称都是固定的 如果属性名称不是固定的，我们可以使用 :[属性名]=“值” 的格式来定义 这种绑定的方式，我们称之为 动态绑定属性；如下: \u003cbody\u003e \u003cdiv id=\"app\"\u003e\u003c/div\u003e \u003ctemplate id=\"my-app\"\u003e \u003cdiv :[name]=\"value\"\u003e哈哈哈\u003c/div\u003e \u003cimg :src=\"\" alt=\"\"\u003e \u003ca :href=\"\"\u003e\u003c/a\u003e \u003cdiv :class\u003e\u003c/div\u003e \u003c/template\u003e \u003cscript src=\"../js/vue.js\"\u003e\u003c/script\u003e \u003cscript\u003e const App = { template: '#my-app', data() { return { name: \"cba\", value: \"kobe\" } } } Vue.createApp(App).mount('#app'); \u003c/script\u003e \u003c/body\u003e 属性直接绑定一个对象 如果我们希望将一个对象的所有属性，绑定到元素上的所有属性，应该怎么做呢？ 非常简单，我们可以直接使用 v-bind 绑定一个 对象 案例：info对象会被拆解成div的各个属性 \u003cbody\u003e \u003cdiv id=\"app\"\u003e\u003c/div\u003e \u003ctemplate id=\"my-app\"\u003e \u003cdiv v-bind=\"info\"\u003e哈哈哈哈\u003c/div\u003e \u003cdiv :=\"info\"\u003e哈哈哈哈\u003c/div\u003e \u003c/template\u003e \u003cscript src=\"../js/vue.js\"\u003e\u003c/script\u003e \u003cscript\u003e const App = { template: '#my-app', data() { return { info: { name: \"why\", age: 18, height: 1.88 } } } } Vue.createApp(App).mount('#app'); \u003c/script\u003e \u003c/body\u003e v-on v-on绑定事件\n前面我们绑定了元素的内容和属性，在前端开发中另外一个非常重要的特性就是交互。 在前端开发中，我们需要经常和用户进行各种各样的交互 这个时候，我们就必须监听用户发生的事件，比如点击、拖拽、键盘事件等等 在Vue中如何监听事件呢？使用v-on指令。 v-on的用法\n缩写：@ 预期：Function | Inline Statement | Object 参数：event p 修饰符： .stop - 调用 event.stopPropagation()。 .prevent - 调用 event.preventDefault()。 .capture - 添加事件侦听器时使用 capture 模式。 .self - 只当事件是从侦听器绑定的元素本身触发时才触发回调。 .{keyAlias} - 仅当事件是从特定键触发时才触发回调。 .once - 只触发一次回调。 .left - 只当点击鼠标左键时触发。 .right - 只当点击鼠标右键时触发。 .middle - 只当点击鼠标中键时触发。 .passive - { passive: true } 模式添加侦听器 用法：绑定事件监听 event 事件可以参考 https://developer.mozilla.org/en-US/docs/Web/Events\n基本使用 \u003cbody\u003e \u003cdiv id=\"app\"\u003e\u003c/div\u003e \u003ctemplate id=\"my-app\"\u003e \u003cbutton v-on:click=\"btn1Click\"\u003e按钮1\u003c/button\u003e \u003cdiv class=\"area\" v-on:mousemove=\"mouseMove\"\u003ediv\u003c/div\u003e \u003cbutton @click=\"btn1Click\"\u003e按钮1\u003c/button\u003e \u003cbutton @click=\"counter++\"\u003e{{counter}}\u003c/button\u003e \u003cdiv class=\"area\" v-on=\"{click: btn1Click, mousemove: mouseMove}\"\u003e\u003c/div\u003e \u003cdiv class=\"area\" @=\"{click: btn1Click, mousemove: mouseMove}\"\u003e\u003c/div\u003e \u003c/template\u003e \u003cscript src=\"../js/vue.js\"\u003e\u003c/script\u003e \u003cscript\u003e const App = { template: '#my-app', data() { return { message: \"Hello World\", counter: 100 } }, methods: { btn1Click() { console.log(\"按钮1发生了点击\"); }, mouseMove() { console.log(\"鼠标移动\"); } } } Vue.createApp(App).mount('#app'); \u003c/script\u003e \u003c/body\u003e 参数传递 当通过methods中定义方法，以供 @click调用时，需要注意参数问题： 情况一：如果该方法不需要额外参数，那么方法后的()可以不添加。 但是注意：如果方法本身中有一个参数，那么会默认将原生事件event参数传递进去 情况二：如果需要同时传入某个参数，同时需要 event 时，可以通过 $event 传入事件。 \u003cbody\u003e \u003cdiv id=\"app\"\u003e\u003c/div\u003e \u003ctemplate id=\"my-app\"\u003e \u003cbutton @click=\"btn1Click\"\u003e按钮1\u003c/button\u003e \u003cli v-for=\"(movie, index) in movies\"\u003e{{index+1}}.{{movie}}\u003c/li\u003e \u003c/ul\u003e \u003ch2\u003e个人信息\u003c/h2\u003e \u003cul\u003e \u003cli v-for=\"(value, key, index) in info\"\u003e{{value}}-{{key}}-{{index}}\u003c/li\u003e \u003c/ul\u003e \u003ch2\u003e遍历数字\u003c/h2\u003e \u003cul\u003e \u003cli v-for=\"(num, index) in 10\"\u003e{{num}}-{{index}}\u003c/li\u003e \u003c/ul\u003e \u003c/template\u003e \u003cscript src=\"../js/vue.js\"\u003e\u003c/script\u003e \u003cscript\u003e const App = { template: '#my-app', data() { return { movies: [ \"星际穿越\", \"盗梦空间\", \"大话西游\", \"教父\", \"少年派\" ], info: { name: \"why\", age: 18, height: 1.88 } } } } Vue.createApp(App).mount('#app'); \u003c/script\u003e \u003c/body\u003e template元素使用 类似于v-if，你可以使用 template 元素来循环渲染一段包含多个元素的内容： 我们使用template来对多个元素进行包裹，而不是使用div来完成； \u003cbody\u003e \u003cdiv id=\"app\"\u003e\u003c/div\u003e \u003ctemplate id=\"my-app\"\u003e \u003cul\u003e \u003ctemplate v-for=\"(value, key) in info\"\u003e \u003cli\u003e{{key}}\u003c/li\u003e \u003cli\u003e{{value}}\u003c/li\u003e \u003cli class=\"divider\"\u003e\u003c/li\u003e \u003c/template\u003e \u003c/ul\u003e \u003c/template\u003e \u003cscript src=\"../js/vue.js\"\u003e\u003c/script\u003e \u003cscript\u003e const App = { template: '#my-app', data() { return { info: { name: \"why\", age: 18, height: 1.88 } } } } Vue.createApp(App).mount('#app'); \u003c/script\u003e \u003c/body\u003e 数组更新检测 Vue 将被侦听的数组的变更方法进行了包裹，所以它们也将会触发视图更新。这些被包裹过的方法包括： push() pop() shift() unshift() splice() sort() reverse() 替换数组的方法 上面的方法会直接修改原来的数组，但是某些方法不会替换原来的数组，而是会生成新的数组，比如 filter()、 concat() 和 slice()。 \u003cbody\u003e \u003cdiv id=\"app\"\u003e\u003c/div\u003e \u003ctemplate id=\"my-app\"\u003e \u003ch2\u003e电影列表\u003c/h2\u003e \u003cul\u003e \u003cli v-for=\"(movie, index) in movies\"\u003e{{index+1}}.{{movie}}\u003c/li\u003e \u003c/ul\u003e \u003cinput type=\"text\" v-model=\"newMovie\"\u003e \u003cbutton @click=\"addMovie\"\u003e添加电影\u003c/button\u003e \u003c/template\u003e \u003cscript src=\"../js/vue.js\"\u003e\u003c/script\u003e \u003cscript\u003e const App = { template: '#my-app', data() { return { newMovie: \"\", movies: [ \"星际穿越\", \"盗梦空间\", \"大话西游\", \"教父\", \"少年派\" ] } }, methods: { addMovie() { this.movies.push(this.newMovie); this.newMovie = \"\"; // filter 是过滤的意思, 下文中的代码的意思是: 过滤掉长度小于等于2的电影 // this.movies = this.movies.filter(item =\u003e item.length \u003e 2); } } } Vue.createApp(App).mount('#app'); \u003c/script\u003e \u003c/body\u003e v-for 中的 key 是什么作用？ https://cn.vuejs.org/api/built-in-special-attributes.html#key\n在使用v-for进行列表渲染时，我们通常会给元素或者组件绑定一个key属性。\n这个key属性有什么作用呢？我们先来看一下官方的解释：\nkey属性主要用在Vue的虚拟DOM算法，在新旧nodes对比时辨识VNodes；\n如果不使用key，Vue会使用一种最大限度减少动态元素并且尽可能的尝试就地修改/复用相同类型元素的算法；\n而使用key时，它会基于key的变化重新排列元素顺序，并且会移除/销毁key不存在的元素；\n官方的解释对于初学者来说并不好理解，比如下面的问题：\n什么是新旧nodes，什么是VNode？ 没有key的时候，如何尝试修改和复用的？ 有key的时候，如何基于key重新排列的？ 认识 VNode 我们先来解释一下VNode的概念： 因为目前我们还没有比较完整的学习组件的概念，所以目前我们先理解HTML元素创建出来的VNode； VNode的全称是Virtual Node，也就是虚拟节点； 事实上，无论是组件还是元素，它们最终在Vue中表示出来的都是一个个VNode； VNode的本质是一个JavaScript的对象；可以用于描述某一个标签/ 元素 的样子 好处: 多平台的渲染, 跨平台(主要好处) 虚拟 DOM 如果我们不只是一个简单的div，而是有一大堆的元素，那么它们应该会形成一个 VNode Tree 虚拟 DOM 与 真实 DOM 不一定一一对应 插入 F 的案例 我们先来看一个案例：这个案例是当我点击按钮时会在中间插入一个f；\n我们可以确定的是，这次更新对于ul和button是不需要进行更新，需要更新的是我们 li 的列表：\n在Vue中，对于相同父元素的子元素节点并不会重新渲染整个列 表；\n因为对于列表中 a、b、c、d它们都是没有变化的；\n在操作真实DOM的时候，我们只需要在中间插入一个 f 的 li 即可；\n\u003cbody\u003e \u003cdiv id=\"app\"\u003e\u003c/div\u003e \u003ctemplate id=\"my-app\"\u003e \u003cul\u003e \u003cli v-for=\"item in letters\" :key=\"item\"\u003e{{item}}\u003c/li\u003e \u003c/ul\u003e \u003cbutton @click=\"insertF\"\u003e插入F元素\u003c/button\u003e \u003c/template\u003e \u003cscript src=\"../js/vue.js\"\u003e\u003c/script\u003e \u003cscript\u003e const App = { template: '#my-app', data() { return { letters: ['a', 'b', 'c', 'd'] } }, methods: { insertF() { this.letters.splice(2, 0, 'f') } } } Vue.createApp(App).mount('#app'); \u003c/script\u003e \u003c/body\u003e 那么Vue中对于列表的更新究竟是如何操作的呢？ Vue事实上会对于有key和没有key会调用两个不同的方法； Vue源码对于key的判断 有key，那么就使用 patchKeyedChildren方法； 没有key，那么久使用 patchUnkeyedChildren方法； diff算法: diff 算法是指生成更新补丁的方式,主要应用于虚拟 DOM 树变化后,更新真实 DOM。所以 diff 算法一定存在这样一个过程:触发更新 → 生成补丁 → 应用补丁。\n没有key的操作过程 我们会发现上面的diff算法效率并不高： c和d来说它们事实上并不需要有任何的改动； 但是因为我们的c被f所使用了，所有后续所有的内容都要一次进行改动，并且最后进行新增； 有key的操作过程-diff算法 第一步的操作是从头开始进行遍历、比较： a和b是一致的会继续进行比较； c和f因为key不一致，所以就会break跳出循环 第二步的操作是从尾部开始进行遍历、比较 第三步是如果旧节点遍历完毕，但是依然有新的节点，那么就新增节点： 第四步是如果新的节点遍历完毕，但是依然有旧的节点，那么就移除旧节点： 第五步是最特色的情况，中间还有很多未知的或者乱序的节点： 有无key的结论 有无key的结论 所以我们可以发现，Vue在进行diff算法的时候，会尽量利用我们的key来进行优化操作： 在没有key的时候我们的效率是非常低效的； 在进行插入或者重置顺序的时候，保持相同的key可以让diff算法更加的高效； ","wordCount":"9162","inLanguage":"zh","datePublished":"2023-10-22T16:04:23+08:00","dateModified":"2023-10-22T16:04:23+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://waite.wang/posts/web/vue3-learn-2/"},"publisher":{"@type":"Organization","name":"隶笔难书","logo":{"@type":"ImageObject","url":"https://waite.wang/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://waite.wang/ accesskey=h title="隶笔难书 (Alt + H)">隶笔难书</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://waite.wang/ title=首页><span>首页</span></a></li><li><a href=https://waite.wang/search title=搜索><span>搜索</span></a></li><li><a href=https://waite.wang/categories title=分类><span>分类</span></a></li><li><a href=https://waite.wang/tags title=标签><span>标签</span></a></li><li><a href=https://waite.wang/archives title=归档><span>归档</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Vue3 基本指令(二)</h1><div class=post-meta><span title='2023-10-22 16:04:23 +0800 +0800'>2023-10-22</span>&nbsp;·&nbsp;19 分钟&nbsp;·&nbsp;9162 字&nbsp;|&nbsp;<a href=https://github.com/Waite0603/hugoBlog/edit/main/content/posts/web/vue3-learn-2.md rel="noopener noreferrer" target=_blank>在 GitHub 编辑</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#vue3-%e5%9f%ba%e6%9c%ac%e6%8c%87%e4%bb%a4 aria-label="Vue3 基本指令">Vue3 基本指令</a><ul><li><a href=#vscode-%e4%bb%a3%e7%a0%81%e7%89%87%e6%ae%b5 aria-label="VSCode 代码片段">VSCode 代码片段</a></li><li><a href=#%e6%a8%a1%e6%9d%bf%e8%af%ad%e6%b3%95 aria-label=模板语法>模板语法</a></li><li><a href=#mustache-%e8%af%ad%e6%b3%95-%e5%8f%8c%e5%a4%a7%e6%8b%ac%e5%8f%b7%e8%af%ad%e6%b3%95 aria-label="Mustache 语法 双大括号语法">Mustache 语法 双大括号语法</a></li><li><a href=#%e4%b8%8d%e5%b8%b8%e7%94%a8%e6%8c%87%e4%bb%a4 aria-label=不常用指令>不常用指令</a><ul><li><a href=#v-once%e6%8c%87%e4%bb%a4 aria-label=v-once指令>v-once指令</a></li><li><a href=#v-html aria-label=v-html>v-html</a></li><li><a href=#v-text aria-label=v-text>v-text</a></li><li><a href=#v-pre aria-label=v-pre>v-pre</a></li><li><a href=#v-cloak aria-label=v-cloak>v-cloak</a></li></ul></li><li><a href=#v-bind aria-label=v-bind>v-bind</a><ul><li><a href=#%e5%9f%ba%e6%9c%ac%e4%bd%bf%e7%94%a8 aria-label=基本使用>基本使用</a></li><li><a href=#%e7%bb%91%e5%ae%9a-class aria-label="绑定 class">绑定 class</a><ul><li><a href=#%e5%af%b9%e8%b1%a1%e8%af%ad%e6%b3%95 aria-label=对象语法>对象语法</a></li><li><a href=#%e6%95%b0%e7%bb%84%e8%af%ad%e6%b3%95 aria-label=数组语法>数组语法</a></li></ul></li><li><a href=#%e7%bb%91%e5%ae%9a-style aria-label="绑定 style">绑定 style</a><ul><li><a href=#%e5%af%b9%e8%b1%a1%e8%af%ad%e6%b3%95-1 aria-label=对象语法>对象语法</a></li><li><a href=#%e6%95%b0%e7%bb%84%e8%af%ad%e6%b3%95-1 aria-label=数组语法>数组语法</a></li></ul></li><li><a href=#%e5%8a%a8%e6%80%81%e7%bb%91%e5%ae%9a%e5%b1%9e%e6%80%a7 aria-label=动态绑定属性>动态绑定属性</a></li><li><a href=#%e5%b1%9e%e6%80%a7%e7%9b%b4%e6%8e%a5%e7%bb%91%e5%ae%9a%e4%b8%80%e4%b8%aa%e5%af%b9%e8%b1%a1 aria-label=属性直接绑定一个对象>属性直接绑定一个对象</a></li></ul></li><li><a href=#v-on aria-label=v-on>v-on</a><ul><li><a href=#%e5%9f%ba%e6%9c%ac%e4%bd%bf%e7%94%a8-1 aria-label=基本使用>基本使用</a></li><li><a href=#%e5%8f%82%e6%95%b0%e4%bc%a0%e9%80%92 aria-label=参数传递>参数传递</a></li><li><a href=#v-on-%e7%9a%84%e4%bf%ae%e9%a5%b0%e7%ac%a6 aria-label="v-on 的修饰符">v-on 的修饰符</a></li></ul></li><li><a href=#%e6%9d%a1%e4%bb%b6%e6%b8%b2%e6%9f%93 aria-label=条件渲染>条件渲染</a><ul><li><a href=#%e5%9f%ba%e6%9c%ac%e4%bd%bf%e7%94%a8-2 aria-label=基本使用>基本使用</a></li><li><a href=#template-%e5%92%8c--v-if--%e7%bb%93%e5%90%88%e4%bd%bf%e7%94%a8 aria-label="template 和  v-if  结合使用">template 和 v-if 结合使用</a></li><li><a href=#v-show aria-label=v-show>v-show</a></li><li><a href=#v-show%e5%92%8cv-if%e7%9a%84%e5%8c%ba%e5%88%ab aria-label=v-show和v-if的区别>v-show和v-if的区别</a></li></ul></li><li><a href=#%e5%88%97%e8%a1%a8%e6%b8%b2%e6%9f%93 aria-label=列表渲染>列表渲染</a><ul><li><a href=#%e5%9f%ba%e6%9c%ac%e4%bd%bf%e7%94%a8-3 aria-label=基本使用>基本使用</a></li><li><a href=#template%e5%85%83%e7%b4%a0%e4%bd%bf%e7%94%a8 aria-label=template元素使用>template元素使用</a></li><li><a href=#%e6%95%b0%e7%bb%84%e6%9b%b4%e6%96%b0%e6%a3%80%e6%b5%8b aria-label=数组更新检测>数组更新检测</a></li><li><a href=#v-for-%e4%b8%ad%e7%9a%84-key-%e6%98%af%e4%bb%80%e4%b9%88%e4%bd%9c%e7%94%a8 aria-label="v-for 中的 key 是什么作用？">v-for 中的 key 是什么作用？</a><ul><li><a href=#%e8%ae%a4%e8%af%86-vnode aria-label="认识 VNode">认识 VNode</a></li><li><a href=#%e8%99%9a%e6%8b%9f-dom aria-label="虚拟 DOM">虚拟 DOM</a></li><li><a href=#%e6%8f%92%e5%85%a5-f-%e7%9a%84%e6%a1%88%e4%be%8b aria-label="插入 F 的案例">插入 F 的案例</a><ul><li><a href=#vue%e6%ba%90%e7%a0%81%e5%af%b9%e4%ba%8ekey%e7%9a%84%e5%88%a4%e6%96%ad aria-label=Vue源码对于key的判断>Vue源码对于key的判断</a></li><li><a href=#%e6%9c%89%e6%97%a0key%e7%9a%84%e7%bb%93%e8%ae%ba aria-label=有无key的结论>有无key的结论</a></li></ul></li></ul></li></ul></li></ul></li></ul></div></details></div><div class=post-content><blockquote><p>本文章来源于王红元老师（coderwhy）的 Vue3 + Ts 课程第二章节 - Vue3 基本指令附上链接：https//ke.qq.com/course/3453141
permalink: /archives/vue3-ji-ben-zhi-ling-er</p></blockquote><h1 id=vue3-基本指令>Vue3 基本指令<a hidden class=anchor aria-hidden=true href=#vue3-基本指令>#</a></h1><h2 id=vscode-代码片段>VSCode 代码片段<a hidden class=anchor aria-hidden=true href=#vscode-代码片段>#</a></h2><ul><li>我们在前面练习Vue的过程中，有些代码片段是需要经常写的，我们再VSCode中我们可以生成一个代码片段，方 便我们快速生成。</li><li>VSCode中的代码片段有固定的格式，所以我们一般会借助于一个在线工具来完成。</li><li>具体的步骤如下：<ul><li>第一步，复制自己需要生成代码片段的代码；</li><li>第二步，https://snippet-generator.app/在该网站中生成代码片段；</li><li>第三步，在VSCode中配置代码片段；</li></ul></li><li>直接 Tab trigger 即可自动填充</li></ul><p><img alt=image-20231016233051010 loading=lazy src=https://qiniu.waite.wang/202310162330091.png></p><h2 id=模板语法>模板语法<a hidden class=anchor aria-hidden=true href=#模板语法>#</a></h2><ul><li>React的开发模式[了解]<ul><li>React使用的jsx,所以对应的代码都是编写的类似于js的一种语法</li><li>之后通过Babe将js编译成 React. create Element函数调用</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>function () {
</span></span><span class=line><span class=cl>  return <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><ul><li>vue也支持 jsx 的开发模式:<ul><li>但是大多数情况下,使用基于HTML的模板语法</li><li>在模板中,允许开发者以声明式的方式将 DOM 和底层组件实例的数据绑定在-起;口在底层的实现中,vue将模板编译成虚拟DOM渲染函数</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=err>@</span><span class=na>click</span> <span class=na>v</span><span class=nt>-bind</span> <span class=nt>v-once</span><span class=p>&gt;</span> <span class=p>{{}}</span> <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span></code></pre></div><h2 id=mustache-语法-双大括号语法>Mustache 语法 双大括号语法<a hidden class=anchor aria-hidden=true href=#mustache-语法-双大括号语法>#</a></h2><ul><li>如果我们希望把数据显示到模板（template）中，使用最多的语法是 “Mustache”语法 (双大括号) 的文本插值。<ul><li>并且我们前端提到过，data返回的对象是有添加到Vue的响应式系统中；</li><li>当data中的数据发生改变时，对应的内容也会发生更新。</li><li>当然，Mustache中不仅仅可以是data中的属性，也可以是一个JavaScript的表达式。</li></ul></li><li>mustache的使用
1. 基本使用
2. 表达式
3. 函数
4. 三元运算符</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!--</span> <span class=mf>1.</span><span class=nx>mustache的基本使用</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;{{</span><span class=nx>message</span><span class=p>}}</span> <span class=o>-</span> <span class=p>{{</span><span class=nx>message</span><span class=p>}}&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!--</span> <span class=mf>2.</span><span class=nx>是一个表达式</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;{{</span><span class=nx>counter</span> <span class=o>*</span> <span class=mi>10</span><span class=p>}}&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;{{</span> <span class=nx>message</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=p>).</span><span class=nx>reverse</span><span class=p>().</span><span class=nx>join</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=p>)</span> <span class=p>}}&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!--</span> <span class=mf>3.</span><span class=nx>也可以调用函数</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!--</span> <span class=nx>可以使用computed</span><span class=p>(</span><span class=nx>计算属性</span><span class=p>)</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;{{</span><span class=nx>getReverseMessage</span><span class=p>()}}&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!--</span> <span class=mf>4.</span><span class=nx>三元运算符</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;{{</span> <span class=nx>isShow</span> <span class=o>?</span> <span class=s2>&#34;哈哈哈&#34;</span><span class=o>:</span> <span class=s2>&#34;&#34;</span> <span class=p>}}&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>button</span> <span class=nt>@click</span><span class=s>=&#34;toggle&#34;</span><span class=p>&gt;</span><span class=na>切换</span><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Hello World&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>counter</span><span class=o>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>isShow</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>methods</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>getReverseMessage</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>message</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=p>).</span><span class=nx>reverse</span><span class=p>().</span><span class=nx>join</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nx>toggle</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>isShow</span> <span class=o>=</span> <span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>isShow</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></div><blockquote><p>以下为错误写法</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- 错误用法 --&gt;</span>
</span></span><span class=line><span class=cl>var name = &#34;abc&#34; ;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>{{var name = &#34;abc&#34;}}<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>{{ if(isShow) {  return &#34;哈哈哈&#34; } }}<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span></code></pre></div><h2 id=不常用指令>不常用指令<a hidden class=anchor aria-hidden=true href=#不常用指令>#</a></h2><h3 id=v-once指令>v-once指令<a hidden class=anchor aria-hidden=true href=#v-once指令>#</a></h3><ul><li><p>v-once用于指定元素或者组件只渲染一次</p><ul><li><p>当数据发生变化时,元素或者组件以及其所有的子元素将视为静态内容并且跳过;</p></li><li><p>该指令可以用于性能优化;</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>h2</span> <span class=nt>v-once</span><span class=p>&gt;{{</span><span class=na>counter</span><span class=p>}}&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>button</span> <span class=nt>@click</span><span class=s>=&#34;increment&#34;</span><span class=p>&gt;</span><span class=err>+</span><span class=na>1</span><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span></code></pre></div></li></ul></li><li><p>如果是子节点的化，也只能渲染一次</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=nt>v-once</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;{{</span><span class=nx>counter</span><span class=p>}}&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;{{</span><span class=nx>message</span><span class=p>}}&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>&lt;</span><span class=nt>button</span> <span class=nt>@click</span><span class=s>=&#34;increment&#34;</span><span class=p>&gt;</span><span class=err>+</span><span class=na>1</span><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span></code></pre></div></li></ul><blockquote><p>完整代码</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;app&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;{{</span><span class=nx>counter</span><span class=p>}}&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=nt>v-once</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;{{</span><span class=nx>counter</span><span class=p>}}&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;{{</span><span class=nx>message</span><span class=p>}}&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>button</span> <span class=nt>@click</span><span class=s>=&#34;increment&#34;</span><span class=p>&gt;</span><span class=err>+</span><span class=na>1</span><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>counter</span><span class=o>:</span> <span class=mi>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;abc&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>methods</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>increment</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>counter</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=v-html>v-html<a hidden class=anchor aria-hidden=true href=#v-html>#</a></h3><ul><li>默认情况下，如果我们展示的内容本身是 html 的，那么vue并不会对其进行特殊的解析。<ul><li>如果我们希望这个内容被Vue可以解析出来，那么可以使用 v-html 来展示</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;{{</span><span class=nx>msg</span><span class=p>}}&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=nt>v-html</span><span class=o>=</span><span class=s>&#34;msg&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>msg</span><span class=o>:</span> <span class=s1>&#39;&lt;span style=&#34;color:red; background: blue;&#34;&gt;哈哈哈&lt;/span&gt;&#39;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></div><p><img alt=image-20231018083558572 loading=lazy src=https://qiniu.waite.wang/202310180836759.png></p><h3 id=v-text>v-text<a hidden class=anchor aria-hidden=true href=#v-text>#</a></h3><ul><li>用于更新元素的 textContent</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl> <span class=p>&lt;</span><span class=nt>h2</span> <span class=na>v-text</span><span class=o>=</span><span class=s>&#34;message&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl> <span class=c>&lt;!-- 等价于 --&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>{{message}}<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=v-pre>v-pre<a hidden class=anchor aria-hidden=true href=#v-pre>#</a></h3><ul><li>v-pre用于跳过元素和它的子元素的编译过程，显示原始的Mustache标签：<ul><li>跳过不需要编译的节点，加快编译的速度</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl> <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>   <span class=p>&lt;</span><span class=nt>h2</span> <span class=na>v-pre</span><span class=p>&gt;</span>{{message}}<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- {{message}} --&gt;</span>
</span></span></code></pre></div><h3 id=v-cloak>v-cloak<a hidden class=anchor aria-hidden=true href=#v-cloak>#</a></h3><ul><li>用于隐藏尚未完成编译的 DOM 模板。<ul><li><strong>无需传入</strong></li><li><strong>详细信息</strong></li></ul></li><li><strong>该指令只在没有构建步骤的环境下需要使用。</strong><ul><li>当使用直接在 DOM 中书写的模板时，可能会出现一种叫做“未编译模板闪现”的情况：用户可能先看到的是还没编译完成的双大括号标签，直到挂载的组件将它们替换为实际渲染的内容。</li><li><code>v-cloak</code> 会保留在所绑定的元素上，直到相关组件实例被挂载后才移除。配合像 <code>[v-cloak] { display: none }</code> 这样的 CSS 规则，它可以在组件编译完毕前隐藏原始模板。</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=o>[</span><span class=nt>v-cloak</span><span class=o>]</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>display</span><span class=p>:</span> <span class=kc>none</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>v-cloak</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  {{ message }}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span></code></pre></div><blockquote><p>直到编译完成前，<code>&lt;div></code> 将不可见。</p></blockquote><h2 id=v-bind>v-bind<a hidden class=anchor aria-hidden=true href=#v-bind>#</a></h2><p>动态的绑定一个或多个 attribute，也可以是组件的 prop。</p><ul><li><p><strong>缩写：</strong><code>:</code> 或者 <code>.</code> (当使用 <code>.prop</code> 修饰符)</p></li><li><p><strong>期望：</strong><code>any (带参数) | Object (不带参数)</code></p></li><li><p><strong>参数：</strong><code>attrOrProp (可选的)</code></p></li><li><p><strong>修饰符</strong></p><ul><li><code>.camel</code> - 将短横线命名的 attribute 转变为驼峰式命名。</li><li><code>.prop</code> - 强制绑定为 DOM property。<code>3.2+</code></li><li><code>.attr</code> - 强制绑定为 DOM attribute。<code>3.2+</code></li></ul></li><li><p><strong>用途</strong></p><p>当用于绑定 <code>class</code> 或 <code>style</code> attribute，<code>v-bind</code> 支持额外的值类型如数组或对象。详见下方的指南链接。</p><p>在处理绑定时，Vue 默认会利用 <code>in</code> 操作符来检查该元素上是否定义了和绑定的 key 同名的 DOM property。如果存在同名的 property，则 Vue 会将它作为 DOM property 赋值，而不是作为 attribute 设置。这个行为在大多数情况都符合期望的绑定值类型，但是你也可以显式用 <code>.prop</code> 和 <code>.attr</code> 修饰符来强制绑定方式。有时这是必要的，特别是在和<a href=https://cn.vuejs.org/guide/extras/web-components.html#passing-dom-properties>自定义元素</a>打交道时。</p><p>当用于组件 props 绑定时，所绑定的 props 必须在子组件中已被正确声明。</p><p>当不带参数使用时，可以用于绑定一个包含了多个 attribute 名称-绑定值对的对象。</p></li><li><p><strong>用法</strong></p><ul><li>动态地绑定一个或多个 attribute，或一个组件 prop 到表达式。</li></ul></li></ul><blockquote><p>小知识: vue3 是允许template中有多个根元素</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- vue2 template模板中只能有一个根元素 --&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- vue3 是允许template中有多个根元素 --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 1.v-bind的基本使用 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>img</span> <span class=na>v-bind:src</span><span class=o>=</span><span class=s>&#34;imgUrl&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>a</span> <span class=na>v-bind:href</span><span class=o>=</span><span class=s>&#34;link&#34;</span><span class=p>&gt;</span>百度一下<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 2.v-bind提供一个语法糖 : --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>img</span> <span class=na>:src</span><span class=o>=</span><span class=s>&#34;imgUrl&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;imgUrl&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=基本使用>基本使用<a hidden class=anchor aria-hidden=true href=#基本使用>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=mf>1.</span><span class=nx>v</span><span class=o>-</span><span class=nx>bind的基本使用</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>img</span> <span class=na>v</span><span class=nt>-bind:src</span><span class=o>=</span><span class=s>&#34;imgUrl&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>a</span> <span class=na>v</span><span class=nt>-bind:href</span><span class=o>=</span><span class=s>&#34;link&#34;</span><span class=p>&gt;</span><span class=nx>百度一下</span><span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=mf>2.</span><span class=nx>v</span><span class=o>-</span><span class=nx>bind提供一个语法糖</span> <span class=o>:</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>img</span> <span class=nt>:src</span><span class=o>=</span><span class=s>&#34;imgUrl&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>以下报错</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;imgUrl&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>imgUrl</span><span class=o>:</span> <span class=s2>&#34;https://avatars.githubusercontent.com/u/10335230?s=60&amp;v=4&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>link</span><span class=o>:</span> <span class=s2>&#34;https://www.baidu.com&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=绑定-class>绑定 class<a hidden class=anchor aria-hidden=true href=#绑定-class>#</a></h3><ul><li>在开发中,有时候我们的元素 class也是动态的,比如<ul><li>当数据为某个状态时,字体显示红色。</li><li>当数据另一个状态时,字体显示黑色</li></ul></li><li>绑定class有两种方式：<ul><li>对象语法</li><li>数组语法</li></ul></li></ul><h4 id=对象语法>对象语法<a hidden class=anchor aria-hidden=true href=#对象语法>#</a></h4><ul><li>对象语法：我们可以传给 :class (v-bind:class 的简写) 一个对象，以动态地切换 class</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;app&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>:class</span><span class=o>=</span><span class=s>&#34;className&#34;</span><span class=p>&gt;</span>哈哈哈哈<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 对象语法: {&#39;active&#39;: boolean} --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>:class</span><span class=o>=</span><span class=s>&#34;{&#39;active&#39;: isActive}&#34;</span><span class=p>&gt;</span>呵呵呵呵<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;toggle&#34;</span><span class=p>&gt;</span>切换<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 也可以有多个键值对 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>:class</span><span class=o>=</span><span class=s>&#34;{active: isActive, title: true}&#34;</span><span class=p>&gt;</span>呵呵呵呵<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 默认的class和动态的class结合 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;abc cba&#34;</span> <span class=na>:class</span><span class=o>=</span><span class=s>&#34;{active: isActive, title: true}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      呵呵呵呵
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 将对象放到一个单独的属性中 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;abc cba&#34;</span> <span class=na>:class</span><span class=o>=</span><span class=s>&#34;classObj&#34;</span><span class=p>&gt;</span>呵呵呵呵<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 将返回的对象放到一个methods(computed)方法中 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;abc cba&#34;</span> <span class=na>:class</span><span class=o>=</span><span class=s>&#34;getClassObj()&#34;</span><span class=p>&gt;</span>呵呵呵呵<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>template</span><span class=o>:</span> <span class=s2>&#34;#my-app&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>          <span class=nx>className</span><span class=o>:</span> <span class=s2>&#34;why&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>isActive</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>title</span><span class=o>:</span> <span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>classObj</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>active</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>title</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nx>methods</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>toggle</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=k>this</span><span class=p>.</span><span class=nx>isActive</span> <span class=o>=</span> <span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>isActive</span><span class=p>;</span>
</span></span><span class=line><span class=cl>          <span class=k>this</span><span class=p>.</span><span class=nx>classObj</span><span class=p>.</span><span class=nx>active</span> <span class=o>=</span> <span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>classObj</span><span class=p>.</span><span class=nx>active</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>getClassObj</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>classObj</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s2>&#34;#app&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nc>active</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>color</span><span class=p>:</span> <span class=kc>red</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></div><h4 id=数组语法>数组语法<a hidden class=anchor aria-hidden=true href=#数组语法>#</a></h4><ul><li>绑定class – 数组语法<ul><li>数组语法：我们可以把一个数组传给 :class，以应用一个 class 列表</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;app&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>:class</span><span class=o>=</span><span class=s>&#34;[&#39;abc&#39;, title]&#34;</span><span class=p>&gt;</span>哈哈哈哈<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  	<span class=c>&lt;!-- class=&#34;abc cba active&#34; --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>:class</span><span class=o>=</span><span class=s>&#34;[&#39;abc&#39;, title, isActive ? &#39;active&#39;: &#39;&#39;]&#34;</span><span class=p>&gt;</span>哈哈哈哈<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=c>&lt;!-- 可以嵌套对象语法 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>:class</span><span class=o>=</span><span class=s>&#34;[&#39;abc&#39;, title, {active: isActive}]&#34;</span><span class=p>&gt;</span>哈哈哈哈<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Hello World&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>title</span><span class=o>:</span> <span class=s2>&#34;cba&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>isActive</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=绑定-style>绑定 style<a hidden class=anchor aria-hidden=true href=#绑定-style>#</a></h3><ul><li>我们可以利用 <code>v-bind:style</code> 来绑定一些CSS内联样式<ul><li>这次因为某些样式我们需要根据数据动态来决定</li><li>比如某段文字的颜色，大小等等</li></ul></li><li>CSS property 名可以用驼峰式 (camelCase) 或短横线分隔 (kebab-case，记得用引号括起来) 来命名</li><li>绑定class有两种方式<ul><li>对象语法</li><li>数组语法</li></ul></li></ul><blockquote><p>CSS property 名短横线分隔 (kebab-case，记得用引号括起来)</p></blockquote><h4 id=对象语法-1>对象语法<a hidden class=anchor aria-hidden=true href=#对象语法-1>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;app&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=o>:</span><span class=nx>style</span><span class=o>=</span><span class=s2>&#34;{cssPropertyName: cssPropertyValue}&#34;</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=o>:</span><span class=na>style</span><span class=o>=</span><span class=s>&#34;{color: finalColor, &#39;font-size&#39;: &#39;30px&#39;}&#34;</span><span class=p>&gt;</span><span class=nx>哈哈哈哈</span><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=o>:</span><span class=na>style</span><span class=o>=</span><span class=s>&#34;{color: finalColor, fontSize: &#39;30px&#39;}&#34;</span><span class=p>&gt;</span><span class=nx>哈哈哈哈</span><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=o>:</span><span class=na>style</span><span class=o>=</span><span class=s>&#34;{color: finalColor, fontSize: finalFontSize + &#39;px&#39;}&#34;</span><span class=p>&gt;</span><span class=nx>哈哈哈哈</span><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>绑定一个data中的属性值</span><span class=p>,</span> <span class=nx>并且是一个对象</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=nt>:style</span><span class=o>=</span><span class=s>&#34;finalStyleObj&#34;</span><span class=p>&gt;</span><span class=nx>呵呵呵呵</span><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>调用一个方法</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=nt>:style</span><span class=o>=</span><span class=s>&#34;getFinalStyleObj()&#34;</span><span class=p>&gt;</span><span class=nx>呵呵呵呵</span><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Hello World&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>finalColor</span><span class=o>:</span> <span class=s1>&#39;red&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>finalFontSize</span><span class=o>:</span> <span class=mi>50</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>finalStyleObj</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;font-size&#39;</span><span class=o>:</span> <span class=s1>&#39;50px&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>fontWeight</span><span class=o>:</span> <span class=mi>700</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>backgroundColor</span><span class=o>:</span> <span class=s1>&#39;red&#39;</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nx>methods</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>getFinalStyleObj</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;font-size&#39;</span><span class=o>:</span> <span class=s1>&#39;50px&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>fontWeight</span><span class=o>:</span> <span class=mi>700</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>backgroundColor</span><span class=o>:</span> <span class=s1>&#39;red&#39;</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></div><h4 id=数组语法-1>数组语法<a hidden class=anchor aria-hidden=true href=#数组语法-1>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;app&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=o>:</span><span class=na>style</span><span class=o>=</span><span class=s>&#34;[style1Obj, style2Obj]&#34;</span><span class=p>&gt;</span><span class=nx>哈哈哈</span><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Hello World&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>style1Obj</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>color</span><span class=o>:</span> <span class=s1>&#39;red&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>fontSize</span><span class=o>:</span> <span class=s1>&#39;30px&#39;</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=nx>style2Obj</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>textDecoration</span><span class=o>:</span> <span class=s2>&#34;underline&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=err>/body</span>
</span></span></code></pre></div><h3 id=动态绑定属性>动态绑定属性<a hidden class=anchor aria-hidden=true href=#动态绑定属性>#</a></h3><ul><li>在某些情况下，我们属性的名称可能也不是固定的<ul><li>前端我们无论绑定src、href、class、style，属性名称都是固定的</li><li>如果属性名称不是固定的，我们可以使用 :[属性名]=“值” 的格式来定义</li><li>这种绑定的方式，我们称之为 <code>动态绑定属性</code>；如下:</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;app&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- &lt;div cba=&#34;kobe&#34;&gt;哈哈哈&lt;/div&gt; --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>:</span><span class=err>[</span><span class=na>name</span><span class=err>]=&#34;</span><span class=na>value</span><span class=err>&#34;</span><span class=p>&gt;</span>哈哈哈<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>img</span> <span class=na>:src</span><span class=o>=</span><span class=s>&#34;&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>a</span> <span class=na>:href</span><span class=o>=</span><span class=s>&#34;&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>:class</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;cba&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>value</span><span class=o>:</span> <span class=s2>&#34;kobe&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=属性直接绑定一个对象>属性直接绑定一个对象<a hidden class=anchor aria-hidden=true href=#属性直接绑定一个对象>#</a></h3><ul><li>如果我们希望将一个对象的所有属性，绑定到元素上的所有属性，应该怎么做呢？<ul><li>非常简单，我们可以直接使用 v-bind 绑定一个 对象</li></ul></li><li>案例：info对象会被拆解成div的各个属性</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;app&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=c>&lt;!-- &lt;div name=&#34;why&#34; age=&#34;18&#34; height=&#34;1.88&#34;&gt;哈哈哈哈&lt;/div&gt; --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>v-bind</span><span class=o>=</span><span class=s>&#34;info&#34;</span><span class=p>&gt;</span>哈哈哈哈<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>:</span><span class=o>=</span><span class=s>&#34;info&#34;</span><span class=p>&gt;</span>哈哈哈哈<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>info</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;why&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>age</span><span class=o>:</span> <span class=mi>18</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>height</span><span class=o>:</span> <span class=mf>1.88</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></div><h2 id=v-on>v-on<a hidden class=anchor aria-hidden=true href=#v-on>#</a></h2><ul><li><p>v-on绑定事件</p><ul><li>前面我们绑定了元素的内容和属性，在前端开发中另外一个非常重要的特性就是交互。</li><li>在前端开发中，我们需要经常和用户进行各种各样的交互<ul><li>这个时候，我们就必须监听用户发生的事件，比如点击、拖拽、键盘事件等等</li><li>在Vue中如何监听事件呢？使用v-on指令。</li></ul></li></ul></li><li><p>v-on的用法</p><ul><li>缩写：@</li><li>预期：Function | Inline Statement | Object</li><li>参数：event p 修饰符：<ul><li>.stop - 调用 event.stopPropagation()。</li><li>.prevent - 调用 event.preventDefault()。</li><li>.capture - 添加事件侦听器时使用 capture 模式。</li><li>.self - 只当事件是从侦听器绑定的元素本身触发时才触发回调。</li><li>.{keyAlias} - 仅当事件是从特定键触发时才触发回调。</li><li>.once - 只触发一次回调。</li><li>.left - 只当点击鼠标左键时触发。</li><li>.right - 只当点击鼠标右键时触发。</li><li>.middle - 只当点击鼠标中键时触发。</li><li>.passive - { passive: true } 模式添加侦听器</li></ul></li></ul><ul><li>用法：绑定事件监听</li></ul></li></ul><blockquote><p>event 事件可以参考 <a href=https://developer.mozilla.org/en-US/docs/Web/Events>https://developer.mozilla.org/en-US/docs/Web/Events</a></p></blockquote><h3 id=基本使用-1>基本使用<a hidden class=anchor aria-hidden=true href=#基本使用-1>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;app&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 完整写法: v-on:监听的事件=&#34;methods中方法&#34; --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span> <span class=na>v-on:click</span><span class=o>=</span><span class=s>&#34;btn1Click&#34;</span><span class=p>&gt;</span>按钮1<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;area&#34;</span> <span class=na>v-on:mousemove</span><span class=o>=</span><span class=s>&#34;mouseMove&#34;</span><span class=p>&gt;</span>div<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 语法糖 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;btn1Click&#34;</span><span class=p>&gt;</span>按钮1<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 绑定一个表达式: inline statement --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;counter++&#34;</span><span class=p>&gt;</span>{{counter}}<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- 绑定一个对象 --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;area&#34;</span> <span class=na>v-on</span><span class=o>=</span><span class=s>&#34;{click: btn1Click, mousemove: mouseMove}&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;area&#34;</span> <span class=err>@=&#34;{</span><span class=na>click:</span> <span class=na>btn1Click</span><span class=err>,</span> <span class=na>mousemove:</span> <span class=na>mouseMove</span><span class=err>}&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Hello World&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>counter</span><span class=o>:</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nx>methods</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>btn1Click</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;按钮1发生了点击&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>mouseMove</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;鼠标移动&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=参数传递>参数传递<a hidden class=anchor aria-hidden=true href=#参数传递>#</a></h3><ul><li>当通过methods中定义方法，以供 <code>@click</code>调用时，需要注意参数问题：</li><li>情况一：如果该方法不需要额外参数，那么方法后的()可以不添加。<ul><li>但是注意：如果方法本身中有一个参数，那么会默认将原生事件event参数传递进去</li></ul></li><li>情况二：如果需要同时传入某个参数，同时需要 <code>event</code> 时，可以通过 <code>$event</code> 传入事件。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;app&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>默认传入event对象</span><span class=p>,</span> <span class=nx>可以在方法中获取</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span> <span class=nt>@click</span><span class=s>=&#34;btn1Click&#34;</span><span class=p>&gt;</span><span class=na>按钮1</span><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=err>&lt;!--</span> <span class=err>$</span><span class=na>event可以获取到事件发生时的事件对象</span> <span class=err>--</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;btn2Click($event, &#39;coderwhy&#39;, 18)&#34;</span><span class=p>&gt;</span><span class=nx>按钮2</span><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Hello World&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nx>methods</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>btn1Click</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>event</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>btn2Click</span><span class=p>(</span><span class=nx>event</span><span class=p>,</span> <span class=nx>name</span><span class=p>,</span> <span class=nx>age</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>name</span><span class=p>,</span> <span class=nx>age</span><span class=p>,</span> <span class=nx>event</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></div><p><img alt=image-20231019004604619 loading=lazy src=https://qiniu.waite.wang/202310190046946.png></p><h3 id=v-on-的修饰符>v-on <strong>的修饰符</strong><a hidden class=anchor aria-hidden=true href=#v-on-的修饰符>#</a></h3><ul><li>v-on支持修饰符，修饰符相当于对事件进行了一些特殊的处理：<ul><li>.stop - 调用 event.stopPropagation()。</li><li>.prevent - 调用 event.preventDefault()。</li><li>.capture - 添加事件侦听器时使用 capture 模式。</li><li>.self - 只当事件是从侦听器绑定的元素本身触发时才触发回调。</li><li>.{keyAlias} - 仅当事件是从特定键触发时才触发回调。</li><li>.once - 只触发一次回调。</li><li>.left - 只当点击鼠标左键时触发。</li><li>.right - 只当点击鼠标右键时触发。</li><li>.middle - 只当点击鼠标中键时触发。</li><li>.passive - { passive: true } 模式添加侦听器</li></ul></li></ul><blockquote><p><code>stopPropagation</code> 是一个事件修饰符，用于阻止事件冒泡。在 Vue.js 中，当一个元素上的事件被触发时，它会先执行该元素上的事件处理函数，然后再冒泡到该元素的父元素，继续执行父元素的事件处理函数。使用 <code>stopPropagation</code> 可以阻止事件继续冒泡到父元素。在给元素绑定事件时，可以使用 <code>@click.stop</code> 来阻止 <code>click</code> 事件冒泡到父元素。</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;app&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;divClick&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;btnClick&#34;</span><span class=p>&gt;</span>按钮<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=err>.</span><span class=na>stop</span><span class=o>=</span><span class=s>&#34;btnClick&#34;</span><span class=p>&gt;</span>按钮<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text&#34;</span> <span class=err>@</span><span class=na>keyup</span><span class=err>.</span><span class=na>enter</span><span class=o>=</span><span class=s>&#34;enterKeyup&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>message</span><span class=o>:</span> <span class=s2>&#34;Hello World&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nx>methods</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>divClick</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;divClick&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>btnClick</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;btnClick&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>enterKeyup</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;keyup&#34;</span><span class=p>,</span> <span class=nx>event</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></div><p><img alt=image-20231019005251770 loading=lazy src=https://qiniu.waite.wang/202310190052768.png></p><h2 id=条件渲染>条件渲染<a hidden class=anchor aria-hidden=true href=#条件渲染>#</a></h2><ul><li>在某些情况下，我们需要根据当前的条件决定某些元素或组件是否渲染，这个时候我们就需要进行条件判断了。<ul><li>Vue提供了下面的指令来进行条件判断：<ul><li>v-if</li><li>v-else</li><li>v-else-if</li><li>v-show</li></ul></li></ul></li></ul><h3 id=基本使用-2>基本使用<a hidden class=anchor aria-hidden=true href=#基本使用-2>#</a></h3><ul><li>v-if、v-else、v-else-if用于根据条件来渲染某一块的内容：<ul><li>这些内容只有在条件为true时，才会被渲染出来；</li><li>这三个指令与JavaScript的条件语句if、else、else if类似；</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl> <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text&#34;</span> <span class=na>v-model</span><span class=o>=</span><span class=s>&#34;score&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>h2</span> <span class=na>v-if</span><span class=o>=</span><span class=s>&#34;score &gt; 90&#34;</span><span class=p>&gt;</span>优秀<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>h2</span> <span class=na>v-else-if</span><span class=o>=</span><span class=s>&#34;score &gt; 60&#34;</span><span class=p>&gt;</span>良好<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>h2</span> <span class=na>v-else</span><span class=p>&gt;</span>不及格<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>score</span><span class=o>:</span> <span class=mi>95</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=template-和--v-if--结合使用>template 和 v-if 结合使用<a hidden class=anchor aria-hidden=true href=#template-和--v-if--结合使用>#</a></h3><ul><li>v-if的渲染原理：<ul><li>v-if是惰性的；</li><li>当条件为false时，其判断的内容完全不会被渲染或者会被销毁掉；</li><li>当条件为true时，才会真正渲染条件块中的内容;</li></ul></li><li>template元素<ul><li>因为v-if是一个指令，所以必须将其添加到一个元素上：<ul><li>但是如果我们希望切换的是多个元素呢？</li><li>此时我们渲染div，但是我们并不希望div这种元素被渲染；</li><li>这个时候，我们可以选择使用template；</li></ul></li><li>template元素可以当做不可见的包裹元素，并且在v-if上使用，但是最终template不会被渲染出来：<ul><li>有点类似于小程序中的block</li></ul></li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>  
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;app&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>template</span> <span class=na>v-if</span><span class=o>=</span><span class=s>&#34;isShowHa&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>哈哈哈哈<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>哈哈哈哈<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>哈哈哈哈<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>template</span> <span class=na>v-else</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>呵呵呵呵<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>呵呵呵呵<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>呵呵呵呵<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;isShowHa = !isShowHa&#34;</span><span class=p>&gt;</span>切换<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>isShowHa</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=v-show>v-show<a hidden class=anchor aria-hidden=true href=#v-show>#</a></h3><ul><li>v-show和v-if的用法看起来是一致的，也是根据一个条件决定是否显示元素或者组件</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl> <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>h2</span> <span class=na>v-show</span><span class=o>=</span><span class=s>&#34;isShow&#34;</span><span class=p>&gt;</span>哈哈哈哈<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=v-show和v-if的区别>v-show和v-if的区别<a hidden class=anchor aria-hidden=true href=#v-show和v-if的区别>#</a></h3><ul><li>首先，在用法上的区别：<ul><li>v-show是不支持template；</li><li>v-show不可以和v-else一起使用；</li></ul></li><li>其次，本质的区别：<ul><li>v-show元素无论是否需要显示到浏览器上，它的DOM实际都是有渲染的，只是通过CSS的display属性来进行 切换；</li><li>v-if当条件为false时，其对应的元素压根不会被渲染到DOM中；</li></ul></li><li>开发中如何进行选择呢？<ul><li>如果我们的元素需要在显示和隐藏之间频繁的切换，那么使用v-show；</li><li>如果不会频繁的发生切换，那么使用v-if；</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h2</span> <span class=na>v-if</span><span class=o>=</span><span class=s>&#34;isShow&#34;</span><span class=p>&gt;</span>哈哈哈哈<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h2</span> <span class=na>v-show</span><span class=o>=</span><span class=s>&#34;isShow&#34;</span><span class=p>&gt;</span>呵呵呵呵<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span></code></pre></div><p><img alt=image-20231019222841008 loading=lazy src=https://qiniu.waite.wang/202310192228448.png></p><h2 id=列表渲染>列表渲染<a hidden class=anchor aria-hidden=true href=#列表渲染>#</a></h2><ul><li>在真实开发中，我们往往会从服务器拿到一组数据，并且需要对其进行渲染。<ul><li>这个时候我们可以使用v-for来完成；</li><li>v-for类似于JavaScript的for循环，可以用于遍历一组数据；</li></ul></li></ul><h3 id=基本使用-3>基本使用<a hidden class=anchor aria-hidden=true href=#基本使用-3>#</a></h3><ul><li><p>n v-for的基本格式是 &ldquo;item in 数组&rdquo;：</p><ul><li>数组通常是来自data或者prop，也可以是其他方式；</li><li>item是我们给每项元素起的一个别名，这个别名可以自定来定义；</li></ul></li><li><p>我们知道，在遍历一个数组的时候会经常需要拿到数组的索引：</p><ul><li>如果我们需要索引，可以使用格式： &ldquo;(item, index) in 数组&rdquo;；</li><li>注意上面的顺序：数组元素项item是在前面的，索引项index是在后面的；</li></ul></li><li><p>v-for支持的类型</p><ul><li>v-for也支持遍历对象，并且支持有一二三个参数：<ul><li>一个参数： &ldquo;value in object&rdquo;;</li><li>二个参数： &ldquo;(value, key) in object&rdquo;;</li><li>三个参数： &ldquo;(value, key, index) in object&rdquo;;</li></ul></li><li>v-for同时也支持数字的遍历：<ul><li>每一个item都是一个数字；</li></ul></li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;app&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>电影列表<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=c>&lt;!-- 遍历数组 --&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>li</span> <span class=na>v-for</span><span class=o>=</span><span class=s>&#34;(movie, index) in movies&#34;</span><span class=p>&gt;</span>{{index+1}}.{{movie}}<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>个人信息<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=c>&lt;!-- 遍历对象 --&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>li</span> <span class=na>v-for</span><span class=o>=</span><span class=s>&#34;(value, key, index) in info&#34;</span><span class=p>&gt;</span>{{value}}-{{key}}-{{index}}<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>遍历数字<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>li</span> <span class=na>v-for</span><span class=o>=</span><span class=s>&#34;(num, index) in 10&#34;</span><span class=p>&gt;</span>{{num}}-{{index}}<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>movies</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;星际穿越&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;盗梦空间&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;大话西游&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;教父&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;少年派&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=cl>          <span class=nx>info</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;why&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>age</span><span class=o>:</span> <span class=mi>18</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>height</span><span class=o>:</span> <span class=mf>1.88</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=template元素使用>template元素使用<a hidden class=anchor aria-hidden=true href=#template元素使用>#</a></h3><ul><li>类似于v-if，你可以使用 template 元素来循环渲染一段包含多个元素的内容：<ul><li>我们使用template来对多个元素进行包裹，而不是使用div来完成；</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;app&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;(value, key) in info&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;{{</span><span class=nx>key</span><span class=p>}}&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;{{</span><span class=nx>value</span><span class=p>}}&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>li</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;divider&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>info</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;why&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>age</span><span class=o>:</span> <span class=mi>18</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>height</span><span class=o>:</span> <span class=mf>1.88</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=数组更新检测>数组更新检测<a hidden class=anchor aria-hidden=true href=#数组更新检测>#</a></h3><ul><li>Vue 将被侦听的数组的变更方法进行了包裹，所以它们也将会触发视图更新。这些被包裹过的方法包括：<ul><li>push()</li><li>pop()</li><li>shift()</li><li>unshift()</li><li>splice()</li><li>sort()</li><li>reverse()</li></ul></li><li>替换数组的方法<ul><li>上面的方法会直接修改原来的数组，但是某些方法不会替换原来的数组，而是会生成新的数组，比如 filter()、 concat() 和 slice()。</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;app&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span><span class=nx>电影列表</span><span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>li</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;(movie, index) in movies&#34;</span><span class=p>&gt;{{</span><span class=na>index</span><span class=err>+</span><span class=na>1</span><span class=p>}}</span><span class=na>.</span><span class=p>{{</span><span class=na>movie</span><span class=p>}}&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text&#34;</span> <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;newMovie&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span> <span class=nt>@click</span><span class=s>=&#34;addMovie&#34;</span><span class=p>&gt;</span><span class=na>添加电影</span><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>newMovie</span><span class=o>:</span> <span class=s2>&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>movies</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;星际穿越&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;盗梦空间&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;大话西游&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;教父&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;少年派&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nx>methods</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>addMovie</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=k>this</span><span class=p>.</span><span class=nx>movies</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>newMovie</span><span class=p>);</span>
</span></span><span class=line><span class=cl>          <span class=k>this</span><span class=p>.</span><span class=nx>newMovie</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=c1>// filter 是过滤的意思, 下文中的代码的意思是: 过滤掉长度小于等于2的电影
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=c1>// this.movies = this.movies.filter(item =&gt; item.length &gt; 2);
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=v-for-中的-key-是什么作用>v-for 中的 key 是什么作用？<a hidden class=anchor aria-hidden=true href=#v-for-中的-key-是什么作用>#</a></h3><blockquote><p><a href=https://cn.vuejs.org/api/built-in-special-attributes.html#key>https://cn.vuejs.org/api/built-in-special-attributes.html#key</a></p></blockquote><ul><li><p>在使用v-for进行列表渲染时，我们通常会给元素或者组件绑定一个key属性。</p></li><li><p>这个key属性有什么作用呢？我们先来看一下官方的解释：</p><ul><li><p>key属性主要用在Vue的虚拟DOM算法，在新旧nodes对比时辨识VNodes；</p></li><li><p>如果不使用key，Vue会使用一种最大限度减少动态元素并且尽可能的尝试就地修改/复用相同类型元素的算法；</p></li><li><p>而使用key时，它会基于key的变化重新排列元素顺序，并且会移除/销毁key不存在的元素；</p></li></ul></li><li><p>官方的解释对于初学者来说并不好理解，比如下面的问题：</p><ul><li>什么是新旧nodes，什么是VNode？</li><li>没有key的时候，如何尝试修改和复用的？</li><li>有key的时候，如何基于key重新排列的？</li></ul></li></ul><h4 id=认识-vnode>认识 VNode<a hidden class=anchor aria-hidden=true href=#认识-vnode>#</a></h4><ul><li>我们先来解释一下VNode的概念：<ul><li>因为目前我们还没有比较完整的学习组件的概念，所以目前我们先理解HTML元素创建出来的VNode；</li><li>VNode的全称是Virtual Node，也就是虚拟节点；</li><li>事实上，无论是组件还是元素，它们最终在Vue中表示出来的都是一个个VNode；</li><li>VNode的本质是一个JavaScript的对象；可以用于描述某一个标签/ 元素 的样子</li><li>好处: 多平台的渲染, 跨平台(主要好处)</li></ul></li></ul><p><img alt=image-20231020162812819 loading=lazy src=https://qiniu.waite.wang/202310201628396.png></p><h4 id=虚拟-dom>虚拟 DOM<a hidden class=anchor aria-hidden=true href=#虚拟-dom>#</a></h4><ul><li>如果我们不只是一个简单的div，而是有一大堆的元素，那么它们应该会形成一个 VNode Tree</li><li>虚拟 DOM 与 真实 DOM 不一定一一对应</li></ul><p><img alt=image-20231020163154944 loading=lazy src=https://qiniu.waite.wang/202310201631261.png></p><h4 id=插入-f-的案例>插入 F 的案例<a hidden class=anchor aria-hidden=true href=#插入-f-的案例>#</a></h4><ul><li><p>我们先来看一个案例：这个案例是当我点击按钮时会在中间插入一个f；</p></li><li><p>我们可以确定的是，这次更新对于ul和button是不需要进行更新，需要更新的是我们 li 的列表：</p><ul><li><p>在Vue中，对于相同父元素的子元素节点并不会重新渲染整个列 表；</p></li><li><p>因为对于列表中 a、b、c、d它们都是没有变化的；</p></li><li><p>在操作真实DOM的时候，我们只需要在中间插入一个 f 的 li 即可；</p></li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;app&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>template</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;my-app&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>li</span> <span class=nt>v-for</span><span class=s>=&#34;item in letters&#34; </span><span class=nt>:key</span><span class=s>=&#34;item&#34;</span><span class=p>&gt;{{</span><span class=na>item</span><span class=p>}}&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span> <span class=nt>@click</span><span class=s>=&#34;insertF&#34;</span><span class=p>&gt;</span><span class=na>插入F元素</span><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../js/vue.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>App</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;#my-app&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>letters</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>,</span> <span class=s1>&#39;d&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nx>methods</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>insertF</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=k>this</span><span class=p>.</span><span class=nx>letters</span><span class=p>.</span><span class=nx>splice</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=s1>&#39;f&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>Vue</span><span class=p>.</span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></div><ul><li>那么Vue中对于列表的更新究竟是如何操作的呢？<ul><li>Vue事实上会对于有key和没有key会调用两个不同的方法；</li></ul></li></ul><h5 id=vue源码对于key的判断>Vue源码对于key的判断<a hidden class=anchor aria-hidden=true href=#vue源码对于key的判断>#</a></h5><ul><li>有key，那么就使用 patchKeyedChildren方法；</li><li>没有key，那么久使用 patchUnkeyedChildren方法；</li></ul><p><img alt=image-20231020164733530 loading=lazy src=https://qiniu.waite.wang/202310201647317.png></p><blockquote><p>diff算法: diff 算法是指生成更新补丁的方式,主要应用于虚拟 DOM 树变化后,更新真实 DOM。所以 diff 算法一定存在这样一个过程:触发更新 → 生成补丁 → 应用补丁。</p></blockquote><ul><li>没有key的操作过程</li></ul><p><img alt=image-20231022182341619 loading=lazy src=https://qiniu.waite.wang/202310221823690.png></p><ul><li>我们会发现上面的diff算法效率并不高：<ul><li>c和d来说它们事实上并不需要有任何的改动；</li><li>但是因为我们的c被f所使用了，所有后续所有的内容都要一次进行改动，并且最后进行新增；</li></ul></li></ul><p><img alt=image-20231022182012027 loading=lazy src=https://qiniu.waite.wang/202310221820519.png></p><ul><li>有key的操作过程-diff算法<ul><li>第一步的操作是从头开始进行遍历、比较：<ul><li>a和b是一致的会继续进行比较；</li><li>c和f因为key不一致，所以就会break跳出循环</li></ul></li><li>第二步的操作是从尾部开始进行遍历、比较</li><li>第三步是如果旧节点遍历完毕，但是依然有新的节点，那么就新增节点：</li><li>第四步是如果新的节点遍历完毕，但是依然有旧的节点，那么就移除旧节点：</li><li>第五步是最特色的情况，中间还有很多未知的或者乱序的节点：</li></ul></li></ul><p><img alt=image-20231022182232738 loading=lazy src=https://qiniu.waite.wang/202310221822567.png></p><p><img alt=image-20231022182140133 loading=lazy src=https://qiniu.waite.wang/202310221821946.png></p><p><img alt=image-20231022182241976 loading=lazy src=https://qiniu.waite.wang/202310221822262.png></p><p><img alt=image-20231022182251535 loading=lazy src=https://qiniu.waite.wang/202310221822079.png></p><p><img alt=image-20231022182300781 loading=lazy src=https://qiniu.waite.wang/202310221823627.png></p><h5 id=有无key的结论>有无key的结论<a hidden class=anchor aria-hidden=true href=#有无key的结论>#</a></h5><ul><li>有无key的结论<ul><li>所以我们可以发现，Vue在进行diff算法的时候，会尽量利用我们的key来进行优化操作：<ul><li>在没有key的时候我们的效率是非常低效的；</li><li>在进行插入或者重置顺序的时候，保持相同的key可以让diff算法更加的高效；</li></ul></li></ul></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://waite.wang/tags/vue3/>Vue3</a></li></ul><nav class=paginav><a class=prev href=https://waite.wang/posts/web/pinia-plugin-persistedstate/><span class=title>« 上一页</span><br><span>Pinia 数据持久化储存（pinia-plugin-persistedstate）</span>
</a><a class=next href=https://waite.wang/posts/web/vue3-learn-1/><span class=title>下一页 »</span><br><span>邂逅 Vue3 开发(一)</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://waite.wang/>隶笔难书</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>